const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-CpxcuVKi.js","assets/icons-DCxkC3Ow.js","assets/Panel-p42_iV9w.js","assets/StatCard-xs49ARkt.js","assets/EmptyState-D8Qnptl8.js","assets/vendor-DxYwK_Rn.js","assets/ApplicationsList-BD9wGTA3.js","assets/CopyableId-s43Cv2d2.js","assets/NewApplication-DAL5D2HA.js","assets/ApplicationDetail-Bz0mz2v9.js","assets/CAT72Console-wj5izQ0-.js","assets/CertificatesPage-CzYLekii.js","assets/Badge-DOfG_5JD.js","assets/VerifyPage-B6-44U0H.js","assets/PendingPage-CNmlSRs-.js","assets/ResourcesPage-v8ezEkML.js","assets/EnveloPage-JVWaHxgZ.js","assets/SectionHeader-Dj1td-uE.js","assets/MonitoringPage-B9mmCDT4.js","assets/UserManagementPage-B3Lnb_fo.js","assets/LicenseesPage-CTttrYxc.js","assets/ActivityPage-Cbjjoor2.js","assets/MyActivityPage-DkYYFYzF.js","assets/SettingsPage-CHoeGuZf.js","assets/NotFoundPage-D3mh9or0.js","assets/ApiDocsPage-wtyXkkhy.js","assets/ResetPasswordPage-DAEMPUlZ.js"])))=>i.map(i=>d[i]);
var Lc=e=>{throw TypeError(e)};var ro=(e,t,n)=>t.has(e)||Lc("Cannot "+n);var _=(e,t,n)=>(ro(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Lc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),L=(e,t,n,r)=>(ro(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),se=(e,t,n)=>(ro(e,t,"access private method"),n);var js=(e,t,n,r)=>({set _(s){L(e,t,s,n)},get _(){return _(e,t,r)}});import{r as b,R as an,a as qh,b as Vh,C as Gh,S as Kh,H as Yh,F as Jh,B as Xh,A as Qh,U as Zh,c as em,E as Dc,X as tm,L as nm,M as rm,d as sm,e as im,f as om}from"./icons-DCxkC3Ow.js";import{r as am,R as cm}from"./vendor-DxYwK_Rn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var pd={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=b,lm=Symbol.for("react.element"),dm=Symbol.for("react.fragment"),fm=Object.prototype.hasOwnProperty,pm=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hm={key:!0,ref:!0,__self:!0,__source:!0};function hd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fm.call(t,r)&&!hm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:lm,type:e,key:i,ref:o,props:s,_owner:pm.current}}Oi.Fragment=dm;Oi.jsx=hd;Oi.jsxs=hd;pd.exports=Oi;var p=pd.exports,Co={},Fc=am;Co.createRoot=Fc.createRoot,Co.hydrateRoot=Fc.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mm={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qt,Ca,nd,gm=(nd=class{constructor(){$(this,qt,mm);$(this,Ca,!1)}setTimeoutProvider(e){L(this,qt,e)}setTimeout(e,t){return _(this,qt).setTimeout(e,t)}clearTimeout(e){_(this,qt).clearTimeout(e)}setInterval(e,t){return _(this,qt).setInterval(e,t)}clearInterval(e){_(this,qt).clearInterval(e)}},qt=new WeakMap,Ca=new WeakMap,nd),bn=new gm;function ym(e){setTimeout(e,0)}var jn=typeof window>"u"||"Deno"in globalThis;function He(){}function _m(e,t){return typeof e=="function"?e(t):e}function Ao(e){return typeof e=="number"&&e>=0&&e!==1/0}function md(e,t){return Math.max(e+(t||0)-Date.now(),0)}function en(e,t){return typeof e=="function"?e(t):e}function nt(e,t){return typeof e=="function"?e(t):e}function jc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Aa(o,t.options))return!1}else if(!Qr(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Bc(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Xr(t.options.mutationKey)!==Xr(i))return!1}else if(!Qr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Aa(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xr)(e)}function Xr(e){return JSON.stringify(e,(t,n)=>Po(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qr(e[n],t[n])):!1}var Sm=Object.prototype.hasOwnProperty;function gd(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Uc(e)&&Uc(t);if(!r&&!(Po(e)&&Po(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,c=r?new Array(a):{};let u=0;for(let d=0;d<a;d++){const l=r?d:o[d],f=e[l],m=t[l];if(f===m){c[l]=f,(r?d<i:Sm.call(e,l))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){c[l]=m;continue}const h=gd(f,m,n+1);c[l]=h,h===f&&u++}return i===a&&u===i?e:c}function Oo(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Uc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Po(e){if(!$c(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$c(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $c(e){return Object.prototype.toString.call(e)==="[object Object]"}function bm(e){return new Promise(t=>{bn.setTimeout(t,e)})}function Mo(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?gd(e,t):t}function Em(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vm(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Oa=Symbol();function yd(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Oa?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function _d(e,t){return typeof e=="function"?e(...t):!!e}function xm(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var wn,Vt,cr,rd,wm=(rd=class extends ms{constructor(){super();$(this,wn);$(this,Vt);$(this,cr);L(this,cr,t=>{if(!jn&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,Vt)||this.setEventListener(_(this,cr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Vt))==null||t.call(this),L(this,Vt,void 0))}setEventListener(t){var n;L(this,cr,t),(n=_(this,Vt))==null||n.call(this),L(this,Vt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){_(this,wn)!==t&&(L(this,wn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _(this,wn)=="boolean"?_(this,wn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wn=new WeakMap,Vt=new WeakMap,cr=new WeakMap,rd),Pa=new wm;function No(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Tm=ym;function Im(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Tm;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ce=Im(),ur,Gt,lr,sd,Rm=(sd=class extends ms{constructor(){super();$(this,ur,!0);$(this,Gt);$(this,lr);L(this,lr,t=>{if(!jn&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Gt)||this.setEventListener(_(this,lr))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Gt))==null||t.call(this),L(this,Gt,void 0))}setEventListener(t){var n;L(this,lr,t),(n=_(this,Gt))==null||n.call(this),L(this,Gt,t(this.setOnline.bind(this)))}setOnline(t){_(this,ur)!==t&&(L(this,ur,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return _(this,ur)}},ur=new WeakMap,Gt=new WeakMap,lr=new WeakMap,sd),di=new Rm;function km(e){return Math.min(1e3*2**e,3e4)}function Sd(e){return(e??"online")==="online"?di.isOnline():!0}var Lo=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bd(e){let t=!1,n=0,r;const s=No(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const S=new Lo(g);f(S),(y=e.onCancel)==null||y.call(e,S)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Pa.isFocused()&&(e.networkMode==="always"||di.isOnline())&&e.canRun(),d=()=>Sd(e.networkMode)&&e.canRun(),l=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var y;r=S=>{(i()||u())&&g(S)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),h=()=>{if(i())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(S){g=Promise.reject(S)}Promise.resolve(g).then(l).catch(S=>{var R;if(i())return;const T=e.retry??(jn?0:3),I=e.retryDelay??km,w=typeof I=="function"?I(n,S):I,P=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,S);if(t||!P){f(S);return}n++,(R=e.onFail)==null||R.call(e,n,S),bm(w).then(()=>u()?void 0:m()).then(()=>{t?f(S):h()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?h():m().then(h),s)}}var Tn,id,Ed=(id=class{constructor(){$(this,Tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ao(this.gcTime)&&L(this,Tn,bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jn?1/0:5*60*1e3))}clearGcTimeout(){_(this,Tn)&&(bn.clearTimeout(_(this,Tn)),L(this,Tn,void 0))}},Tn=new WeakMap,id),In,dr,tt,Rn,Re,ls,kn,ut,Rt,od,Cm=(od=class extends Ed{constructor(t){super();$(this,ut);$(this,In);$(this,dr);$(this,tt);$(this,Rn);$(this,Re);$(this,ls);$(this,kn);L(this,kn,!1),L(this,ls,t.defaultOptions),this.setOptions(t.options),this.observers=[],L(this,Rn,t.client),L(this,tt,_(this,Rn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,L(this,In,zc(this.options)),this.state=t.state??_(this,In),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,Re))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,ls),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=zc(this.options);n.data!==void 0&&(this.setState(Hc(n.data,n.dataUpdatedAt)),L(this,In,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,tt).remove(this)}setData(t,n){const r=Mo(this.state.data,t,this.options);return se(this,ut,Rt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){se(this,ut,Rt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=_(this,Re))==null?void 0:r.promise;return(s=_(this,Re))==null||s.cancel(t),n?n.then(He).catch(He):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,In))}isActive(){return this.observers.some(t=>nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oa||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>en(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!md(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Re))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_(this,Re))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(_(this,Re)&&(_(this,kn)?_(this,Re).cancel({revert:!0}):_(this,Re).cancelRetry()),this.scheduleGc()),_(this,tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,ut,Rt).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,l,f,m,h,g,y,S,T,I;if(this.state.fetchStatus!=="idle"&&((c=_(this,Re))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,Re))return _(this,Re).continueRetry(),_(this,Re).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(P=>P.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(L(this,kn,!0),r.signal)})},i=()=>{const w=yd(this.options,n),R=(()=>{const x={client:_(this,Rn),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return L(this,kn,!1),this.options.persister?this.options.persister(w,R,this):w(R)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,Rn),state:this.state,fetchFn:i};return s(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),L(this,dr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&se(this,ut,Rt).call(this,{type:"fetch",meta:(l=a.fetchOptions)==null?void 0:l.meta}),L(this,Re,bd({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof Lo&&w.revert&&this.setState({..._(this,dr),fetchStatus:"idle"}),r.abort()},onFail:(w,P)=>{se(this,ut,Rt).call(this,{type:"failed",failureCount:w,error:P})},onPause:()=>{se(this,ut,Rt).call(this,{type:"pause"})},onContinue:()=>{se(this,ut,Rt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await _(this,Re).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(f=_(this,tt).config).onSuccess)==null||m.call(f,w,this),(g=(h=_(this,tt).config).onSettled)==null||g.call(h,w,this.state.error,this),w}catch(w){if(w instanceof Lo){if(w.silent)return _(this,Re).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw se(this,ut,Rt).call(this,{type:"error",error:w}),(S=(y=_(this,tt).config).onError)==null||S.call(y,w,this),(I=(T=_(this,tt).config).onSettled)==null||I.call(T,this.state.data,w,this),w}finally{this.scheduleGc()}}},In=new WeakMap,dr=new WeakMap,tt=new WeakMap,Rn=new WeakMap,Re=new WeakMap,ls=new WeakMap,kn=new WeakMap,ut=new WeakSet,Rt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vd(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Hc(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return L(this,dr,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ce.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,tt).notify({query:this,type:"updated",action:t})})},od);function vd(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hc(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $e,ie,ds,Le,Cn,fr,Ct,Kt,fs,pr,hr,An,On,Yt,mr,de,Vr,Do,Fo,jo,Bo,Uo,$o,Ho,xd,ad,Am=(ad=class extends ms{constructor(t,n){super();$(this,de);$(this,$e);$(this,ie);$(this,ds);$(this,Le);$(this,Cn);$(this,fr);$(this,Ct);$(this,Kt);$(this,fs);$(this,pr);$(this,hr);$(this,An);$(this,On);$(this,Yt);$(this,mr,new Set);this.options=n,L(this,$e,t),L(this,Kt,null),L(this,Ct,No()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,ie).addObserver(this),Wc(_(this,ie),this.options)?se(this,de,Vr).call(this):this.updateResult(),se(this,de,Bo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zo(_(this,ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zo(_(this,ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,de,Uo).call(this),se(this,de,$o).call(this),_(this,ie).removeObserver(this)}setOptions(t){const n=this.options,r=_(this,ie);if(this.options=_(this,$e).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nt(this.options.enabled,_(this,ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,de,Ho).call(this),_(this,ie).setOptions(this.options),n._defaulted&&!Oo(this.options,n)&&_(this,$e).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,ie),observer:this});const s=this.hasListeners();s&&qc(_(this,ie),r,this.options,n)&&se(this,de,Vr).call(this),this.updateResult(),s&&(_(this,ie)!==r||nt(this.options.enabled,_(this,ie))!==nt(n.enabled,_(this,ie))||en(this.options.staleTime,_(this,ie))!==en(n.staleTime,_(this,ie)))&&se(this,de,Do).call(this);const i=se(this,de,Fo).call(this);s&&(_(this,ie)!==r||nt(this.options.enabled,_(this,ie))!==nt(n.enabled,_(this,ie))||i!==_(this,Yt))&&se(this,de,jo).call(this,i)}getOptimisticResult(t){const n=_(this,$e).getQueryCache().build(_(this,$e),t),r=this.createResult(n,t);return Pm(this,r)&&(L(this,Le,r),L(this,fr,this.options),L(this,Cn,_(this,ie).state)),r}getCurrentResult(){return _(this,Le)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Ct).status==="pending"&&_(this,Ct).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){_(this,mr).add(t)}getCurrentQuery(){return _(this,ie)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_(this,$e).defaultQueryOptions(t),r=_(this,$e).getQueryCache().build(_(this,$e),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return se(this,de,Vr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Le)))}createResult(t,n){var D;const r=_(this,ie),s=this.options,i=_(this,Le),o=_(this,Cn),a=_(this,fr),u=t!==r?t.state:_(this,ds),{state:d}=t;let l={...d},f=!1,m;if(n._optimisticResults){const C=this.hasListeners(),M=!C&&Wc(t,n),N=C&&qc(t,r,n,s);(M||N)&&(l={...l,...vd(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:y}=l;m=l.data;let S=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let C;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(C=i.data,S=!0):C=typeof n.placeholderData=="function"?n.placeholderData((D=_(this,hr))==null?void 0:D.state.data,_(this,hr)):n.placeholderData,C!==void 0&&(y="success",m=Mo(i==null?void 0:i.data,C,n),f=!0)}if(n.select&&m!==void 0&&!S)if(i&&m===(o==null?void 0:o.data)&&n.select===_(this,fs))m=_(this,pr);else try{L(this,fs,n.select),m=n.select(m),m=Mo(i==null?void 0:i.data,m,n),L(this,pr,m),L(this,Kt,null)}catch(C){L(this,Kt,C)}_(this,Kt)&&(h=_(this,Kt),m=_(this,pr),g=Date.now(),y="error");const T=l.fetchStatus==="fetching",I=y==="pending",w=y==="error",P=I&&T,R=m!==void 0,E={status:y,fetchStatus:l.fetchStatus,isPending:I,isSuccess:y==="success",isError:w,isInitialLoading:P,isLoading:P,data:m,dataUpdatedAt:l.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!I,isLoadingError:w&&!R,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&R,isStale:Ma(t,n),refetch:this.refetch,promise:_(this,Ct),isEnabled:nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=E.data!==void 0,M=E.status==="error"&&!C,N=ne=>{M?ne.reject(E.error):C&&ne.resolve(E.data)},U=()=>{const ne=L(this,Ct,E.promise=No());N(ne)},F=_(this,Ct);switch(F.status){case"pending":t.queryHash===r.queryHash&&N(F);break;case"fulfilled":(M||E.data!==F.value)&&U();break;case"rejected":(!M||E.error!==F.reason)&&U();break}}return E}updateResult(){const t=_(this,Le),n=this.createResult(_(this,ie),this.options);if(L(this,Cn,_(this,ie).state),L(this,fr,this.options),_(this,Cn).data!==void 0&&L(this,hr,_(this,ie)),Oo(n,t))return;L(this,Le,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,mr).size)return!0;const o=new Set(i??_(this,mr));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,Le)).some(a=>{const c=a;return _(this,Le)[c]!==t[c]&&o.has(c)})};se(this,de,xd).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,de,Bo).call(this)}},$e=new WeakMap,ie=new WeakMap,ds=new WeakMap,Le=new WeakMap,Cn=new WeakMap,fr=new WeakMap,Ct=new WeakMap,Kt=new WeakMap,fs=new WeakMap,pr=new WeakMap,hr=new WeakMap,An=new WeakMap,On=new WeakMap,Yt=new WeakMap,mr=new WeakMap,de=new WeakSet,Vr=function(t){se(this,de,Ho).call(this);let n=_(this,ie).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(He)),n},Do=function(){se(this,de,Uo).call(this);const t=en(this.options.staleTime,_(this,ie));if(jn||_(this,Le).isStale||!Ao(t))return;const r=md(_(this,Le).dataUpdatedAt,t)+1;L(this,An,bn.setTimeout(()=>{_(this,Le).isStale||this.updateResult()},r))},Fo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,ie)):this.options.refetchInterval)??!1},jo=function(t){se(this,de,$o).call(this),L(this,Yt,t),!(jn||nt(this.options.enabled,_(this,ie))===!1||!Ao(_(this,Yt))||_(this,Yt)===0)&&L(this,On,bn.setInterval(()=>{(this.options.refetchIntervalInBackground||Pa.isFocused())&&se(this,de,Vr).call(this)},_(this,Yt)))},Bo=function(){se(this,de,Do).call(this),se(this,de,jo).call(this,se(this,de,Fo).call(this))},Uo=function(){_(this,An)&&(bn.clearTimeout(_(this,An)),L(this,An,void 0))},$o=function(){_(this,On)&&(bn.clearInterval(_(this,On)),L(this,On,void 0))},Ho=function(){const t=_(this,$e).getQueryCache().build(_(this,$e),this.options);if(t===_(this,ie))return;const n=_(this,ie);L(this,ie,t),L(this,ds,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},xd=function(t){Ce.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_(this,Le))}),_(this,$e).getQueryCache().notify({query:_(this,ie),type:"observerResultsUpdated"})})},ad);function Om(e,t){return nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Wc(e,t){return Om(e,t)||e.state.data!==void 0&&zo(e,t,t.refetchOnMount)}function zo(e,t,n){if(nt(t.enabled,e)!==!1&&en(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ma(e,t)}return!1}function qc(e,t,n,r){return(e!==t||nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ma(e,n)}function Ma(e,t){return nt(t.enabled,e)!==!1&&e.isStaleByTime(en(t.staleTime,e))}function Pm(e,t){return!Oo(e.getCurrentResult(),t)}function Vc(e){return{onFetch:(t,n)=>{var d,l,f,m,h;const r=t.options,s=(f=(l=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:l.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=I=>{xm(I,()=>t.signal,()=>g=!0)},S=yd(t.options,t.fetchOptions),T=async(I,w,P)=>{if(g)return Promise.reject();if(w==null&&I.pages.length)return Promise.resolve(I);const x=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:w,direction:P?"backward":"forward",meta:t.options.meta};return y(M),M})(),E=await S(x),{maxPages:D}=t.options,C=P?vm:Em;return{pages:C(I.pages,E,D),pageParams:C(I.pageParams,w,D)}};if(s&&i.length){const I=s==="backward",w=I?Mm:Gc,P={pages:i,pageParams:o},R=w(r,P);a=await T(P,R,I)}else{const I=e??i.length;do{const w=c===0?o[0]??r.initialPageParam:Gc(r,a);if(c>0&&w==null)break;a=await T(a,w),c++}while(c<I)}return a};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Gc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Mm(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ps,yt,Ae,Pn,_t,Ht,cd,Nm=(cd=class extends Ed{constructor(t){super();$(this,_t);$(this,ps);$(this,yt);$(this,Ae);$(this,Pn);L(this,ps,t.client),this.mutationId=t.mutationId,L(this,Ae,t.mutationCache),L(this,yt,[]),this.state=t.state||Lm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,yt).includes(t)||(_(this,yt).push(t),this.clearGcTimeout(),_(this,Ae).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){L(this,yt,_(this,yt).filter(n=>n!==t)),this.scheduleGc(),_(this,Ae).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,yt).length||(this.state.status==="pending"?this.scheduleGc():_(this,Ae).remove(this))}continue(){var t;return((t=_(this,Pn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,d,l,f,m,h,g,y,S,T,I,w,P,R,x;const n=()=>{se(this,_t,Ht).call(this,{type:"continue"})},r={client:_(this,ps),meta:this.options.meta,mutationKey:this.options.mutationKey};L(this,Pn,bd({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,D)=>{se(this,_t,Ht).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{se(this,_t,Ht).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Ae).canRun(this)}));const s=this.state.status==="pending",i=!_(this,Pn).canStart();try{if(s)n();else{se(this,_t,Ht).call(this,{type:"pending",variables:t,isPaused:i}),_(this,Ae).config.onMutate&&await _(this,Ae).config.onMutate(t,this,r);const D=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t,r));D!==this.state.context&&se(this,_t,Ht).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const E=await _(this,Pn).start();return await((u=(c=_(this,Ae).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this,r)),await((l=(d=this.options).onSuccess)==null?void 0:l.call(d,E,t,this.state.context,r)),await((m=(f=_(this,Ae).config).onSettled)==null?void 0:m.call(f,E,null,this.state.variables,this.state.context,this,r)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,E,null,t,this.state.context,r)),se(this,_t,Ht).call(this,{type:"success",data:E}),E}catch(E){try{await((S=(y=_(this,Ae).config).onError)==null?void 0:S.call(y,E,t,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((I=(T=this.options).onError)==null?void 0:I.call(T,E,t,this.state.context,r))}catch(D){Promise.reject(D)}try{await((P=(w=_(this,Ae).config).onSettled)==null?void 0:P.call(w,void 0,E,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((x=(R=this.options).onSettled)==null?void 0:x.call(R,void 0,E,t,this.state.context,r))}catch(D){Promise.reject(D)}throw se(this,_t,Ht).call(this,{type:"error",error:E}),E}finally{_(this,Ae).runNext(this)}}},ps=new WeakMap,yt=new WeakMap,Ae=new WeakMap,Pn=new WeakMap,_t=new WeakSet,Ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ce.batch(()=>{_(this,yt).forEach(r=>{r.onMutationUpdate(t)}),_(this,Ae).notify({mutation:this,type:"updated",action:t})})},cd);function Lm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var At,lt,hs,ud,Dm=(ud=class extends ms{constructor(t={}){super();$(this,At);$(this,lt);$(this,hs);this.config=t,L(this,At,new Set),L(this,lt,new Map),L(this,hs,0)}build(t,n,r){const s=new Nm({client:t,mutationCache:this,mutationId:++js(this,hs)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){_(this,At).add(t);const n=Bs(t);if(typeof n=="string"){const r=_(this,lt).get(n);r?r.push(t):_(this,lt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,At).delete(t)){const n=Bs(t);if(typeof n=="string"){const r=_(this,lt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&_(this,lt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Bs(t);if(typeof n=="string"){const r=_(this,lt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Bs(t);if(typeof n=="string"){const s=(r=_(this,lt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ce.batch(()=>{_(this,At).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,At).clear(),_(this,lt).clear()})}getAll(){return Array.from(_(this,At))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bc(n,r))}findAll(t={}){return this.getAll().filter(n=>Bc(t,n))}notify(t){Ce.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ce.batch(()=>Promise.all(t.map(n=>n.continue().catch(He))))}},At=new WeakMap,lt=new WeakMap,hs=new WeakMap,ud);function Bs(e){var t;return(t=e.options.scope)==null?void 0:t.id}var St,ld,Fm=(ld=class extends ms{constructor(t={}){super();$(this,St);this.config=t,L(this,St,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Aa(s,n);let o=this.get(i);return o||(o=new Cm({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){_(this,St).has(t.queryHash)||(_(this,St).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_(this,St).get(t.queryHash);n&&(t.destroy(),n===t&&_(this,St).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ce.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,St).get(t)}getAll(){return[..._(this,St).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>jc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>jc(t,r)):n}notify(t){Ce.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ce.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ce.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},St=new WeakMap,ld),_e,Jt,Xt,gr,yr,Qt,_r,Sr,dd,jm=(dd=class{constructor(e={}){$(this,_e);$(this,Jt);$(this,Xt);$(this,gr);$(this,yr);$(this,Qt);$(this,_r);$(this,Sr);L(this,_e,e.queryCache||new Fm),L(this,Jt,e.mutationCache||new Dm),L(this,Xt,e.defaultOptions||{}),L(this,gr,new Map),L(this,yr,new Map),L(this,Qt,0)}mount(){js(this,Qt)._++,_(this,Qt)===1&&(L(this,_r,Pa.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,_e).onFocus())})),L(this,Sr,di.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,_e).onOnline())})))}unmount(){var e,t;js(this,Qt)._--,_(this,Qt)===0&&((e=_(this,_r))==null||e.call(this),L(this,_r,void 0),(t=_(this,Sr))==null||t.call(this),L(this,Sr,void 0))}isFetching(e){return _(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Jt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,_e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=_(this,_e).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(en(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return _(this,_e).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=_(this,_e).get(r.queryHash),i=s==null?void 0:s.state.data,o=_m(t,i);if(o!==void 0)return _(this,_e).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ce.batch(()=>_(this,_e).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_(this,_e).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_(this,_e);Ce.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_(this,_e);return Ce.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ce.batch(()=>_(this,_e).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(He).catch(He)}invalidateQueries(e,t={}){return Ce.batch(()=>(_(this,_e).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ce.batch(()=>_(this,_e).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(He)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(He)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_(this,_e).build(this,t);return n.isStaleByTime(en(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(He).catch(He)}fetchInfiniteQuery(e){return e.behavior=Vc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(He).catch(He)}ensureInfiniteQueryData(e){return e.behavior=Vc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return di.isOnline()?_(this,Jt).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,_e)}getMutationCache(){return _(this,Jt)}getDefaultOptions(){return _(this,Xt)}setDefaultOptions(e){L(this,Xt,e)}setQueryDefaults(e,t){_(this,gr).set(Xr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,gr).values()],n={};return t.forEach(r=>{Qr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){_(this,yr).set(Xr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,yr).values()],n={};return t.forEach(r=>{Qr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Xt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Aa(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oa&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Xt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,_e).clear(),_(this,Jt).clear()}},_e=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,gr=new WeakMap,yr=new WeakMap,Qt=new WeakMap,_r=new WeakMap,Sr=new WeakMap,dd),wd=b.createContext(void 0),Td=e=>{const t=b.useContext(wd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bm=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(wd.Provider,{value:e,children:t})),Id=b.createContext(!1),Um=()=>b.useContext(Id);Id.Provider;function $m(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hm=b.createContext($m()),zm=()=>b.useContext(Hm),Wm=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?_d(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},qm=e=>{b.useEffect(()=>{e.clearReset()},[e])},Vm=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||_d(n,[e.error,r])),Gm=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Km=(e,t)=>e.isLoading&&e.isFetching&&!t,Ym=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Kc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Jm(e,t,n){var f,m,h,g;const r=Um(),s=zm(),i=Td(),o=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o);const a=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Gm(o),Wm(o,s,a),qm(s);const c=!i.getQueryCache().get(o.queryHash),[u]=b.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),l=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(y=>{const S=l?u.subscribe(Ce.batchCalls(y)):He;return u.updateResult(),S},[u,l]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(o)},[o,u]),Ym(o,d))throw Kc(o,u,s);if(Vm({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw d.error;if((g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,d),o.experimental_prefetchInRender&&!jn&&Km(d,r)){const y=c?Kc(o,u,s):a==null?void 0:a.promise;y==null||y.catch(He).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Xm(e,t){return Jm(e,Am)}const B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,te=globalThis,Mn="10.39.0";function Wn(){return Pi(te),te}function Pi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Mn,t[Mn]=t[Mn]||{}}function Ar(e,t,n=te){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Mn]=r[Mn]||{};return s[e]||(s[e]=t())}const Qm=["debug","info","warn","error","log","assert","trace"],Zm="Sentry Logger ",fi={};function qn(e){if(!("console"in te))return e();const t=te.console,n={},r=Object.keys(fi);r.forEach(s=>{const i=fi[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function eg(){La().enabled=!0}function tg(){La().enabled=!1}function Rd(){return La().enabled}function ng(...e){Na("log",...e)}function rg(...e){Na("warn",...e)}function sg(...e){Na("error",...e)}function Na(e,...t){B&&Rd()&&qn(()=>{te.console[e](`${Zm}[${e}]:`,...t)})}function La(){return B?Ar("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const O={enable:eg,disable:tg,isEnabled:Rd,log:ng,warn:rg,error:sg},kd=50,Bn="?",Yc=/\(error: (.*)\)/,Jc=/captureMessage|captureException/;function Cd(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=Yc.test(c)?c.replace(Yc,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){i.push(l);break}}if(i.length>=kd+s)break}}return og(i.slice(s))}}function ig(e){return Array.isArray(e)?Cd(...e):e}function og(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Us(t).function||"")&&t.pop(),t.reverse(),Jc.test(Us(t).function||"")&&(t.pop(),Jc.test(Us(t).function||"")&&t.pop()),t.slice(0,kd).map(n=>({...n,filename:n.filename||Us(t).filename,function:n.function||Bn}))}function Us(e){return e[e.length-1]||{}}const so="<anonymous>";function Lt(e){try{return!e||typeof e!="function"?so:e.name||so}catch{return so}}function Xc(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Ad(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Xs={},Qc={};function dn(e,t){Xs[e]=Xs[e]||[],Xs[e].push(t)}function fn(e,t){if(!Qc[e]){Qc[e]=!0;try{t()}catch(n){B&&O.error(`Error while instrumenting ${e}`,n)}}}function rt(e,t){const n=e&&Xs[e];if(n)for(const r of n)try{r(t)}catch(s){B&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Lt(r)}
Error:`,s)}}let io=null;function Od(e){const t="error";dn(t,e),fn(t,ag)}function ag(){io=te.onerror,te.onerror=function(e,t,n,r,s){return rt("error",{column:r,error:s,line:n,msg:e,url:t}),io?io.apply(this,arguments):!1},te.onerror.__SENTRY_INSTRUMENTED__=!0}let oo=null;function Pd(e){const t="unhandledrejection";dn(t,e),fn(t,cg)}function cg(){oo=te.onunhandledrejection,te.onunhandledrejection=function(e){return rt("unhandledrejection",e),oo?oo.apply(this,arguments):!0},te.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Md=Object.prototype.toString;function gs(e){switch(Md.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Dt(e,Error)}}function Or(e,t){return Md.call(e)===`[object ${t}]`}function Nd(e){return Or(e,"ErrorEvent")}function Zc(e){return Or(e,"DOMError")}function ug(e){return Or(e,"DOMException")}function Ot(e){return Or(e,"String")}function Da(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function br(e){return e===null||Da(e)||typeof e!="object"&&typeof e!="function"}function Zr(e){return Or(e,"Object")}function Mi(e){return typeof Event<"u"&&Dt(e,Event)}function lg(e){return typeof Element<"u"&&Dt(e,Element)}function dg(e){return Or(e,"RegExp")}function Pr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function fg(e){return Zr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Dt(e,t){try{return e instanceof t}catch{return!1}}function Ld(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Fa(e){return typeof Request<"u"&&Dt(e,Request)}const ja=te,pg=80;function Ve(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||pg;for(;n&&i++<r&&(u=hg(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=l));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function hg(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(ja.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Ot(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Mr(){try{return ja.document.location.href}catch{return""}}function Dd(e){if(!ja.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function ze(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Fd(s,r);try{e[t]=s}catch{B&&O.log(`Failed to replace method "${t}" in object`,e)}}function Ge(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{B&&O.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Fd(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ge(e,"__sentry_original__",t)}catch{}}function Ba(e){return e.__sentry_original__}function jd(e){if(gs(e))return{message:e.message,name:e.name,stack:e.stack,...tu(e)};if(Mi(e)){const t={type:e.type,target:eu(e.target),currentTarget:eu(e.currentTarget),...tu(e)};return typeof CustomEvent<"u"&&Dt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function eu(e){try{return lg(e)?Ve(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function tu(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function mg(e){const t=Object.keys(jd(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Jn;function ys(e){if(Jn!==void 0)return Jn?Jn(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=te;return t in n&&typeof n[t]=="function"?(Jn=n[t],Jn(e)):(Jn=null,e())}function tn(){return ys(()=>Math.random())}function _s(){return ys(()=>Date.now())}function Wo(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function nu(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Ld(s)?n.push(Ad(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Qs(e,t,n=!1){return Ot(e)?dg(t)?t.test(e):Ot(t)?n?e===t:e.includes(t):!1:!1}function Pt(e,t=[],n=!1){return t.some(r=>Qs(e,r,n))}function gg(){const e=te;return e.crypto||e.msCrypto}let ao;function yg(){return tn()*16}function Xe(e=gg()){try{if(e!=null&&e.randomUUID)return ys(()=>e.randomUUID()).replace(/-/g,"")}catch{}return ao||(ao="10000000100040008000"+1e11),ao.replace(/[018]/g,t=>(t^(yg()&15)>>t/4).toString(16))}function Bd(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function _n(e){const{message:t,event_id:n}=e;if(t)return t;const r=Bd(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function qo(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Er(e,t){const n=Bd(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function ru(e){if(_g(e))return!0;try{Ge(e,"__sentry_captured__",!0)}catch{}return!1}function _g(e){try{return e.__sentry_captured__}catch{}}const Ud=1e3;function Vn(){return _s()/Ud}function Sg(){const{performance:e}=te;if(!(e!=null&&e.now)||!e.timeOrigin)return Vn;const t=e.timeOrigin;return()=>(t+ys(()=>e.now()))/Ud}let su;function ke(){return(su??(su=Sg()))()}let co=null;function bg(){var o;const{performance:e}=te;if(!(e!=null&&e.now))return;const t=3e5,n=ys(()=>e.now()),r=_s(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const i=(o=e.timing)==null?void 0:o.navigationStart;return typeof i=="number"&&Math.abs(i+n-r)<t?i:r-n}function Ye(){return co===null&&(co=bg()),co}function Eg(e){const t=ke(),n={sid:Xe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>xg(n)};return e&&vr(n,e),n}function vr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ke(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Xe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function vg(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),vr(e,n)}function xg(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Ss(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Ss(r[s],t[s],n-1));return r}function Ft(){return Xe()}function Mt(){return Xe().substring(16)}const Vo="_sentrySpan";function xr(e,t){t?Ge(e,Vo,t):delete e[Vo]}function pi(e){return e[Vo]}const wg=100;class vt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ft(),sampleRand:tn()}}clone(){const t=new vt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,xr(t,pi(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&vr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof vt?n.getScopeData():Zr(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l,conversationId:f}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),f&&(this._conversationId=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,xr(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ft(),sampleRand:tn()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:wg;if(r<=0)return this;const s={timestamp:Vn(),...t,message:t.message?Wo(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:pi(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ss(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Xe();if(!this._client)return B&&O.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Xe();if(!this._client)return B&&O.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=t.event_id||(n==null?void 0:n.event_id)||Xe();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(B&&O.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Tg(){return Ar("defaultCurrentScope",()=>new vt)}function Ig(){return Ar("defaultIsolationScope",()=>new vt)}class Rg{constructor(t,n){let r;t?r=t:r=new vt;let s;n?s=n:s=new vt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Pr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function wr(){const e=Wn(),t=Pi(e);return t.stack=t.stack||new Rg(Tg(),Ig())}function kg(e){return wr().withScope(e)}function Cg(e,t){const n=wr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function iu(e){return wr().withScope(()=>e(wr().getIsolationScope()))}function Ag(){return{withIsolationScope:iu,withScope:kg,withSetScope:Cg,withSetIsolationScope:(e,t)=>iu(t),getCurrentScope:()=>wr().getScope(),getIsolationScope:()=>wr().getIsolationScope()}}function Nr(e){const t=Pi(e);return t.acs?t.acs:Ag()}function le(){const e=Wn();return Nr(e).getCurrentScope()}function st(){const e=Wn();return Nr(e).getIsolationScope()}function Og(){return Ar("globalScope",()=>new vt)}function Lr(...e){const t=Wn(),n=Nr(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Q(){return le().getClient()}function Pg(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||Mt()};return r&&(i.parent_span_id=r),i}const pt="sentry.source",Ua="sentry.sample_rate",$d="sentry.previous_trace_sample_rate",jt="sentry.op",Te="sentry.origin",es="sentry.idle_span_finish_reason",bs="sentry.measurement_unit",Es="sentry.measurement_value",ou="sentry.custom_span_name",$a="sentry.profile_id",Dr="sentry.exclusive_time",Mg="sentry.link.type",Ng="gen_ai.conversation.id",Lg=0,Ha=1,we=2;function Dg(e){if(e<400&&e>=100)return{code:Ha};if(e>=400&&e<500)switch(e){case 401:return{code:we,message:"unauthenticated"};case 403:return{code:we,message:"permission_denied"};case 404:return{code:we,message:"not_found"};case 409:return{code:we,message:"already_exists"};case 413:return{code:we,message:"failed_precondition"};case 429:return{code:we,message:"resource_exhausted"};case 499:return{code:we,message:"cancelled"};default:return{code:we,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:we,message:"unimplemented"};case 503:return{code:we,message:"unavailable"};case 504:return{code:we,message:"deadline_exceeded"};default:return{code:we,message:"internal_error"}}return{code:we,message:"internal_error"}}function Hd(e,t){e.setAttribute("http.response.status_code",t);const n=Dg(t);n.message!=="unknown_error"&&e.setStatus(n)}const zd="_sentryScope",Wd="_sentryIsolationScope";function Fg(e){try{const t=te.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function jg(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Bg(e,t,n){e&&(Ge(e,Wd,Fg(n)),Ge(e,zd,t))}function hi(e){const t=e;return{scope:t[zd],isolationScope:jg(t[Wd])}}const za="sentry-",Ug=/^sentry-/,$g=8192;function qd(e){const t=zg(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Ug)){const o=s.slice(za.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Hg(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${za}${r}`]=s),n),{});return Wg(t)}function zg(e){if(!(!e||!Ot(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=au(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):au(e)}function au(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Wg(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>$g?(B&&O.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const qg=/^o(\d+)\./,Vg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Gg(e){return e==="http"||e==="https"}function Gn(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Kg(e){const t=Vg.exec(e);if(!t){qn(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Vd({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Vd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Yg(e){if(!B)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(O.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Gg(r)?t&&isNaN(parseInt(t,10))?(O.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(O.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Jg(e){const t=e.match(qg);return t==null?void 0:t[1]}function Xg(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Jg(n)),r}function Gd(e){const t=typeof e=="string"?Kg(e):Vd(e);if(!(!t||!Yg(t)))return t}function Un(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Kd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Qg(e){if(!e)return;const t=e.match(Kd);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Zg(e,t){const n=Qg(e),r=qd(t);if(!(n!=null&&n.traceId))return{traceId:Ft(),sampleRand:tn()};const s=ey(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function Yd(e=Ft(),t=Mt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Jd(e=Ft(),t=Mt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function ey(e,t){const n=Un(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Un(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?tn()*r:r+tn()*(1-r):tn()}const Xd=0,Wa=1;let cu=!1;function ty(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=ae(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function ny(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:ae(e).parent_span_id,i=hi(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||Mt():t;return{parent_span_id:s,span_id:o,trace_id:n}}function ry(e){const{traceId:t,spanId:n}=e.spanContext(),r=pn(e);return Yd(t,n,r)}function sy(e){const{traceId:t,spanId:n}=e.spanContext(),r=pn(e);return Jd(t,n,r)}function Qd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Wa,attributes:i,...s}))}function Nn(e){return typeof e=="number"?uu(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?uu(e.getTime()):ke()}function uu(e){return e>9999999999?e/1e3:e}function ae(e){var r;if(oy(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(iy(e)){const{attributes:s,startTime:i,name:o,endTime:a,status:c,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:d,start_timestamp:Nn(i),timestamp:Nn(a)||void 0,status:Zd(c),op:s[jt],origin:s[Te],links:Qd(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function iy(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function oy(e){return typeof e.getSpanJSON=="function"}function pn(e){const{traceFlags:t}=e.spanContext();return t===Wa}function Zd(e){if(!(!e||e.code===Lg))return e.code===Ha?"ok":e.message||"internal_error"}const Ln="_sentryChildSpans",Go="_sentryRootSpan";function ef(e,t){const n=e[Go]||e;Ge(t,Go,n),e[Ln]?e[Ln].add(t):Ge(e,Ln,new Set([t]))}function ay(e,t){e[Ln]&&e[Ln].delete(t)}function Zs(e){const t=new Set;function n(r){if(!t.has(r)&&pn(r)){t.add(r);const s=r[Ln]?Array.from(r[Ln]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function Pe(e){return e[Go]||e}function Fe(){const e=Wn(),t=Nr(e);return t.getActiveSpan?t.getActiveSpan():pi(le())}function Ko(){cu||(qn(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),cu=!0)}let lu=!1;function cy(){if(lu)return;function e(){const t=Fe(),n=t&&Pe(t);if(n){const r="internal_error";B&&O.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:we,message:r})}}e.tag="sentry_tracingErrorCallback",lu=!0,Od(e),Pd(e)}function ht(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Q())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function du(e){O.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function mi(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(ly(n)){if(Qs(e.description,n))return B&&du(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Qs(e.description,n.name):!0,s=n.op?e.op&&Qs(e.op,n.op):!0;if(r&&s)return B&&du(e),!0}return!1}function uy(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function ly(e){return typeof e=="string"||e instanceof RegExp}const qa="production",tf="_frozenDsc";function ei(e,t){Ge(e,tf,t)}function nf(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||qa,release:n.release,public_key:r,trace_id:e,org_id:Xg(t)};return t.emit("createDsc",s),s}function rf(e,t){const n=t.getPropagationContext();return n.dsc||nf(n.traceId,e)}function Bt(e){var h;const t=Q();if(!t)return{};const n=Pe(e),r=ae(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[Ua]??s[$d];function a(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const c=n[tf];if(c)return a(c);const u=i==null?void 0:i.get("sentry.dsc"),d=u&&qd(u);if(d)return a(d);const l=nf(e.spanContext().traceId,t),f=s[pt],m=r.description;return f!=="url"&&m&&(l.transaction=m),ht()&&(l.sampled=String(pn(n)),l.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((h=hi(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(l),t.emit("createDsc",l,n),l}class cn{constructor(t={}){this._traceId=t.traceId||Ft(),this._spanId=t.spanId||Mt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Xd}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function dt(e,t=100,n=1/0){try{return Yo("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function sf(e,t=3,n=100*1024){const r=dt(e,t);return hy(r)>n?sf(e,t-1,n):r}function Yo(e,t,n=1/0,r=1/0,s=my()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=dy(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return Yo("",m,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=jd(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(l>=r){d[m]="[MaxProperties ~]";break}const h=f[m];d[m]=Yo(m,h,c-1,r,s),l++}return o(t),d}function dy(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Ld(t))return Ad(t);if(fg(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Lt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=fy(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function fy(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function py(e){return~-encodeURI(e).split(/%..|./).length}function hy(e){return py(JSON.stringify(e))}function my(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function hn(e,t=[]){return[e,t]}function gy(e,t){const[n,r]=e;return[n,[...r,t]]}function Jo(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function yy(e,t){return Jo(e,(n,r)=>t.includes(r))}function Xo(e){const t=Pi(te);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function _y(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Xo(r),i]:r.push(typeof i=="string"?Xo(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(dt(a))}s(c)}}return typeof r=="string"?r:Sy(r)}function Sy(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function by(e){return[{type:"span"},e]}function Ey(e){const t=typeof e.data=="string"?Xo(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const vy={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function fu(e){return vy[e]}function Va(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function of(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Gn(r)},...s&&{trace:s}}}function xy(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function wy(e,t,n,r){const s=Va(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Gn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return hn(i,[o])}function Ty(e,t,n,r){const s=Va(n),i=e.type&&e.type!=="replay_event"?e.type:"event";xy(e,n==null?void 0:n.sdk);const o=of(e,s,r,t);return delete e.sdkProcessingMetadata,hn(o,[[{type:i},e]])}function Iy(e,t){function n(m){return!!m.trace_id&&!!m.public_key}const r=Bt(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Gn(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(m=>!mi(ae(m),c)):e,d=e.length-u.length;d&&(t==null||t.recordDroppedEvent("before_send","span",d));const l=a?m=>{const h=ae(m),g=a(h);return g||(Ko(),h)}:ae,f=[];for(const m of u){const h=l(m);h&&f.push(by(h))}return hn(o,f)}function Ry(e){if(!B)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ae(e),{spanId:s}=e.spanContext(),i=pn(e),o=Pe(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=ae(o);u.push(`root ID: ${o.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}O.log(`${c}
  ${u.join(`
  `)}`)}function ky(e){if(!B)return;const{description:t="< unknown name >",op:n="< unknown op >"}=ae(e),{spanId:r}=e.spanContext(),i=Pe(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;O.log(o)}function Cy(e,t,n,r=Fe()){const s=r&&Pe(r);s&&(B&&O.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Es]:t,[bs]:n}))}function pu(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[bs],i=r[Es];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const hu=1e3;class Ni{constructor(t={}){this._traceId=t.traceId||Ft(),this._spanId=t.spanId||Mt(),this._startTime=t.startTimestamp||ke(),this._links=t.links,this._attributes={},this.setAttributes({[Te]:"manual",[jt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Wa:Xd}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Nn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(pt,"custom"),this}end(t){this._endTime||(this._endTime=Nn(t),ky(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[jt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Zd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Te],profile_id:this._attributes[$a],exclusive_time:this._attributes[Dr],measurements:pu(this._events),is_segment:this._isStandaloneSpan&&Pe(this)===this||void 0,segment_id:this._isStandaloneSpan?Pe(this).spanContext().spanId:void 0,links:Qd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){B&&O.log("[Tracing] Adding an event to span:",t);const s=mu(n)?n:r||ke(),i=mu(n)?{}:n||{},o={name:t,time:Nn(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Q();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Pe(this)))return;if(this._isStandaloneSpan){this._sampled?Oy(Iy([this],t)):(B&&O.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(hi(this).scope||le()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!gu(ae(this)))return;this._name||(B&&O.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=hi(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const i=Zs(this).filter(l=>l!==this&&!Ay(l)).map(l=>ae(l)).filter(gu),o=this._attributes[pt];delete this._attributes[ou],i.forEach(l=>{delete l.data[ou]});const a={contexts:{trace:ty(this)},spans:i.length>hu?i.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,hu):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Bt(this)},request:r,...o&&{transaction_info:{source:o}}},c=pu(this._events);return c&&Object.keys(c).length&&(B&&O.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function mu(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function gu(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Ay(e){return e instanceof Ni&&e.isStandaloneSpan()}function Oy(e){const t=Q();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Py(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return My(s,t,n,r)}function My(e,t,n,r){return Pr(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function Ny(e,t,n){if(!ht(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Un(s);if(i===void 0)return B&&O.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return B&&O.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||B&&O.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const af="__SENTRY_SUPPRESS_TRACING__";function Ly(e,t){const n=Ka();if(n.startSpan)return n.startSpan(e,t);const r=uf(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o==null?void 0:o.clone();return Lr(a,()=>Fy(i)(()=>{const u=le(),d=lf(u,i),f=e.onlyIfParent&&!d?new cn:cf({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return xr(u,f),Py(()=>t(f),()=>{const{status:m}=ae(f);f.isRecording()&&(!m||m==="ok")&&f.setStatus({code:we,message:"internal_error"})},()=>{f.end()})}))}function Fr(e){const t=Ka();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=uf(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Lr(e.scope,o):s!==void 0?o=>Ga(s,o):o=>o())(()=>{const o=le(),a=lf(o,s);return e.onlyIfParent&&!a?new cn:cf({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Ga(e,t){const n=Ka();return n.withActiveSpan?n.withActiveSpan(e,t):Lr(r=>(xr(r,e||void 0),t(r)))}function cf({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ht()){const o=new cn;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Bt(o)};ei(o,a)}return o}const s=st();let i;if(e&&!n)i=Dy(e,r,t),ef(e,i);else if(e){const o=Bt(e),{traceId:a,spanId:c}=e.spanContext(),u=pn(e);i=yu({traceId:a,parentSpanId:c,...t},r,u),ei(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=yu({traceId:o,parentSpanId:c,...t},r,u),a&&ei(i,a)}return Ry(i),Bg(i,r,s),i}function uf(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Nn(e.startTime),delete r.startTime,r}return n}function Ka(){const e=Wn();return Nr(e)}function yu(e,t,n){var h;const r=Q(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[af]?[!1]:Ny(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:Un((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),m=new Ni({...e,attributes:{[pt]:"custom",[Ua]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(B&&O.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function Dy(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[af]?!1:pn(e),o=i?new Ni({...n,parentSpanId:r,traceId:s,sampled:i}):new cn({traceId:s});ef(e,o);const a=Q();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function lf(e,t){if(t)return t;if(t===null)return;const n=pi(e);if(!n)return;const r=Q();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Pe(n):n}function Fy(e){return e!==void 0?t=>Ga(e,t):t=>t()}const ti={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},jy="heartbeatFailed",By="idleTimeout",Uy="finalTimeout",$y="externalFinish";function df(e,t={}){const n=new Map;let r=!1,s,i=$y,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=ti.idleTimeout,finalTimeout:u=ti.finalTimeout,childSpanTimeout:d=ti.childSpanTimeout,beforeSpanEnd:l,trimIdleSpanEndTimestamp:f=!0}=t,m=Q();if(!m||!ht()){const x=new cn,E={sample_rate:"0",sampled:"false",...Bt(x)};return ei(x,E),x}const h=le(),g=Fe(),y=Hy(e);y.end=new Proxy(y.end,{apply(x,E,D){if(l&&l(y),E instanceof cn)return;const[C,...M]=D,N=C||ke(),U=Nn(N),F=Zs(y).filter(j=>j!==y),ne=ae(y);if(!F.length||!f)return R(U),Reflect.apply(x,E,[U,...M]);const G=m.getOptions().ignoreSpans,ee=F==null?void 0:F.reduce((j,K)=>{const Z=ae(K);return!Z.timestamp||G&&mi(Z,G)?j:j?Math.max(j,Z.timestamp):Z.timestamp},void 0),A=ne.start_timestamp,Y=Math.min(A?A+u/1e3:1/0,Math.max(A||-1/0,Math.min(U,ee||1/0)));return R(Y),Reflect.apply(x,E,[Y,...M])}});function S(){s&&(clearTimeout(s),s=void 0)}function T(x){S(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=By,y.end(x))},c)}function I(x){s=setTimeout(()=>{!r&&o&&(i=jy,y.end(x))},d)}function w(x){S(),n.set(x,!0);const E=ke();I(E+d/1e3)}function P(x){if(n.has(x)&&n.delete(x),n.size===0){const E=ke();T(E+c/1e3)}}function R(x){r=!0,n.clear(),a.forEach(F=>F()),xr(h,g);const E=ae(y),{start_timestamp:D}=E;if(!D)return;E.data[es]||y.setAttribute(es,i);const M=E.status;(!M||M==="unknown")&&y.setStatus({code:Ha}),O.log(`[Tracing] Idle span "${E.op}" finished`);const N=Zs(y).filter(F=>F!==y);let U=0;N.forEach(F=>{F.isRecording()&&(F.setStatus({code:we,message:"cancelled"}),F.end(x),B&&O.log("[Tracing] Cancelling span since span ended early",JSON.stringify(F,void 0,2)));const ne=ae(F),{timestamp:G=0,start_timestamp:ee=0}=ne,A=ee<=x,Y=(u+c)/1e3,j=G-ee<=Y;if(B){const K=JSON.stringify(F,void 0,2);A?j||O.log("[Tracing] Discarding span since it finished after idle span final timeout",K):O.log("[Tracing] Discarding span since it happened after idle span was finished",K)}(!j||!A)&&(ay(y,F),U++)}),U>0&&y.setAttribute("sentry.idle_span_discarded_spans",U)}return a.push(m.on("spanStart",x=>{if(r||x===y||ae(x).timestamp||x instanceof Ni&&x.isStandaloneSpan())return;Zs(y).includes(x)&&w(x.spanContext().spanId)})),a.push(m.on("spanEnd",x=>{r||P(x.spanContext().spanId)})),a.push(m.on("idleSpanEnableAutoFinish",x=>{x===y&&(o=!0,T(),n.size&&I())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(y.setStatus({code:we,message:"deadline_exceeded"}),i=Uy,y.end())},u),y}function Hy(e){const t=Fr(e);return xr(le(),t),B&&O.log("[Tracing] Started span is an idle span"),t}const uo=0,_u=1,Su=2;function vs(e){return new ts(t=>{t(e)})}function Ya(e){return new ts((t,n)=>{n(e)})}class ts{constructor(t){this._state=uo,this._handlers=[],this._runExecutor(t)}then(t,n){return new ts((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ts((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===uo)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===_u&&n[1](this._value),this._state===Su&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===uo){if(Pr(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(_u,i)},s=i=>{n(Su,i)};try{t(r,s)}catch(i){s(i)}}}function zy(e,t,n,r=0){try{const s=Qo(t,n,e,r);return Pr(s)?s:vs(s)}catch(s){return Ya(s)}}function Qo(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return B&&i===null&&O.log(`Event processor "${s.id||"?"}" dropped event`),Pr(i)?i.then(o=>Qo(o,t,n,r+1)):Qo(i,t,n,r+1)}let It,bu,Eu,$t;function Wy(e){const t=te._sentryDebugIds,n=te._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if($t&&r.length===bu&&s.length===Eu)return $t;bu=r.length,Eu=s.length,$t={},It||(It={});const i=(o,a)=>{for(const c of o){const u=a[c],d=It==null?void 0:It[c];if(d&&$t&&u)$t[d[0]]=u,It&&(It[c]=[d[0],u]);else if(u){const l=e(c);for(let f=l.length-1;f>=0;f--){const m=l[f],h=m==null?void 0:m.filename;if(h&&$t&&It){$t[h]=u,It[c]=[h,u];break}}}}};return t&&i(r,t),n&&i(s,n),$t}function qy(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Gy(e,t),r&&Jy(e,r),Xy(e,n),Ky(e,s),Yy(e,i)}function vu(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:d,eventProcessors:l,attachments:f,propagationContext:m,transactionName:h,span:g}=t;zr(e,"extra",n),zr(e,"tags",r),zr(e,"attributes",s),zr(e,"user",i),zr(e,"contexts",o),e.sdkProcessingMetadata=Ss(e.sdkProcessingMetadata,c,2),a&&(e.level=a),h&&(e.transactionName=h),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function zr(e,t,n){e[t]=Ss(e[t],n,1)}function Vy(e,t){const n=Og().getScopeData();return e&&vu(n,e.getScopeData()),t&&vu(n,t.getScopeData()),n}function Gy(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function Ky(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Yy(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Jy(e,t){e.contexts={trace:ny(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Bt(t),...e.sdkProcessingMetadata};const n=Pe(t),r=ae(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Xy(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function ff(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Xe(),timestamp:t.timestamp||Vn()},u=n.integrations||e.integrations.map(S=>S.name);Qy(c,e),t_(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Zy(c,e.stackParser);const d=r_(r,n.captureContext);n.mechanism&&Er(c,n.mechanism);const l=s?s.getEventProcessors():[],f=Vy(i,d),m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),qy(c,f);const h=[...l,...f.eventProcessors];return(n.data&&n.data.__sentry__===!0?vs(c):zy(h,c,n)).then(S=>(S&&e_(S),typeof o=="number"&&o>0?n_(S,o,a):S))}function Qy(e,t){var a,c;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||qa,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=Wo(o.url,i)),i&&((c=(a=e.exception)==null?void 0:a.values)==null||c.forEach(u=>{u.value&&(u.value=Wo(u.value,i))}))}function Zy(e,t){var r,s;const n=Wy(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function e_(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function t_(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function n_(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:dt(o.data,t,n)}}))},...e.user&&{user:dt(e.user,t,n)},...e.contexts&&{contexts:dt(e.contexts,t,n)},...e.extra&&{extra:dt(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=dt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:dt(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=dt(e.contexts.flags,3,n)),r}function r_(e,t){if(!t)return e;const n=e?e.clone():new vt;return n.update(t),n}function s_(e){if(e)return i_(e)?{captureContext:e}:a_(e)?{captureContext:e}:e}function i_(e){return e instanceof vt||typeof e=="function"}const o_=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function a_(e){return Object.keys(e).some(t=>o_.includes(t))}function Li(e,t){return le().captureException(e,s_(t))}function pf(e,t){return le().captureEvent(e,t)}function hf(e,t){st().setContext(e,t)}function c_(){return st().lastEventId()}function u_(){const e=Q();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function l_(e){st().addEventProcessor(e)}function xu(e){const t=st(),n=le(),{userAgent:r}=te.navigator||{},s=Eg({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&vr(i,{status:"exited"}),mf(),t.setSession(s),s}function mf(){const e=st(),n=le().getSession()||e.getSession();n&&vg(n),gf(),e.setSession()}function gf(){const e=st(),t=Q(),n=e.getSession();n&&t&&t.captureSession(n)}function wu(e=!1){if(e){mf();return}gf()}const d_="7";function yf(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function f_(e){return`${yf(e)}${e.projectId}/envelope/`}function p_(e,t){const n={sentry_version:d_};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function h_(e,t,n){return t||`${f_(e)}?${p_(e,n)}`}function m_(e,t){const n=Gd(e);if(!n)return"";const r=`${yf(n)}embed/error-page/`;let s=`dsn=${Gn(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Tu=[];function g_(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function y_(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return g_(r)}function __(e,t){const n={};return t.forEach(r=>{r&&_f(e,r,n)}),n}function Iu(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function _f(e,t,n){if(n[t.name]){B&&O.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Tu.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Tu.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}B&&O.log(`Integration installed: ${t.name}`)}function S_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function b_(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Gn(r)),hn(s,[S_(e)])}function Sf(e,t){const n=t??E_(e)??[];if(n.length===0)return;const r=e.getOptions(),s=b_(n,r._metadata,r.tunnel,e.getDsn());bf().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function E_(e){return bf().get(e)}function bf(){return Ar("clientToLogBufferMap",()=>new WeakMap)}function v_(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function x_(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Gn(r)),hn(s,[v_(e)])}function Ef(e,t){const n=t??w_(e)??[];if(n.length===0)return;const r=e.getOptions(),s=x_(n,r._metadata,r.tunnel,e.getDsn());vf().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function w_(e){return vf().get(e)}function vf(){return Ar("clientToMetricBufferMap",()=>new WeakMap)}function xf(e){return typeof e=="object"&&typeof e.unref=="function"&&e.unref(),e}const Ja=Symbol.for("SentryBufferFullError");function Xa(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return Ya(Ja);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return vs(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>xf(setTimeout(()=>u(!1),o)))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const T_=60*1e3;function I_(e,t=_s()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?T_:r-t}function R_(e,t){return e[t]||e.all||0}function wf(e,t,n=_s()){return R_(e,t)>n}function Tf(e,{statusCode:t,headers:n},r=_s()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const m of u.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[m]=r+f):s[m]=r+f}else o?s.all=r+I_(o,r):t===429&&(s.all=r+60*1e3);return s}const If=64;function k_(e,t,n=Xa(e.bufferSize||If)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Jo(o,(l,f)=>{const m=fu(f);wf(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(l)}),a.length===0)return Promise.resolve({});const c=hn(o[0],a),u=l=>{if(yy(c,["client_report"])){B&&O.warn(`Dropping client report. Will not send outcomes (reason: ${l}).`);return}Jo(c,(f,m)=>{e.recordDroppedEvent(l,fu(m))})},d=()=>t({body:_y(c)}).then(l=>l.statusCode===413?(B&&O.error("Sentry responded with status code 413. Envelope was discarded due to exceeding size limits."),u("send_error"),l):(B&&l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&O.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Tf(r,l),l),l=>{throw u("network_error"),B&&O.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Ja)return B&&O.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw l})}return{send:i,flush:s}}function C_(e,t,n){const r=[{type:"client_report"},{timestamp:Vn(),discarded_events:e}];return hn(t?{dsn:t}:{},[r])}function Rf(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function A_(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[$a],exclusive_time:o==null?void 0:o[Dr],measurements:e.measurements,is_segment:!0}}function O_(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[$a]:e.profile_id},...e.exclusive_time&&{[Dr]:e.exclusive_time}}}},measurements:e.measurements}}const Ru="Not capturing exception because it's already been captured.",ku="Discarded session because of missing or non-string release",kf=Symbol.for("SentryInternalError"),Cf=Symbol.for("SentryDoNotSendEventError"),P_=5e3;function ni(e){return{message:e,[kf]:!0}}function lo(e){return{message:e,[Cf]:!0}}function Cu(e){return!!e&&typeof e=="object"&&kf in e}function Au(e){return!!e&&typeof e=="object"&&Cf in e}function Ou(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=xf(setTimeout(()=>{s(e)},P_)))}),e.on("flush",()=>{s(e)})}class M_{constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Xa(((r=t.transportOptions)==null?void 0:r.bufferSize)??If),t.dsn?this._dsn=Gd(t.dsn):B&&O.warn("No DSN provided, client will not send events."),this._dsn){const o=h_(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&Ou(this,"afterCaptureLog","flushLogs",F_,Sf),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&Ou(this,"afterCaptureMetric","flushMetrics",D_,Ef)}captureException(t,n,r){const s=Xe();if(ru(t))return B&&O.log(Ru),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Xe(),...r},o=Da(t)?t:String(t),a=br(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Xe();if(n!=null&&n.originalException&&ru(n.originalException))return B&&O.log(Ru),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Pu(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),vr(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];_f(this,t,this._integrations),n||Iu(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ty(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=gy(r,Ey(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=qa}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){B&&O.warn(ku);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){B&&O.warn(ku);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=wy(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;B&&O.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return B&&O.error("Error while sending envelope:",n),{}}return B&&O.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=__(this,t),Iu(this,t)}_updateSessionFromEvent(t,n){var c,u;let r=n.level==="fatal",s=!1;const i=(c=n.exception)==null?void 0:c.values;if(i){s=!0,r=!1;for(const d of i)if(((u=d.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(vr(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),ff(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Pg(r),...a.contexts};const c=rf(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=le(),s=st()){return B&&Zo(t)&&O.log(`Captured error event \`${Rf(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{B&&(Au(i)?O.log(i.message):Cu(i)?O.warn(i.message):O.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=Af(t),c=Zo(t),d=`before send for type \`${t.type||"error"}\``,l=typeof o>"u"?void 0:Un(o);if(c&&typeof l=="number"&&tn()>l)return this.recordDroppedEvent("sample_rate","error"),Ya(lo(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=Pu(t.type);return this._prepareEvent(t,n,r,s).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f),lo("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;const g=L_(this,i,m,n);return N_(g,d)}).then(m=>{var y;if(m===null){if(this.recordDroppedEvent("before_send",f),a){const T=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",T)}throw lo(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,m),a){const S=((y=m.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,T=m.spans?m.spans.length:0,I=S-T;I>0&&this.recordDroppedEvent("before_send","span",I)}const g=m.transaction_info;if(a&&g&&m.transaction!==t.transaction){const S="custom";m.transaction_info={...g,source:S}}return this.sendEvent(m,n),m}).then(null,m=>{throw Au(m)||Cu(m)?m:(this.captureException(m,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:m}),ni(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Ja&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){B&&O.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){B&&O.log("No outcomes to send");return}if(!this._dsn){B&&O.log("No dsn provided, will not send outcomes");return}B&&O.log("Sending outcomes:",t);const n=C_(t,this._options.tunnel&&Gn(this._dsn));this.sendEnvelope(n)}}function Pu(e){return e==="replay_event"?"replay":e||"error"}function N_(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Pr(e))return e.then(r=>{if(!Zr(r)&&r!==null)throw ni(n);return r},r=>{throw ni(`${t} rejected with ${r}`)});if(!Zr(e)&&e!==null)throw ni(n);return e}function L_(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(Zo(c)&&s)return s(c,r);if(Af(c)){if(o||a){const u=A_(c);if(a!=null&&a.length&&mi(u,a))return null;if(o){const d=o(u);d?c=Ss(n,O_(d)):Ko()}if(c.spans){const d=[],l=c.spans;for(const m of l){if(a!=null&&a.length&&mi(m,a)){uy(l,m);continue}if(o){const h=o(m);h?d.push(h):(Ko(),d.push(m))}else d.push(m)}const f=c.spans.length-d.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=d}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Zo(e){return e.type===void 0}function Af(e){return e.type==="transaction"}function D_(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Of(e.attributes)}function F_(e){let t=0;return e.message&&(t+=e.message.length*2),t+Of(e.attributes)}function Of(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Mu(n[0]):br(n)?t+=Mu(n):t+=100}),t}function Mu(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function j_(e){return gs(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function Nu(e){return j_(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function B_(e,t){t.debug===!0&&(B?O.enable():qn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),le().update(t.initialScope);const r=new e(t);return U_(r),r.init(),r}function U_(e){le().setClient(e)}const $_="thismessage:/";function Qa(e){return"isRelative"in e}function Za(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?$_:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function H_(e){if(Qa(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Dn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function z_(e){return e.split(/[?#]/,1)[0]}function nn(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),i=e.indexOf(",");let o="";if(t&&i!==-1){const a=e.slice(i+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${s?",base64":""}${o?`,${o}`:""}`}return e}function W_(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return V_(e,n)||q_(e,r)}function q_(e,t){return t?Lu(e)===Lu(t):!1}function V_(e,t){const n=Za(e);return!n||Qa(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Lu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function G_(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Pf(e,t,n=[t],r="npm"){const s=(e._metadata=e._metadata||{}).sdk=e._metadata.sdk||{};s.name||(s.name=`sentry.javascript.${t}`,s.packages=n.map(i=>({name:`${r}:@sentry/${i}`,version:Mn})),s.version=Mn)}function Mf(e={}){const t=e.client||Q();if(!u_()||!t)return{};const n=Wn(),r=Nr(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||le(),i=e.span||Fe(),o=i?ry(i):K_(s),a=i?Bt(i):rf(t,s),c=Hg(a);if(!Kd.test(o))return O.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(d.traceparent=i?sy(i):Y_(s)),d}function K_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Yd(t,r,n)}function Y_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Jd(t,r,n)}function J_(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function d(){return s!==void 0||i!==void 0?c():r}function l(){return s&&clearTimeout(s),s=a(c,t),o&&i===void 0&&(i=a(c,o)),r}return l.cancel=u,l.flush=d,l}const X_=100;function un(e,t){const n=Q(),r=st();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=X_}=n.getOptions();if(i<=0)return;const a={timestamp:Vn(),...e},c=s?qn(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let Du;const Q_="FunctionToString",Fu=new WeakMap,Z_=()=>({name:Q_,setupOnce(){Du=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ba(this),n=Fu.has(Q())&&t!==void 0?t:this;return Du.apply(n,e)}}catch{}},setup(e){Fu.set(e,!0)}}),eS=Z_,tS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],nS="EventFilters",rS=(e={})=>{let t;return{name:nS,setup(n){const r=n.getOptions();t=ju(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=ju(e,i)}return iS(n,t)?null:n}}},sS=(e={})=>({...rS(e),name:"InboundFilters"});function ju(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:tS],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function iS(e,t){if(e.type){if(e.type==="transaction"&&aS(e,t.ignoreTransactions))return B&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${_n(e)}`),!0}else{if(oS(e,t.ignoreErrors))return B&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${_n(e)}`),!0;if(dS(e))return B&&O.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${_n(e)}`),!0;if(cS(e,t.denyUrls))return B&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${_n(e)}.
Url: ${gi(e)}`),!0;if(!uS(e,t.allowUrls))return B&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${_n(e)}.
Url: ${gi(e)}`),!0}return!1}function oS(e,t){return t!=null&&t.length?Rf(e).some(n=>Pt(n,t)):!1}function aS(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Pt(n,t):!1}function cS(e,t){if(!(t!=null&&t.length))return!1;const n=gi(e);return n?Pt(n,t):!1}function uS(e,t){if(!(t!=null&&t.length))return!0;const n=gi(e);return n?Pt(n,t):!0}function lS(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function gi(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,a,c;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(a=i.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?lS(s):null}catch{return B&&O.error(`Cannot extract url for event ${_n(e)}`),null}}function dS(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function fS(e,t,n,r,s,i){var a;if(!((a=s.exception)!=null&&a.values)||!i||!Dt(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=ea(e,t,r,i.originalException,n,s.exception.values,o,0))}function ea(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Dt(r[s],Error)){Bu(o,a,r);const u=e(t,r[s]),d=c.length;Uu(u,s,d,a),c=ea(e,t,n,r[s],s,[u,...c],u,d)}return Nf(r)&&r.errors.forEach((u,d)=>{if(Dt(u,Error)){Bu(o,a,r);const l=e(t,u),f=c.length;Uu(l,`errors[${d}]`,f,a),c=ea(e,t,n,u,s,[l,...c],l,f)}}),c}function Nf(e){return Array.isArray(e.errors)}function Bu(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...Nf(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function Uu(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function pS(e){const t="console";dn(t,e),fn(t,hS)}function hS(){"console"in te&&Qm.forEach(function(e){e in te.console&&ze(te.console,e,function(t){return fi[e]=t,function(...n){rt("console",{args:n,level:e});const s=fi[e];s==null||s.apply(te.console,n)}})})}function Lf(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const mS="Dedupe",gS=()=>{let e;return{name:mS,processEvent(t){if(t.type)return t;try{if(_S(t,e))return B&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},yS=gS;function _S(e,t){return t?!!(SS(e,t)||bS(e,t)):!1}function SS(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ff(e,t)||!Df(e,t))}function bS(e,t){const n=$u(t),r=$u(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ff(e,t)||!Df(e,t))}function Df(e,t){let n=Xc(e),r=Xc(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Ff(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function $u(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const ES="ConversationId",vS=()=>({name:ES,setup(e){e.on("spanStart",t=>{const n=le().getScopeData(),r=st().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute(Ng,s)})}}),xS=vS;function wS(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=ht()&&t(o);if(e.endTimestamp&&a){const m=e.fetchData.__span;if(!m)return;const h=r[m];h&&(RS(h,e),TS(h,e,s),delete r[m]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},d=!!Fe(),l=a&&d?Fr(CS(o,i,c)):new cn;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const m=e.args[0],h={...e.args[1]||{}},g=IS(m,h,ht()&&d?l:void 0,u);g&&(e.args[1]=h,h.headers=g)}const f=Q();if(f){const m={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",l,m)}return l}function TS(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function IS(e,t,n,r){const s=Mf({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(Fa(e)?e.headers:void 0);if(c)if(kS(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const d=u.get("baggage");d?$s(d)||u.set("baggage",`${d},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&$s(l[1]));return o&&!d&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,f=l?Array.isArray(l)?[...l]:[l]:[],m=l&&(Array.isArray(l)?l.find(g=>$s(g)):$s(l));o&&!m&&f.push(o);const h={...c,"sentry-trace":u??i,baggage:f.length>0?f.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...s}}function RS(e,t){var n,r;if(t.response){Hd(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:we,message:"internal_error"});e.end()}function $s(e){return e.split(",").some(t=>t.trim().startsWith(za))}function kS(e){return typeof Headers<"u"&&Dt(e,Headers)}function CS(e,t,n){if(e.startsWith("data:")){const i=nn(e);return{name:`${t} ${i}`,attributes:Hu(e,void 0,t,n)}}const r=Za(e),s=r?H_(r):e;return{name:`${t} ${s}`,attributes:Hu(e,r,t,n)}}function Hu(e,t,n,r){const s={url:nn(e),type:"fetch","http.method":n,[Te]:r,[jt]:"http.client"};return t&&(Qa(t)||(s["http.url"]=nn(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function jf(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const ns=te;function AS(){return"history"in ns&&!!ns.history}function OS(){if(!("fetch"in ns))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function ta(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function PS(){var n;if(typeof EdgeRuntime=="string")return!0;if(!OS())return!1;if(ta(ns.fetch))return!0;let e=!1;const t=ns.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=ta(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){B&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Bf(e,t){const n="fetch";dn(n,e),fn(n,()=>Uf(void 0,t))}function MS(e){const t="fetch-body-resolved";dn(t,e),fn(t,()=>Uf(LS))}function Uf(e,t=!1){t&&!PS()||ze(te,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=DS(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:ke()*1e3,virtualError:s,headers:FS(r)};return e||rt("fetch",{...a}),n.apply(te,r).then(async c=>(e?e(c):rt("fetch",{...a,endTimestamp:ke()*1e3,response:c}),c),c=>{rt("fetch",{...a,endTimestamp:ke()*1e3,error:c}),gs(c)&&c.stack===void 0&&(c.stack=s.stack,Ge(c,"framesToPop",1));const u=Q(),d=(u==null?void 0:u.getOptions().enhanceFetchErrorMessages)??"always";if(d!==!1&&c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(a.fetchData.url).host;d==="always"?c.message=`${c.message} (${m})`:Ge(c,"__sentry_fetch_url_host__",m)}catch{}throw c})}})}async function NS(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function LS(e){let t;try{t=e.clone()}catch{return}NS(t,()=>{rt("fetch-body-resolved",{endTimestamp:ke()*1e3,response:e})})}function ri(e,t){return!!e&&typeof e=="object"&&!!e[t]}function zu(e){return typeof e=="string"?e:e?ri(e,"url")?e.url:e.toString?e.toString():"":""}function DS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:zu(n),method:ri(r,"method")?String(r.method).toUpperCase():Fa(n)&&ri(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:zu(t),method:ri(t,"method")?String(t.method).toUpperCase():"GET"}}function FS(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Fa(t))return new Headers(t.headers)}catch{}}function jS(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function BS(){return"npm"}function US(){return!jS()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function na(){return typeof window<"u"&&(!US()||$S())}function $S(){const e=te.process;return(e==null?void 0:e.type)==="renderer"}const X=te;let ra=0;function $f(){return ra>0}function HS(){ra++,setTimeout(()=>{ra--})}function Tr(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Ba(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>Tr(o,t));return e.apply(this,i)}catch(i){throw HS(),Lr(o=>{o.addEventProcessor(a=>(t.mechanism&&(qo(a,void 0),Er(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Li(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Fd(r,e),Ge(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function ec(){const e=Mr(),{referrer:t}=X.document||{},{userAgent:n}=X.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function tc(e,t){const n=nc(e,t),r={type:GS(t),value:KS(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function zS(e,t,n,r){const s=Q(),i=s==null?void 0:s.getOptions().normalizeDepth,o=ZS(t),a={__serialized__:sf(t,i)};if(o)return{exception:{values:[tc(e,o)]},extra:a};const c={exception:{values:[{type:Mi(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:XS(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=nc(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function fo(e,t){return{exception:{values:[tc(e,t)]}}}function nc(e,t){const n=t.stacktrace||t.stack||"",r=qS(t),s=VS(t);try{return e(n,r,s)}catch{}return[]}const WS=/Minified React error #\d+;/i;function qS(e){return e&&WS.test(e.message)?1:0}function VS(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Hf(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function GS(e){const t=e==null?void 0:e.name;return!t&&Hf(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function KS(e){const t=e==null?void 0:e.message;return Hf(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?Nu(t.error):Nu(e):"No error message"}function YS(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=rc(e,t,s,r);return Er(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),vs(i)}function JS(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=sa(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),vs(o)}function rc(e,t,n,r,s){let i;if(Nd(t)&&t.error)return fo(e,t.error);if(Zc(t)||ug(t)){const o=t;if("stack"in t)i=fo(e,t);else{const a=o.name||(Zc(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=sa(e,c,n,r),qo(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return gs(t)?fo(e,t):Zr(t)||Mi(t)?(i=zS(e,t,n,s),Er(i,{synthetic:!0}),i):(i=sa(e,t,n,r),qo(i,`${t}`),Er(i,{synthetic:!0}),i)}function sa(e,t,n,r){const s={};if(r&&n){const i=nc(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Er(s,{synthetic:!0})}if(Da(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function XS(e,{isUnhandledRejection:t}){const n=mg(e),r=t?"promise rejection":"exception";return Nd(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Mi(e)?`Event \`${QS(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function QS(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ZS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class eb extends M_{constructor(t){var d;const n=tb(t),r=X.SENTRY_SDK_SOURCE||BS();Pf(n,"browser",["browser"],r),(d=n._metadata)!=null&&d.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??(a==null?void 0:a.enableMetrics)??!0;X.document&&(i||o||u)&&X.document.addEventListener("visibilitychange",()=>{X.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Sf(this),u&&Ef(this))}),s&&this.on("beforeSendSession",G_)}eventFromException(t,n){return YS(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return JS(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function tb(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=X.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const $n=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,q=te,nb=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",xs=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=nb(t.value,n),e(t)))}},ws=(e=!0)=>{var n,r;const t=(r=(n=q.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},jr=()=>{const e=ws();return(e==null?void 0:e.activationStart)??0};function rn(e,t,n){q.document&&q.addEventListener(e,t,n)}function yi(e,t,n){q.document&&q.removeEventListener(e,t,n)}let or=-1;const zf=new Set,rb=()=>{var e,t;return((e=q.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=q.document)!=null&&t.prerendering)?0:1/0},si=e=>{if(sb(e)&&or>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of zf)t();isFinite(or)||(or=e.type==="visibilitychange"?e.timeStamp:0,yi("prerenderingchange",si,!0))}},Ts=()=>{var e;if(q.document&&or<0){const t=jr();or=(q.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??rb(),rn("visibilitychange",si,!0),rn("pagehide",si,!0),rn("prerenderingchange",si,!0)}return{get firstHiddenTime(){return or},onHidden(t){zf.add(t)}}};function sb(e){var t;return e.type==="pagehide"||((t=q.document)==null?void 0:t.visibilityState)==="hidden"}const ib=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Is=(e,t=-1)=>{var i,o;const n=ws();let r="navigate";return n&&((i=q.document)!=null&&i.prerendering||jr()>0?r="prerender":(o=q.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:ib(),navigationType:r}},po=new WeakMap;function sc(e,t){try{return po.get(e)||po.set(e,new t),po.get(e)}catch{return new t}}class _i{constructor(){_i.prototype.__init.call(this),_i.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Br=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},ic=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Di=e=>{var t;(t=q.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},ob=[1800,3e3],ab=(e,t={})=>{Di(()=>{const n=Ts(),r=Is("FCP");let s;const o=Br("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-jr(),0),r.entries.push(c),s(!0)))});o&&(s=xs(e,r,ob,t.reportAllChanges))})},cb=[.1,.25],ub=(e,t={})=>{ab(ic(()=>{var c;const n=Is("CLS",0);let r;const s=Ts(),i=sc(t,_i),o=u=>{for(const d of u)i._processEntry(d);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=Br("layout-shift",o);a&&(r=xs(e,n,cb,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),(c=q==null?void 0:q.setTimeout)==null||c.call(q,r))}))};let Wf=0,ho=1/0,Hs=0;const lb=e=>{e.forEach(t=>{t.interactionId&&(ho=Math.min(ho,t.interactionId),Hs=Math.max(Hs,t.interactionId),Wf=Hs?(Hs-ho)/7+1:0)})};let ia;const qf=()=>ia?Wf:performance.interactionCount||0,db=()=>{"interactionCount"in performance||ia||(ia=Br("event",lb,{type:"event",buffered:!0,durationThreshold:0}))},mo=10;let Vf=0;const fb=()=>qf()-Vf;class Si{constructor(){Si.prototype.__init.call(this),Si.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Vf=qf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(fb()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<mo||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>mo){const o=this._longestInteractionList.splice(mo);for(const a of o)this._longestInteractionMap.delete(a.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const Gf=e=>{var n;const t=q.requestIdleCallback||q.setTimeout;((n=q.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=ic(e),rn("visibilitychange",e,{once:!0,capture:!0}),rn("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),yi("visibilitychange",e,{capture:!0}),yi("pagehide",e,{capture:!0})}))},pb=[200,500],hb=40,mb=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Ts();Di(()=>{db();const r=Is("INP");let s;const i=sc(t,Si),o=c=>{Gf(()=>{for(const d of c)i._processEntry(d);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=Br("event",o,{durationThreshold:t.durationThreshold??hb});s=xs(e,r,pb,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class gb{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const yb=[2500,4e3],_b=(e,t={})=>{Di(()=>{const n=Ts(),r=Is("LCP");let s;const i=sc(t,gb),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-jr(),0),r.entries=[u],s())},a=Br("largest-contentful-paint",o);if(a){s=xs(e,r,yb,t.reportAllChanges);const c=ic(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=d=>{d.isTrusted&&(Gf(c),yi(d.type,u,{capture:!0}))};for(const d of["keydown","click","visibilitychange"])rn(d,u,{capture:!0})}})},Sb=[800,1800],oa=e=>{var t,n;(t=q.document)!=null&&t.prerendering?Di(()=>oa(e)):((n=q.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>oa(e),!0):setTimeout(e)},bb=(e,t={})=>{const n=Is("TTFB"),r=xs(e,n,Sb,t.reportAllChanges);oa(()=>{const s=ws();s&&(n.value=Math.max(s.responseStart-jr(),0),n.entries=[s],r(!0))})},Gr={},bi={};let Kf,Yf,Jf,Xf;function oc(e,t=!1){return Fi("cls",e,vb,Kf,t)}function ac(e,t=!1){return Fi("lcp",e,xb,Yf,t)}function Eb(e){return Fi("ttfb",e,wb,Jf)}function Qf(e){return Fi("inp",e,Tb,Xf)}function Hn(e,t){return Zf(e,t),bi[e]||(Ib(e),bi[e]=!0),ep(e,t)}function Rs(e,t){const n=Gr[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){$n&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Lt(r)}
Error:`,s)}}function vb(){return ub(e=>{Rs("cls",{metric:e}),Kf=e},{reportAllChanges:!0})}function xb(){return _b(e=>{Rs("lcp",{metric:e}),Yf=e},{reportAllChanges:!0})}function wb(){return bb(e=>{Rs("ttfb",{metric:e}),Jf=e})}function Tb(){return mb(e=>{Rs("inp",{metric:e}),Xf=e})}function Fi(e,t,n,r,s=!1){Zf(e,t);let i;return bi[e]||(i=n(),bi[e]=!0),r&&t({metric:r}),ep(e,t,s?i:void 0)}function Ib(e){const t={};e==="event"&&(t.durationThreshold=0),Br(e,n=>{Rs(e,{entries:n})},t)}function Zf(e,t){Gr[e]=Gr[e]||[],Gr[e].push(t)}function ep(e,t,n){return()=>{n&&n();const r=Gr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Rb(e){return"duration"in e}const kb=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=q.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};rn("visibilitychange",t,{capture:!0,once:!0}),rn("pagehide",t,{capture:!0,once:!0})};function go(e){return typeof e=="number"&&isFinite(e)}function ln(e,t,n,{...r}){const s=ae(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ga(e,()=>{const i=Fr({startTime:t,...r});return i&&i.end(n),i})}function cc(e){var y;const t=Q();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u==null?void 0:u.getReplayId(),l=le(),f=l.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:m||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(y=q.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Fr({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function ks(){return q.addEventListener&&q.performance}function Se(e){return e/1e3}function Cb(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function tp(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function np(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}kb(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function Ab(e){let t=0,n;if(!tp("layout-shift"))return;const r=oc(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);np(e,(s,i)=>{Ob(t,n,i,s),r()})}function Ob(e,t,n,r){var u;$n&&O.log(`Sending CLS span (${e})`);const s=t?Se((Ye()||0)+t.startTime):ke(),i=le().getScopeData().transactionName,o=t?Ve((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[Te]:"auto.http.browser.cls",[jt]:"ui.webvital.cls",[Dr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,l)=>{a[`cls.source.${l+1}`]=Ve(d.node)});const c=cc({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[bs]:"",[Es]:e}),c.end(s))}function Pb(e){let t=0,n;if(!tp("largest-contentful-paint"))return;const r=ac(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);np(e,(s,i)=>{Mb(t,n,i,s),r()})}function Mb(e,t,n,r){$n&&O.log(`Sending LCP span (${e})`);const s=Se((Ye()||0)+((t==null?void 0:t.startTime)||0)),i=le().getScopeData().transactionName,o=t?Ve(t.element):"Largest contentful paint",a={[Te]:"auto.http.browser.lcp",[jt]:"ui.webvital.lcp",[Dr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ve(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=cc({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[bs]:"millisecond",[Es]:e}),c.end(s))}function Ze(e){return e&&((Ye()||performance.timeOrigin)+e)/1e3}function rp(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=Cb(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return Ye()||(n=ks())!=null&&n.timeOrigin?Nb({...t,"http.request.redirect_start":Ze(e.redirectStart),"http.request.redirect_end":Ze(e.redirectEnd),"http.request.worker_start":Ze(e.workerStart),"http.request.fetch_start":Ze(e.fetchStart),"http.request.domain_lookup_start":Ze(e.domainLookupStart),"http.request.domain_lookup_end":Ze(e.domainLookupEnd),"http.request.connect_start":Ze(e.connectStart),"http.request.secure_connection_start":Ze(e.secureConnectionStart),"http.request.connection_end":Ze(e.connectEnd),"http.request.request_start":Ze(e.requestStart),"http.request.response_start":Ze(e.responseStart),"http.request.response_end":Ze(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function Nb(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const Lb=2147483647;let Wu=0,ft={},Ue,tr;function Db({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ks();if(r&&Ye()){r.mark&&q.performance.mark("sentry-tracing-init");const s=t?Pb(n):$b(),i=Hb(),o=e?Ab(n):Ub();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function Fb(){Hn("longtask",({entries:e})=>{const t=Fe();if(!t)return;const{op:n,start_timestamp:r}=ae(t);for(const s of e){const i=Se(Ye()+s.startTime),o=Se(s.duration);n==="navigation"&&r&&i<r||ln(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Te]:"auto.ui.browser.metrics"}})}})}function jb(){new PerformanceObserver(t=>{const n=Fe();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=Se(Ye()+r.startTime),{start_timestamp:i,op:o}=ae(n);if(o==="navigation"&&i&&s<i)continue;const a=Se(r.duration),c={[Te]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:m,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),m&&(c["code.function"]=m),h!==-1&&(c["browser.script.source_char_position"]=h),ln(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Bb(){Hn("event",({entries:e})=>{const t=Fe();if(t){for(const n of e)if(n.name==="click"){const r=Se(Ye()+n.startTime),s=Se(n.duration),i={name:Ve(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Te]:"auto.ui.browser.metrics"}},o=Dd(n.target);o&&(i.attributes["ui.component_name"]=o),ln(t,r,r+s,i)}}})}function Ub(){return oc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ft.cls={value:e.value,unit:""},tr=t)},!0)}function $b(){return ac(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ft.lcp={value:e.value,unit:"millisecond"},Ue=t)},!0)}function Hb(){return Eb(({metric:e})=>{e.entries[e.entries.length-1]&&(ft.ttfb={value:e.value,unit:"millisecond"})})}function zb(e,t){const n=ks(),r=Ye();if(!(n!=null&&n.getEntries)||!r)return;const s=Se(r),i=n.getEntries(),{op:o,start_timestamp:a}=ae(e);i.slice(Wu).forEach(c=>{const u=Se(c.startTime),d=Se(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{Gb(e,c,s);break}case"mark":case"paint":case"measure":{qb(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=Ts(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(ft.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(ft.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Jb(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),Wu=Math.max(i.length-1,0),Xb(e),o==="pageload"&&(eE(ft),t.recordClsOnPageloadSpan||delete ft.cls,t.recordLcpOnPageloadSpan||delete ft.lcp,Object.entries(ft).forEach(([c,u])=>{Cy(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",jr()),Qb(e,t)),Ue=void 0,tr=void 0,ft={}}function Wb(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function qb(e,t,n,r,s,i){if(Wb(t)||["mark","measure"].includes(t.entryType)&&Pt(t.name,i))return;const o=ws(!1),a=Se(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[Te]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),Vb(l,t),c<=d&&ln(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function Vb(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&br(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(br(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Gb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{zs(e,t,r,n)}),zs(e,t,"secureConnection",n,"TLS/SSL"),zs(e,t,"fetch",n,"cache"),zs(e,t,"domainLookup",n,"DNS"),Yb(e,t,n)}function zs(e,t,n,r,s=n){const i=Kb(n),o=t[i],a=t[`${n}Start`];!a||!o||ln(e,r+Se(a),r+Se(o),{op:`browser.${s}`,name:t.name,attributes:{[Te]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Kb(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Yb(e,t,n){const r=n+Se(t.requestStart),s=n+Se(t.responseEnd),i=n+Se(t.responseStart);t.responseEnd&&(ln(e,r,s,{op:"browser.request",name:t.name,attributes:{[Te]:"auto.ui.browser.metrics"}}),ln(e,i,s,{op:"browser.response",name:t.name,attributes:{[Te]:"auto.ui.browser.metrics"}}))}function Jb(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const c={[Te]:"auto.resource.browser.metrics"},u=Dn(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(q.location.origin),Zb(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const d={...c,...rp(t)},l=i+r,f=l+s;ln(e,l,f,{name:n.replace(q.location.origin,""),op:a,attributes:d})}function Xb(e){const t=q.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),go(n.rtt)&&(ft["connection.rtt"]={value:n.rtt,unit:"millisecond"})),go(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),go(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Qb(e,t){Ue&&t.recordLcpOnPageloadSpan&&(Ue.element&&e.setAttribute("lcp.element",Ve(Ue.element)),Ue.id&&e.setAttribute("lcp.id",Ue.id),Ue.url&&e.setAttribute("lcp.url",Ue.url.trim().slice(0,200)),Ue.loadTime!=null&&e.setAttribute("lcp.loadTime",Ue.loadTime),Ue.renderTime!=null&&e.setAttribute("lcp.renderTime",Ue.renderTime),e.setAttribute("lcp.size",Ue.size)),tr!=null&&tr.sources&&t.recordClsOnPageloadSpan&&tr.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ve(n.node)))}function Zb(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<Lb||typeof i=="string")&&(t[s]=i)})}function eE(e){const t=ws(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function tE(){return ks()&&Ye()?Hn("element",nE):()=>{}}const nE=({entries:e})=>{const t=Fe(),n=t?Pe(t):void 0,r=n?ae(n).description:le().getScopeData().transactionName;e.forEach(s=>{var m,h;const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[Se(c),"load-time"]:a?[Se(a),"render-time"]:[ke(),"entry-emission"],l=o==="image-paint"?Se(Math.max(0,(a??0)-(c??0))):0,f={[Te]:"auto.ui.browser.elementtiming",[jt]:"ui.elementtiming",[pt]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":((h=(m=i.element)==null?void 0:m.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Ly({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},g=>{g.end(u+l)})})},rE=1e3;let qu,aa,ca;function sp(e){const t="dom";dn(t,e),fn(t,sE)}function sE(){if(!q.document)return;const e=rt.bind(null,"dom"),t=Vu(e,!0);q.document.addEventListener("click",t,!1),q.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=q[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(ze(s,"addEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=l[c]=l[c]||{refCount:0};if(!f.handler){const m=Vu(e);f.handler=m,a.call(this,c,m,d)}f.refCount++}catch{}return a.call(this,c,u,d)}}),ze(s,"removeEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__||{},f=l[c];f&&(f.refCount--,f.refCount<=0&&(a.call(this,c,f.handler,d),f.handler=void 0,delete l[c]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,d)}}))})}function iE(e){if(e.type!==aa)return!1;try{if(!e.target||e.target._sentryId!==ca)return!1}catch{}return!0}function oE(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Vu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=aE(n);if(oE(n.type,r))return;Ge(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ge(r,"_sentryId",Xe());const s=n.type==="keypress"?"input":n.type;iE(n)||(e({event:n,name:s,global:t}),aa=n.type,ca=r?r._sentryId:void 0),clearTimeout(qu),qu=q.setTimeout(()=>{ca=void 0,aa=void 0},rE)}}function aE(e){try{return e.target}catch{return null}}let Ws;function ji(e){const t="history";dn(t,e),fn(t,cE)}function cE(){if(q.addEventListener("popstate",()=>{const t=q.location.href,n=Ws;if(Ws=t,n===t)return;rt("history",{from:n,to:t})}),!AS())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Ws,i=uE(String(r));if(Ws=i,s===i)return t.apply(this,n);rt("history",{from:s,to:i})}return t.apply(this,n)}}ze(q.history,"pushState",e),ze(q.history,"replaceState",e)}function uE(e){try{return new URL(e,q.location.origin).toString()}catch{return e}}const ii={};function ip(e){const t=ii[e];if(t)return t;let n=q[e];if(ta(n))return ii[e]=n.bind(q);const r=q.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){$n&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(ii[e]=n.bind(q))}function lE(e){ii[e]=void 0}function Cs(...e){return ip("setTimeout")(...e)}const En="__sentry_xhr_v3__";function op(e){const t="xhr";dn(t,e),fn(t,dE)}function dE(){if(!q.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=ke()*1e3,o=Ot(r[0])?r[0].toUpperCase():void 0,a=fE(r[1]);if(!o||!a)return t.apply(n,r);n[En]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[En];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:ke()*1e3,startTimestamp:i,xhr:n,virtualError:s};rt("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,m]=l,h=d[En];return h&&Ot(f)&&Ot(m)&&(h.request_headers[f.toLowerCase()]=m),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[En];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:ke()*1e3,xhr:n};return rt("xhr",i),t.apply(n,r)}})}function fE(e){if(Ot(e))return e;try{return e.toString()}catch{}}const pE=Symbol.for("sentry__originalRequestBody");function ap(e){return new URLSearchParams(e).toString()}function cp(e,t=O){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[ap(e)];if(!e)return[void 0]}catch(n){return $n&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $n&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function up(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][pE];return n!==void 0?n:void 0}}function lp(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return $n&&O.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const yo=[],oi=new Map,Xn=new Map,hE=60;function mE(){if(ks()&&Ye()){const t=gE();return()=>{t()}}return()=>{}}const ua={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function gE(){return Qf(yE)}const yE=({metric:e})=>{if(e.value==null)return;const t=Se(e.value);if(t>hE)return;const n=e.entries.find(h=>h.duration===e.value&&ua[h.name]);if(!n)return;const{interactionId:r}=n,s=ua[n.name],i=Se(Ye()+n.startTime),o=Fe(),a=o?Pe(o):void 0,c=r!=null?oi.get(r):void 0,u=(c==null?void 0:c.span)||a,d=u?ae(u).description:le().getScopeData().transactionName,l=(c==null?void 0:c.elementName)||Ve(n.target),f={[Te]:"auto.http.browser.inp",[jt]:`ui.interaction.${s}`,[Dr]:n.duration},m=cc({name:l,transaction:d,attributes:f,startTime:i});m&&(m.addEvent("inp",{[bs]:"millisecond",[Es]:e.value}),m.end(i+t))};function _E(){const e=Object.keys(ua);na()&&e.forEach(s=>{q.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=Ve(i),a=Math.round(s.timeStamp);if(Xn.set(a,o),Xn.size>50){const c=Xn.keys().next().value;c!==void 0&&Xn.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=Xn.get(i);if(!o)for(let a=-5;a<=5;a++){const c=Xn.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=Fe(),o=i&&Pe(i);s.forEach(a=>{if(!Rb(a))return;const c=a.interactionId;if(c==null||oi.has(c))return;const u=a.target?Ve(a.target):n(a);if(yo.length>10){const d=yo.shift();oi.delete(d)}yo.push(c),oi.set(c,{span:o,elementName:u})})};Hn("event",r),Hn("first-input",r)}const SE=40;function bE(e,t=ip("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw lE("fetch"),c}finally{n-=o,r--}}return k_(e,s,Xa(e.bufferSize||SE))}const Ke=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,EE=30,vE=50;function la(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Bn:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const xE=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,TE=/\((\S*)(?::(\d+))(?::(\d+))\)/,IE=/at (.+?) ?\(data:(.+?),/,RE=e=>{const t=e.match(IE);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=xE.exec(e);if(n){const[,s,i,o]=n;return la(s,Bn,+i,+o)}const r=wE.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=TE.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=dp(r[1]||Bn,r[2]);return la(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},kE=[EE,RE],CE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,AE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,OE=e=>{const t=CE.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=AE.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Bn;return[s,r]=dp(s,r),la(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},PE=[vE,OE],ME=[kE,PE],NE=Cd(...ME),dp=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Bn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},qs=1024,LE="Breadcrumbs",DE=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:LE,setup(n){t.console&&pS(UE(n)),t.dom&&sp(BE(n,t.dom)),t.xhr&&op($E(n)),t.fetch&&Bf(HE(n)),t.history&&ji(zE(n)),t.sentry&&n.on("beforeSendEvent",jE(n))}}},FE=DE;function jE(e){return function(n){Q()===e&&un({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:_n(n)},{event:n})}}function BE(e,t){return function(r){if(Q()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>qs&&(Ke&&O.warn(`\`dom.maxStringLength\` cannot exceed ${qs}, but a value of ${a} was configured. Sentry will use ${qs} instead.`),a=qs),typeof o=="string"&&(o=[o]);try{const u=r.event,d=WE(u)?u.target:u;s=Ve(d,{keyAttrs:o,maxStringLength:a}),i=Dd(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),un(c,{event:r.event,name:r.name,global:r.global})}}function UE(e){return function(n){if(Q()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Lf(n.level),message:nu(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${nu(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;un(r,{input:n.args,level:n.level})}}function $E(e){return function(n){if(Q()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[En];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,d={method:o,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:jf(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),un(f,l)}}function HE(e){return function(n){if(Q()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),un(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:jf(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),un(c,a)}}}function zE(e){return function(n){if(Q()!==e)return;let r=n.from,s=n.to;const i=Dn(X.location.href);let o=r?Dn(r):void 0;const a=Dn(s);o!=null&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),un({category:"navigation",data:{from:r,to:s}})}}function WE(e){return!!e&&!!e.target}const qE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],VE="BrowserApiErrors",GE=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:VE,setupOnce(){t.setTimeout&&ze(X,"setTimeout",Gu),t.setInterval&&ze(X,"setInterval",Gu),t.requestAnimationFrame&&ze(X,"requestAnimationFrame",YE),t.XMLHttpRequest&&"XMLHttpRequest"in X&&ze(XMLHttpRequest.prototype,"send",JE);const n=t.eventTarget;n&&(Array.isArray(n)?n:qE).forEach(s=>XE(s,t))}}},KE=GE;function Gu(e){return function(...t){const n=t[0];return t[0]=Tr(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Lt(e)}`}}),e.apply(this,t)}}function YE(e){return function(t){return e.apply(this,[Tr(t,{mechanism:{data:{handler:Lt(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function JE(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ze(n,s,function(i){const o={mechanism:{data:{handler:Lt(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=Ba(i);return a&&(o.mechanism.data.handler=Lt(a)),Tr(i,o)})}),e.apply(this,t)}}function XE(e,t){var s,i;const r=(s=X[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(ze(r,"addEventListener",function(o){return function(a,c,u){try{QE(c)&&(c.handleEvent=Tr(c.handleEvent,{mechanism:{data:{handler:Lt(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&ZE(this,a,c),o.apply(this,[a,Tr(c,{mechanism:{data:{handler:Lt(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),ze(r,"removeEventListener",function(o){return function(a,c,u){try{const d=c.__sentry_wrapped__;d&&o.call(this,a,d,u)}catch{}return o.call(this,a,c,u)}}))}function QE(e){return typeof e.handleEvent=="function"}function ZE(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const ev=(e={})=>{const t=e.lifecycle??"route";return{name:"BrowserSession",setupOnce(){if(typeof X.document>"u"){Ke&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}xu({ignoreDuration:!0}),wu(),t==="route"&&ji(({from:n,to:r})=>{n!==void 0&&n!==r&&(xu({ignoreDuration:!0}),wu())})}}},tv="CultureContext",nv=()=>({name:tv,preprocessEvent(e){var n;const t=sv();t&&(e.contexts={...e.contexts,culture:{...t,...(n=e.contexts)==null?void 0:n.culture}})}}),rv=nv;function sv(){try{const e=X.Intl;if(!e)return;const t=e.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone,calendar:t.calendar}}catch{return}}const iv="GlobalHandlers",ov=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:iv,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(cv(n),Ku("onerror")),t.onunhandledrejection&&(uv(n),Ku("onunhandledrejection"))}}},av=ov;function cv(e){Od(t=>{const{stackParser:n,attachStacktrace:r}=fp();if(Q()!==e||$f())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=fv(rc(n,c||s,void 0,r,!1),i,o,a);u.level="error",pf(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function uv(e){Pd(t=>{const{stackParser:n,attachStacktrace:r}=fp();if(Q()!==e||$f())return;const s=lv(t),i=br(s)?dv(s):rc(n,s,void 0,r,!0);i.level="error",pf(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function lv(e){if(br(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function dv(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function fv(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=pv(t)??Mr();return c.length===0&&c.push({colno:u,filename:l,function:Bn,in_app:!0,lineno:d}),e}function Ku(e){Ke&&O.log(`Global Handler attached: ${e}`)}function fp(){const e=Q();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function pv(e){if(!(!Ot(e)||e.length===0))return e.startsWith("data:")?`<${nn(e,!1)}>`:e}const hv=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!X.navigator&&!X.location&&!X.document)return;const t=ec(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),mv="cause",gv=5,yv="LinkedErrors",_v=(e={})=>{const t=e.limit||gv,n=e.key||mv;return{name:yv,preprocessEvent(r,s,i){const o=i.getOptions();fS(tc,o.stackParser,n,t,r,s)}}},Sv=_v;function bv(){return Ev()?(Ke&&qn(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Ev(){var i;if(typeof X.window>"u")return!1;const e=X;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=Mr(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(X===X.top&&r.some(o=>n.startsWith(`${o}://`)))}function vv(e){return[sS(),eS(),xS(),KE(),FE(),av(),Sv(),yS(),hv(),rv(),ev()]}function xv(e={}){const t=!e.skipBrowserExtensionCheck&&bv();let n=e.defaultIntegrations==null?vv():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:ig(e.stackParser||NE),integrations:y_({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||bE};return B_(eb,r)}function Yu(e={}){const t=X.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){Ke&&O.error("[showReportDialog] Global document not defined");return}const r=le(),s=Q(),i=s==null?void 0:s.getDsn();if(!i){Ke&&O.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||c_()},a=X.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=m_(i,o);const{onLoad:c,onClose:u}=o;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{X.removeEventListener("message",d)}};X.addEventListener("message",d)}n.appendChild(a)}const he=te,uc="sentryReplaySession",wv="replay_event",lc="Unable to send Replay",Tv=3e5,Iv=9e5,Rv=5e3,kv=5500,Cv=6e4,Av=5e3,Ov=3,Ju=15e4,Vs=5e3,Pv=3e3,Mv=300,dc=2e7,Nv=4999,Lv=5e4,Xu=36e5;var Dv=Object.defineProperty,Fv=(e,t,n)=>t in e?Dv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qu=(e,t,n)=>Fv(e,typeof t!="symbol"?t+"":t,n),ve=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ve||{});function jv(e){return e.nodeType===e.ELEMENT_NODE}function Kr(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Yr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Bv(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Uv(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ei(e){try{const t=e.rules||e.cssRules;return t?Bv(Array.from(t,pp).join("")):null}catch{return null}}function $v(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function pp(e){let t;if(zv(e))try{t=Ei(e.styleSheet)||Uv(e)}catch{}else if(Wv(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=$v(e)),r&&(n=Hv(n)),r||s)return n}return t||e.cssText}function Hv(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function zv(e){return"styleSheet"in e}function Wv(e){return"selectorText"in e}class hp{constructor(){Qu(this,"idNodeMap",new Map),Qu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function qv(){return new hp}function Bi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function rs({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Ir(e){return e.toLowerCase()}function da(e){return e.toUpperCase()}const Zu="__rrweb_original__";function Vv(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Zu in i?i[Zu]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function fc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ir(t):null}function vi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function mp(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const el={};function gp(e){const t=el[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return el[e]=r.bind(window)}function fa(...e){return gp("setTimeout")(...e)}function yp(...e){return gp("clearTimeout")(...e)}function _p(e){try{return e.contentDocument}catch{}}let Gv=1;const Kv=new RegExp("[^a-z0-9-_:]"),ss=-2;function pc(){return Gv++}function Yv(e){if(e instanceof HTMLFormElement)return"form";const t=Ir(e.tagName);return Kv.test(t)?"div":t}function Jv(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Qn,tl;const Xv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Qv=/^(?:[a-z+]+:)?\/\//i,Zv=/^www\..*/i,ex=/^(data:)([^,]*),(.*)/i;function tx(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function xi(e,t){return(e||"").replace(Xv,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(Qv.test(c)||Zv.test(c))return`url(${u}${c}${u})`;if(ex.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Jv(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const nx=/^[^ \t\n\r\u000c]+/,rx=/^[, \t\n\r\u000c]+/;function sx(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(rx),!(n>=t.length);){let i=r(nx);if(i.slice(-1)===",")i=nr(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=nr(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}const nl=new WeakMap;function nr(e,t){return!t||t.trim()===""?t:Ui(e,t)}function ix(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ui(e,t){let n=nl.get(e);if(n||(n=e.createElement("a"),nl.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Sp(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return nr(e,r);if(n==="xlink:href"&&r[0]!=="#")return nr(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return nr(e,r);if(n==="srcset")return sx(e,r);if(n==="style"){let a=xi(r,Ui(e));return o&&o.size>0&&(a=tx(a,o)),a}else if(t==="object"&&n==="data")return nr(e,r);return typeof i=="function"?i(n,r,s):r}function bp(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function ox(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function ax(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function vn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:vn(e.parentNode,t,n,r+1)}function rr(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(ax(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Rr(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=vn(o,rr(r,s)),c<0)return!0;a=vn(o,rr(t,n),c>=0?c:1/0)}else{if(a=vn(o,rr(t,n)),a<0)return!1;c=vn(o,rr(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function cx(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=fa(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{yp(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return fa(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function ux(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=fa(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{yp(i),r=!0,t()})}function lx(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:y,dataURLOptions:S={},inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:P=!1,ignoreCSSAttributes:R}=t,x=dx(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ve.Document,childNodes:[],compatMode:e.compatMode}:{type:ve.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ve.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return px(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:S,inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:P,rootId:x,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,ignoreCSSAttributes:R});case e.TEXT_NODE:return fx(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:y,rootId:x});case e.CDATA_SECTION_NODE:return{type:ve.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:ve.Comment,textContent:e.textContent||"",rootId:x};default:return!1}}function dx(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function fx(e,t){var S;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const m=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||(S=e.parentNode.sheet)!=null&&S.cssRules&&(f=Ei(e.parentNode.sheet))}catch(T){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`,e)}f=xi(f,Ui(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const y=Rr(e,r,i,s,o,n);if(!m&&!h&&!g&&f&&y&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const T=Bi({type:null,tagName:l,maskInputOptions:c});f=rs({isMasked:Rr(e,r,i,s,o,T),element:e,value:f,maskInputFn:u})}return{type:ve.Text,textContent:f||"",isStyle:m,rootId:d}}function px(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskTextClass:y,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:I,ignoreCSSAttributes:w}=t,P=ox(e,r,s,i),R=Yv(e);let x={};const E=e.attributes.length;for(let C=0;C<E;C++){const M=e.attributes[C];M.name&&!bp(R,M.name,M.value)&&(x[M.name]=Sp(n,R,Ir(M.name),M.value,e,c,w))}if(R==="link"&&o){const C=Array.from(n.styleSheets).find(N=>N.href===e.href);let M=null;C&&(M=Ei(C)),M&&(x.rel=null,x.href=null,x.crossorigin=null,x._cssText=xi(M,C.href))}if(R==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const C=Ei(e.sheet);C&&(x._cssText=xi(C,Ui(n)))}if(R==="input"||R==="textarea"||R==="select"||R==="option"){const C=e,M=fc(C),N=vi(C,da(R),M),U=C.checked;if(M!=="submit"&&M!=="button"&&N){const F=Rr(C,y,T,S,I,Bi({type:M,tagName:da(R),maskInputOptions:a}));x.value=rs({isMasked:F,element:C,value:N,maskInputFn:u})}U&&(x.checked=U)}if(R==="option"&&(e.selected&&!a.select?x.selected=!0:delete x.selected),R==="canvas"&&f){if(e.__context==="2d")Vv(e)||(x.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const C=e.toDataURL(d.type,d.quality),M=n.createElement("canvas");M.width=e.width,M.height=e.height;const N=M.toDataURL(d.type,d.quality);C!==N&&(x.rr_dataURL=C)}}if(R==="img"&&l){Qn||(Qn=n.createElement("canvas"),tl=Qn.getContext("2d"));const C=e,M=C.currentSrc||C.getAttribute("src")||"<unknown-src>",N=C.crossOrigin,U=()=>{C.removeEventListener("load",U);try{Qn.width=C.naturalWidth,Qn.height=C.naturalHeight,tl.drawImage(C,0,0),x.rr_dataURL=Qn.toDataURL(d.type,d.quality)}catch(F){if(C.crossOrigin!=="anonymous"){C.crossOrigin="anonymous",C.complete&&C.naturalWidth!==0?U():C.addEventListener("load",U);return}else console.warn(`Cannot inline img src=${M}! Error: ${F}`)}C.crossOrigin==="anonymous"&&(N?x.crossOrigin=N:C.removeAttribute("crossorigin"))};C.complete&&C.naturalWidth!==0?U():C.addEventListener("load",U)}if((R==="audio"||R==="video")&&(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop)),P){const{width:C,height:M}=e.getBoundingClientRect();x={class:x.class,rr_width:`${C}px`,rr_height:`${M}px`}}R==="iframe"&&!m(x.src)&&(!P&&!_p(e)&&(x.rr_src=x.src),delete x.src);let D;try{customElements.get(R)&&(D=!0)}catch{}return{type:ve.Element,tagName:R,attributes:x,childNodes:[],isSVG:ix(e)||void 0,needBlock:P,rootId:g,isCustom:D}}function pe(e){return e==null?"":e.toLowerCase()}function hx(e,t){if(t.comment&&e.type===ve.Comment)return!0;if(e.type===ve.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&mp(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(pe(e.attributes.name).match(/^msapplication-tile(image|color)$/)||pe(e.attributes.name)==="application-name"||pe(e.attributes.rel)==="icon"||pe(e.attributes.rel)==="apple-touch-icon"||pe(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&pe(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(pe(e.attributes.property).match(/^(og|twitter|fb):/)||pe(e.attributes.name).match(/^(og|twitter):/)||pe(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(pe(e.attributes.name)==="robots"||pe(e.attributes.name)==="googlebot"||pe(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(pe(e.attributes.name)==="author"||pe(e.attributes.name)==="generator"||pe(e.attributes.name)==="framework"||pe(e.attributes.name)==="publisher"||pe(e.attributes.name)==="progid"||pe(e.attributes.property).match(/^article:/)||pe(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(pe(e.attributes.name)==="google-site-verification"||pe(e.attributes.name)==="yandex-verification"||pe(e.attributes.name)==="csrf-token"||pe(e.attributes.name)==="p:domain_verify"||pe(e.attributes.name)==="verify-v1"||pe(e.attributes.name)==="verification"||pe(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function sr(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:T,dataURLOptions:I={},inlineImages:w=!1,recordCanvas:P=!1,onSerialize:R,onIframeLoad:x,iframeLoadTimeout:E=5e3,onBlockedImageLoad:D,onStylesheetLoad:C,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:U=!1,ignoreCSSAttributes:F}=t;let{preserveWhiteSpace:ne=!0}=t;const G=lx(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,dataURLOptions:I,inlineImages:w,recordCanvas:P,keepIframeSrcFn:N,newlyAddedElement:U,ignoreCSSAttributes:F});if(!G)return console.warn(e,"not serialized"),null;let ee;r.hasNode(e)?ee=r.getId(e):hx(G,T)||!ne&&G.type===ve.Text&&!G.isStyle&&!G.textContent.replace(/^\s+|\s+$/gm,"").length?ee=ss:ee=pc();const A=Object.assign(G,{id:ee});if(r.add(e,A),ee===ss)return null;R&&R(e);let Y=!f;if(A.type===ve.Element){Y=Y&&!A.needBlock;const j=e.shadowRoot;j&&Yr(j)&&(A.isShadowHost=!0)}if((A.type===ve.Document||A.type===ve.Element)&&Y){T.headWhitespace&&A.type===ve.Element&&A.tagName==="head"&&(ne=!1);const j={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:P,preserveWhiteSpace:ne,onSerialize:R,onIframeLoad:x,iframeLoadTimeout:E,onBlockedImageLoad:D,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:N,ignoreCSSAttributes:F},K=e.childNodes?Array.from(e.childNodes):[];for(const Z of K){const ce=sr(Z,j);ce&&A.childNodes.push(ce)}if(jv(e)&&e.shadowRoot)for(const Z of Array.from(e.shadowRoot.childNodes)){const ce=sr(Z,j);ce&&(Yr(e.shadowRoot)&&(ce.isShadow=!0),A.childNodes.push(ce))}}if(e.parentNode&&Kr(e.parentNode)&&Yr(e.parentNode)&&(A.isShadow=!0),A.type===ve.Element&&A.tagName==="iframe"&&!A.needBlock&&cx(e,()=>{const j=_p(e);if(j&&x){const K=sr(j,{doc:j,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:P,preserveWhiteSpace:ne,onSerialize:R,onIframeLoad:x,iframeLoadTimeout:E,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:N,ignoreCSSAttributes:F});K&&x(e,K)}},E),A.type===ve.Element&&A.tagName==="img"&&!e.complete&&A.needBlock){const j=e,K=()=>{if(j.isConnected&&!j.complete&&D)try{const Z=j.getBoundingClientRect();Z.width>0&&Z.height>0&&D(j,A,Z)}catch{}j.removeEventListener("load",K)};j.isConnected&&j.addEventListener("load",K)}return A.type===ve.Element&&A.tagName==="link"&&typeof A.attributes.rel=="string"&&(A.attributes.rel==="stylesheet"||A.attributes.rel==="preload"&&typeof A.attributes.href=="string"&&mp(A.attributes.href)==="css")&&ux(e,()=>{if(C){const j=sr(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:P,preserveWhiteSpace:ne,onSerialize:R,onIframeLoad:x,iframeLoadTimeout:E,onStylesheetLoad:C,stylesheetLoadTimeout:M,keepIframeSrcFn:N,ignoreCSSAttributes:F});j&&C(e,j)}},M),A.type===ve.Element&&delete A.needBlock,A}function mx(e,t){const{mirror:n=new hp,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOM:T=!1,dataURLOptions:I,preserveWhiteSpace:w,onSerialize:P,onIframeLoad:R,iframeLoadTimeout:x,onBlockedImageLoad:E,onStylesheetLoad:D,stylesheetLoadTimeout:C,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:N=new Set([])}=t||{};return sr(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:I,inlineImages:f,recordCanvas:m,preserveWhiteSpace:w,onSerialize:P,onIframeLoad:R,iframeLoadTimeout:x,onBlockedImageLoad:E,onStylesheetLoad:D,stylesheetLoadTimeout:C,keepIframeSrcFn:M,newlyAddedElement:!1,ignoreCSSAttributes:N})}function De(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Zn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let rl={map:{},getId(){return console.error(Zn),-1},getNode(){return console.error(Zn),null},removeNodeFromMap(){console.error(Zn)},has(){return console.error(Zn),!1},reset(){console.error(Zn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(rl=new Proxy(rl,{get(e,t,n){return t==="map"&&console.error(Zn),Reflect.get(e,t,n)}}));function is(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(vx(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=$i(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Ep(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){$i(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Ep(e,t,i||{},!0)}function hc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let wi=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(wi=()=>new Date().getTime());function vp(e){var n,r,s,i,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function xp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function wp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Tp(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Je(e,t,n,r,s){if(!e)return!1;const i=Tp(e);if(!i)return!1;const o=rr(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=vn(i,o);let c=-1;return a<0?!1:(r&&(c=vn(i,rr(null,r))),a>-1&&c<0?!0:a<c)}function gx(e,t){return t.getId(e)!==-1}function _o(e,t){return t.getId(e)===ss}function Ip(e,t){if(Kr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Ip(e.parentNode,t):!0:!0}function pa(e){return!!e.changedTouches}function yx(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Rp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function kp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ha(e){return!!(e!=null&&e.shadowRoot)}class _x{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Cp(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Sx(e){let t=e,n;for(;n=Cp(t);)t=n;return t}function bx(e){const t=e.ownerDocument;if(!t)return!1;const n=Sx(e);return t.contains(n)}function Ap(e){const t=e.ownerDocument;return t?t.contains(e)||bx(e):!1}const sl={};function mc(e){const t=sl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return sl[e]=r.bind(window)}function Ex(...e){return mc("requestAnimationFrame")(...e)}function $i(...e){return mc("setTimeout")(...e)}function vx(...e){return mc("clearTimeout")(...e)}var J=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(J||{}),V=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(V||{}),Ne=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ne||{}),kt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(kt||{}),er=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(er||{});function gc(e){try{return e.contentDocument}catch{}}function xx(e){try{return e.contentWindow}catch{}}function il(e){return"__ln"in e}class wx{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&il(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&il(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ol=(e,t)=>`${e}@${t}`;class Tx{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new wx,s=c=>{let u=c,d=ss;for(;d===ss;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!Ap(c))return;const u=Kr(c.parentNode)?this.mirror.getId(Cp(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=sr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Rp(f,this.mirror)&&!Je(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),kp(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),ha(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{Je(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,m),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)},onBlockedImageLoad:(f,m,{width:h,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:m.id,attributes:{style:{width:`${h}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)al(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!cl(this.droppedSet,c)&&!al(this.removes,c,this.mirror)||cl(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),d=s(o.value);u!==-1&&d!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const m=d.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!_o(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Rr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Tp(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=fc(n),a=n.tagName;s=vi(n,a,o);const c=Bi({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=Rr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=rs({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!gc(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!bp(n.tagName,r)&&(i.attributes[r]=Sp(this.doc,Ir(n.tagName),Ir(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Kr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_o(n,this.mirror)||!gx(n,this.mirror)||(this.addedSet.has(n)?(ma(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Ip(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ol(r,s)]?ma(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Kr(t.target)&&Yr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(_o(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ol(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Je(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),ha(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ma(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>ma(e,r))}function al(e,t,n){return e.length===0?!1:Ix(e,t,n)}function Ix(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function cl(e,t){return e.size===0?!1:Op(e,t)}function Op(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Op(e,n):!1}let Jr;function Rx(e){Jr=e}function kx(){Jr=void 0}const oe=e=>Jr?(...n)=>{try{return e(...n)}catch(r){if(Jr&&Jr(r)===!0)return()=>{};throw r}}:e,ir=[];function As(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Pp(e,t){var o,a;const n=new Tx;ir.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(oe(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Cx({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=is(oe(l=>{const f=Date.now()-a;e(o.map(m=>(m.timeOffset-=f,m)),l),o=[],a=null}),i),u=oe(is(oe(l=>{const f=As(l),{clientX:m,clientY:h}=pa(l)?l.changedTouches[0]:l;a||(a=wi()),o.push({x:m,y:h,id:r.getId(f),timeOffset:wi()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?V.Drag:l instanceof MouseEvent?V.MouseMove:V.TouchMove)}),s,{trailing:!1})),d=[De("mousemove",u,n),De("touchmove",u,n),De("drag",u,n)];return oe(()=>{d.forEach(l=>l())})}function Ax({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const d=l=>f=>{const m=As(f);if(Je(m,r,s,i,!0))return;let h=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=kt.Mouse;break;case"touch":h=kt.Touch;break;case"pen":h=kt.Pen;break}h===kt.Touch?Ne[l]===Ne.MouseDown?g="TouchStart":Ne[l]===Ne.MouseUp&&(g="TouchEnd"):kt.Pen}else pa(f)&&(h=kt.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===kt.Touch||g.startsWith("Mouse")&&h===kt.Mouse)&&(h=null)):Ne[l]===Ne.Click&&(h=u,u=null);const y=pa(f)?f.changedTouches[0]:f;if(!y)return;const S=n.getId(m),{clientX:T,clientY:I}=y;oe(e)({type:Ne[g],id:S,x:T,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Ne).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Ir(l);const m=d(l);if(window.PointerEvent)switch(Ne[l]){case Ne.MouseDown:case Ne.MouseUp:f=f.replace("mouse","pointer");break;case Ne.TouchStart:case Ne.TouchEnd:return}c.push(De(f,m,t))}),oe(()=>{c.forEach(l=>l())})}function Mp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=oe(is(oe(c=>{const u=As(c);if(!u||Je(u,r,s,i,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=vp(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return De("scroll",a,t)}function Ox({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=oe(is(oe(()=>{const i=xp(),o=wp();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return De("resize",s,t)}const Px=["INPUT","TEXTAREA","SELECT"],ul=new WeakMap;function Mx({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function y(x){let E=As(x);const D=x.isTrusted,C=E&&da(E.tagName);if(C==="OPTION"&&(E=E.parentElement),!E||!C||Px.indexOf(C)<0||Je(E,r,s,i,!0))return;const M=E;if(M.classList.contains(o)||a&&M.matches(a))return;const N=fc(E);let U=vi(M,C,N),F=!1;const ne=Bi({maskInputOptions:c,tagName:C,type:N}),G=Rr(E,f,h,m,g,ne);(N==="radio"||N==="checkbox")&&(F=E.checked),U=rs({isMasked:G,element:E,value:U,maskInputFn:u}),S(E,l?{text:U,isChecked:F,userTriggered:D}:{text:U,isChecked:F});const ee=E.name;N==="radio"&&ee&&F&&t.querySelectorAll(`input[type="radio"][name="${ee}"]`).forEach(A=>{if(A!==E){const Y=rs({isMasked:G,element:A,value:vi(A,C,N),maskInputFn:u});S(A,l?{text:Y,isChecked:!F,userTriggered:!1}:{text:Y,isChecked:!F})}})}function S(x,E){const D=ul.get(x);if(!D||D.text!==E.text||D.isChecked!==E.isChecked){ul.set(x,E);const C=n.getId(x);oe(e)({...E,id:C})}}const I=(d.input==="last"?["change"]:["input","change"]).map(x=>De(x,oe(y),t)),w=t.defaultView;if(!w)return()=>{I.forEach(x=>x())};const P=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),R=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return P&&P.set&&I.push(...R.map(x=>Ep(x[0],x[1],{set(){oe(y)({target:this,isTrusted:!1})}},!1,w))),oe(()=>{I.forEach(x=>x())})}function Ti(e){const t=[];function n(r,s){if(Gs("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Gs("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Gs("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Gs("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function zt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Nx({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:oe((d,l,f)=>{const[m,h]=f,{id:g,styleId:y}=zt(l,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:m,index:h}]}),d.apply(l,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:oe((d,l,f)=>{const[m]=f,{id:h,styleId:g}=zt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),d.apply(l,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:oe((d,l,f)=>{const[m]=f,{id:h,styleId:g}=zt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:oe((d,l,f)=>{const[m]=f,{id:h,styleId:g}=zt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),d.apply(l,f)})}));const c={};Ks("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ks("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ks("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ks("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:oe((f,m,h)=>{const[g,y]=h,{id:S,styleId:T}=zt(m.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||T&&T!==-1)&&e({id:S,styleId:T,adds:[{rule:g,index:[...Ti(m),y||0]}]}),f.apply(m,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:oe((f,m,h)=>{const[g]=h,{id:y,styleId:S}=zt(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,removes:[{index:[...Ti(m),g]}]}),f.apply(m,h)})})}),oe(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Np({mirror:e,stylesheetManager:t},n){var o,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var u;return(u=i.get)==null?void 0:u.call(this)},set(u){var l;const d=(l=i.set)==null?void 0:l.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),oe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Lx({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:oe((a,c,u)=>{var g;const[d,l,f]=u;if(n.has(d))return i.apply(c,[d,l,f]);const{id:m,styleId:h}=zt((g=c.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:d,value:l,priority:f},index:Ti(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:oe((a,c,u)=>{var m;const[d]=u;if(n.has(d))return o.apply(c,[d]);const{id:l,styleId:f}=zt((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Ti(c.parentRule)}),a.apply(c,u)})}),oe(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Dx({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=oe(u=>is(oe(d=>{const l=As(d);if(!l||Je(l,t,n,r,!0))return;const{currentTime:f,volume:m,muted:h,playbackRate:g}=l;e({type:u,id:s.getId(l),currentTime:f,volume:m,muted:h,playbackRate:g})}),i.media||500)),c=[De("play",a(er.Play),o),De("pause",a(er.Pause),o),De("seeked",a(er.Seeked),o),De("volumechange",a(er.VolumeChange),o),De("ratechange",a(er.RateChange),o)];return oe(()=>{c.forEach(u=>u())})}function Fx({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,d){const l=new i(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const o=hc(t.fonts,"add",function(a){return function(c){return $i(oe(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),oe(()=>{r.forEach(a=>a())})}function jx(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=oe(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const m=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:y,endOffset:S}=m;Je(h,r,s,i,!0)||Je(y,r,s,i,!0)||d.push({start:n.getId(h),startOffset:g,end:n.getId(y),endOffset:S})}o({ranges:d})});return c(),De("selectionchange",c)}function Bx({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:hc(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Ux(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Pp(e,e.doc));const s=Cx(e),i=Ax(e),o=Mp(e),a=Ox(e,{win:n}),c=Mx(e),u=Dx(e);let d=()=>{},l=()=>{},f=()=>{},m=()=>{};e.recordDOM&&(d=Nx(e,{win:n}),l=Np(e,e.doc),f=Lx(e,{win:n}),e.collectFonts&&(m=Fx(e)));const h=jx(e),g=Bx(e),y=[];for(const S of e.plugins)y.push(S.observer(S.callback,n,S.options));return oe(()=>{ir.forEach(S=>S.reset()),r==null||r.disconnect(),s(),i(),o(),a(),c(),u(),d(),l(),f(),m(),h(),g(),y.forEach(S=>S())})}function Gs(e){return typeof window[e]<"u"}function Ks(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ga{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class $x{constructor(){this.crossOriginIframeMirror=new ga(pc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Hx{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ga(pc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ga(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=gc(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case J.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:J.IncrementalSnapshot,data:{source:V.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case J.Meta:case J.Load:case J.DomContentLoaded:return!1;case J.Plugin:return n;case J.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case J.IncrementalSnapshot:switch(n.data.source){case V.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case V.Drag:case V.TouchMove:case V.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case V.ViewportResize:return!1;case V.MediaInteraction:case V.MouseInteraction:case V.Scroll:case V.CanvasMutation:case V.Input:return this.replaceIds(n.data,t,["id"]),n;case V.StyleSheetRule:case V.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case V.Font:return n;case V.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case V.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ve.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class zx{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Wx{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Yr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Pp({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Mp({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),$i(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Np({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=gc(t),r=xx(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(hc(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Ap(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ys=0;Ys<ll.length;Ys++)qx[ll.charCodeAt(Ys)]=Ys;class dl{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Vx{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new _x,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:pp(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Gx{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Ex(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ge,Ii;var fd;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((fd=e.contentWindow)==null?void 0:fd.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const ct=qv();function Nt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:S,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,maxCanvasSize:P=null,packFn:R,sampling:x={},dataURLOptions:E={},mousemoveWait:D,recordDOM:C=!0,recordCanvas:M=!1,recordCrossOriginIframes:N=!1,recordAfter:U=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:F=!1,collectFonts:ne=!1,inlineImages:G=!1,plugins:ee,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:Y=new Set([]),errorHandler:j,onMutation:K,getCanvasManager:Z}=e;Rx(j);const ce=N?window.parent===window:!0;let me=!1;if(!ce)try{window.parent.document&&(me=!1)}catch{me=!0}if(ce&&!t)throw new Error("emit function is required");if(!ce&&!me)return()=>{};D!==void 0&&x.mousemove===void 0&&(x.mousemove=D),ct.reset();const xe=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},xt=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};yx();let je,wt=0;const Yn=ue=>{for(const it of ee||[])it.eventProcessor&&(ue=it.eventProcessor(ue));return R&&!me&&(ue=R(ue)),ue};ge=(ue,it)=>{var Be;const re=ue;if(re.timestamp=wi(),(Be=ir[0])!=null&&Be.isFrozen()&&re.type!==J.FullSnapshot&&!(re.type===J.IncrementalSnapshot&&re.data.source===V.Mutation)&&ir.forEach(Qe=>Qe.unfreeze()),ce)t==null||t(Yn(re),it);else if(me){const Qe={type:"rrweb",event:Yn(re),origin:window.location.origin,isCheckout:it};window.parent.postMessage(Qe,"*")}if(re.type===J.FullSnapshot)je=re,wt=0;else if(re.type===J.IncrementalSnapshot){if(re.data.source===V.Mutation&&re.data.isAttachIframe)return;wt++;const Qe=r&&wt>=r,fe=n&&je&&re.timestamp-je.timestamp>n;(Qe||fe)&&to(!0)}};const Tt=ue=>{ge({type:J.IncrementalSnapshot,data:{source:V.Mutation,...ue}})},Nc=ue=>ge({type:J.IncrementalSnapshot,data:{source:V.Scroll,...ue}}),zh=ue=>ge({type:J.IncrementalSnapshot,data:{source:V.CanvasMutation,...ue}}),Wh=ue=>ge({type:J.IncrementalSnapshot,data:{source:V.AdoptedStyleSheet,...ue}}),gn=new Vx({mutationCb:Tt,adoptedStyleSheetCb:Wh}),yn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new $x:new Hx({mirror:ct,mutationCb:Tt,stylesheetManager:gn,recordCrossOriginIframes:N,wrappedEmit:ge});for(const ue of ee||[])ue.getMirror&&ue.getMirror({nodeMirror:ct,crossOriginIframeMirror:yn.crossOriginIframeMirror,crossOriginIframeStyleMirror:yn.crossOriginIframeStyleMirror});const Zi=new Gx,eo=Yx(Z,{mirror:ct,win:window,mutationCb:ue=>ge({type:J.IncrementalSnapshot,data:{source:V.CanvasMutation,...ue}}),recordCanvas:M,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:P,sampling:x.canvas,dataURLOptions:E,errorHandler:j}),Fs=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new zx:new Wx({mutationCb:Tt,scrollCb:Nc,bypassOptions:{onMutation:K,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:xe,dataURLOptions:E,maskAttributeFn:T,maskTextFn:w,maskInputFn:I,recordCanvas:M,inlineImages:G,sampling:x,slimDOMOptions:xt,iframeManager:yn,stylesheetManager:gn,canvasManager:eo,keepIframeSrcFn:A,processedNodeManager:Zi,ignoreCSSAttributes:Y},mirror:ct}),to=(ue=!1)=>{if(!C)return;ge({type:J.Meta,data:{href:window.location.href,width:wp(),height:xp()}},ue),gn.reset(),Fs.init(),ir.forEach(re=>re.lock());const it=mx(document,{mirror:ct,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:xe,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,slimDOM:xt,dataURLOptions:E,recordCanvas:M,inlineImages:G,onSerialize:re=>{Rp(re,ct)&&yn.addIframe(re),kp(re,ct)&&gn.trackLinkElement(re),ha(re)&&Fs.addShadowRoot(re.shadowRoot,document)},onIframeLoad:(re,Be)=>{yn.attachIframe(re,Be),re.contentWindow&&eo.addWindow(re.contentWindow),Fs.observeAttachShadow(re)},onStylesheetLoad:(re,Be)=>{gn.attachLinkElement(re,Be)},onBlockedImageLoad:(re,Be,{width:Qe,height:fe})=>{Tt({adds:[],removes:[],texts:[],attributes:[{id:Be.id,attributes:{style:{width:`${Qe}px`,height:`${fe}px`}}}]})},keepIframeSrcFn:A,ignoreCSSAttributes:Y});if(!it)return console.warn("Failed to snapshot the document");ge({type:J.FullSnapshot,data:{node:it,initialOffset:vp(window)}}),ir.forEach(re=>re.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&gn.adoptStyleSheets(document.adoptedStyleSheets,ct.getId(document))};Ii=to;try{const ue=[],it=Be=>{var Qe;return oe(Ux)({onMutation:K,mutationCb:Tt,mousemoveCb:(fe,no)=>ge({type:J.IncrementalSnapshot,data:{source:no,positions:fe}}),mouseInteractionCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.MouseInteraction,...fe}}),scrollCb:Nc,viewportResizeCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.ViewportResize,...fe}}),inputCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.Input,...fe}}),mediaInteractionCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.MediaInteraction,...fe}}),styleSheetRuleCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.StyleSheetRule,...fe}}),styleDeclarationCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.StyleDeclaration,...fe}}),canvasMutationCb:zh,fontCb:fe=>ge({type:J.IncrementalSnapshot,data:{source:V.Font,...fe}}),selectionCb:fe=>{ge({type:J.IncrementalSnapshot,data:{source:V.Selection,...fe}})},customElementCb:fe=>{ge({type:J.IncrementalSnapshot,data:{source:V.CustomElement,...fe}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:xe,inlineStylesheet:h,sampling:x,recordDOM:C,recordCanvas:M,inlineImages:G,userTriggeredOnInput:F,collectFonts:ne,doc:Be,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,keepIframeSrcFn:A,blockSelector:i,unblockSelector:o,slimDOMOptions:xt,dataURLOptions:E,mirror:ct,iframeManager:yn,stylesheetManager:gn,shadowDomManager:Fs,processedNodeManager:Zi,canvasManager:eo,ignoreCSSAttributes:Y,plugins:((Qe=ee==null?void 0:ee.filter(fe=>fe.observer))==null?void 0:Qe.map(fe=>({observer:fe.observer,options:fe.options,callback:no=>ge({type:J.Plugin,data:{plugin:fe.name,payload:no}})})))||[]},{})};yn.addLoadListener(Be=>{try{ue.push(it(Be.contentDocument))}catch(Qe){console.warn(Qe)}});const re=()=>{to(),ue.push(it(document))};return document.readyState==="interactive"||document.readyState==="complete"?re():(ue.push(De("DOMContentLoaded",()=>{ge({type:J.DomContentLoaded,data:{}}),U==="DOMContentLoaded"&&re()})),ue.push(De("load",()=>{ge({type:J.Load,data:{}}),U==="load"&&re()},window))),()=>{ue.forEach(Be=>Be()),Zi.destroy(),Ii=void 0,kx()}}catch(ue){console.warn(ue)}}function Kx(e){if(!Ii)throw new Error("please take full snapshot after start recording");Ii(e)}Nt.mirror=ct;Nt.takeFullSnapshot=Kx;function Yx(e,t){try{return e?e(t):new dl}catch{return console.warn("Unable to initialize CanvasManager"),new dl}}var fl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(fl||(fl={}));const Jx=3,Xx=5;function yc(e){return e>9999999999?e:e*1e3}function So(e){return e>9999999999?e/1e3:e}function Os(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:J.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:dt(t,10,1e3)}}),t.category==="console")))}const Qx="button,a";function Lp(e){return e.closest(Qx)||e}function Dp(e){const t=Fp(e);return!t||!(t instanceof Element)?t:Lp(t)}function Fp(e){return Zx(e)?e.target:e}function Zx(e){return typeof e=="object"&&!!e&&"target"in e}let Wt;function ew(e){return Wt||(Wt=[],tw()),Wt.push(e),()=>{const t=Wt?Wt.indexOf(e):-1;t>-1&&Wt.splice(t,1)}}function tw(){ze(he,"open",function(e){return function(...t){if(Wt)try{Wt.forEach(n=>n())}catch{}return e.apply(he,t)}})}const nw=new Set([V.Mutation,V.StyleSheetRule,V.StyleDeclaration,V.AdoptedStyleSheet,V.CanvasMutation,V.Selection,V.MediaInteraction]);function rw(e,t,n){e.handleClick(t,n)}class sw{constructor(t,n,r=Os){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ew(()=>{this._lastMutation=pl()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ow(n,this._ignoreSelector)||!aw(t))return;const r={timestamp:So(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=So(t)}registerScroll(t=Date.now()){this._lastScroll=So(t)}registerClick(t){const n=Lp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=pl();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:he.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:he.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Cs(()=>this._checkClicks(),1e3)}}const iw=["A","BUTTON","INPUT"];function ow(e,t){return!!(!iw.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function aw(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function pl(){return Date.now()/1e3}function cw(e,t){try{if(!uw(t))return;const{source:n}=t.data;if(nw.has(n)&&e.registerMutation(t.timestamp),n===V.Scroll&&e.registerScroll(t.timestamp),lw(t)){const{type:r,id:s}=t.data,i=Nt.mirror.getNode(s);i instanceof HTMLElement&&r===Ne.Click&&e.registerClick(i)}}catch{}}function uw(e){return e.type===Jx}function lw(e){return e.data.source===V.MouseInteraction}function bt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var _c=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(_c||{});const dw=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function fw(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(dw.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const pw=e=>t=>{if(!e.isEnabled())return;const n=hw(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&rw(e.clickDetector,n,Dp(t.event)),Os(e,n)};function jp(e,t){const n=Nt.mirror.getId(e),r=n&&Nt.mirror.getNode(n),s=r&&Nt.mirror.getMeta(r),i=s&&gw(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===_c.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:fw(i.attributes)}}:{}}}function hw(e){const{target:t,message:n}=mw(e);return bt({category:`ui.${e.name}`,...jp(t,n)})}function mw(e){const t=e.name==="click";let n,r=null;try{r=t?Dp(e.event):Fp(e.event),n=Ve(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function gw(e){return e.type===_c.Element}function yw(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=_w(t);n&&Os(e,n)}function _w(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||Sw(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=Ve(o,{maxStringLength:200})||"<unknown>",d=jp(o,u);return bt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function Sw(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const bw={resource:Tw,paint:xw,navigation:ww};function bo(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Ew(e){return e.map(vw).filter(Boolean)}function vw(e){const t=bw[e.entryType];return t?t(e):null}function kr(e){return((Ye()||he.performance.timeOrigin)+e)/1e3}function xw(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=kr(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function ww(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:m,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:kr(m),end:kr(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:i,redirectCount:f}}}function Tw(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:kr(i),end:kr(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Iw(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Sc(e,"largest-contentful-paint",n)}function Rw(e){return e.sources!==void 0}function kw(e){const t=[],n=[];for(const r of e.entries)if(Rw(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=Nt.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Sc(e,"cumulative-layout-shift",n,t)}function Cw(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Sc(e,"interaction-to-next-paint",n)}function Sc(e,t,n,r){const s=e.value,i=e.rating,o=kr(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>Nt.mirror.getId(a)):void 0,attributions:r}}}function Aw(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Hn(s,n))}),r.push(ac(bo(Iw,e)),oc(bo(kw,e)),Qf(bo(Cw,e))),()=>{r.forEach(s=>s())}}const H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ow='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Pw(){const e=new Blob([Ow]);return URL.createObjectURL(e)}const hl=["log","warn","error"],ai="[Replay] ";function Eo(e,t="info"){un({category:"console",data:{logger:"replay"},level:t,message:`${ai}${e}`},{level:t})}function Mw(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return H?(hl.forEach(r=>{n[r]=(...s)=>{O[r](ai,...s),t&&Eo(s.join(""),Lf(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),O.error(ai,r),e?Li(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Eo(r,"error")},n.infoTick=(...r)=>{O.log(ai,...r),t&&setTimeout(()=>Eo(r[0]),0)}):hl.forEach(r=>{n[r]=()=>{}}),n}const z=Mw();class bc extends Error{constructor(){super(`Event buffer exceeded maximum size of ${dc}.`)}}class Bp{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>dc)throw new bc;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?yc(t):null}}class Nw{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():(H&&z.warn("Received worker message with unsuccessful status",r),n(new Error("Received worker message with unsuccessful status")))},{once:!0}),this._worker.addEventListener("error",r=>{H&&z.warn("Failed to load Replay compression worker",r),n(new Error(`Failed to load Replay compression worker: ${r instanceof ErrorEvent&&r.message?r.message:"Unknown error. This can happen due to CSP policy restrictions, network issues, or the worker script failing to load."}`))},{once:!0})}),this._ensureReadyPromise)}destroy(){H&&z.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){H&&z.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Lw{constructor(t){this._worker=new Nw(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=yc(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>dc?Promise.reject(new bc):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{H&&z.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Dw{constructor(t){this._fallback=new Bp,this._compression=new Lw(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){H&&z.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){H&&z.exception(i,"Failed to add events when switching buffers.")}}}function Fw({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=jw(t);if(n)return n}return H&&z.log("Using simple buffer"),new Bp}function jw(e){try{const t=e||Bw();if(!t)return;H&&z.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Dw(n)}catch(t){H&&z.exception(t,"Failed to create compression worker")}}function Bw(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Pw():""}function Ec(){try{return"sessionStorage"in he&&!!he.sessionStorage}catch{return!1}}function Uw(e){$w(),e.session=void 0}function $w(){if(Ec())try{he.sessionStorage.removeItem(uc)}catch{}}function Up(e){return e===void 0?!1:Math.random()<e}function Hi(e){if(Ec())try{he.sessionStorage.setItem(uc,JSON.stringify(e))}catch{}}function $p(e){const t=Date.now(),n=e.id||Xe(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a,dirty:c}}function Hw(e,t){return Up(e)?"session":t?"buffer":!1}function ml({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Hw(e,t),i=$p({sampled:s,previousSessionId:r});return n&&Hi(i),i}function zw(){if(!Ec())return null;try{const e=he.sessionStorage.getItem(uc);if(!e)return null;const t=JSON.parse(e);return H&&z.infoTick("Loading existing session"),$p(t)}catch{return null}}function ya(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Hp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ya(e.started,t,r)||ya(e.lastActivity,n,r)}function zp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Hp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function vo({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&zw();return s?zp(s,{sessionIdleExpire:e,maxReplayDuration:t})?(H&&z.infoTick("Session in sessionStorage is expired, creating new one..."),ml(r,{previousSessionId:s.id})):s:(H&&z.infoTick("Creating new session"),ml(r,{previousSessionId:n}))}function Ww(e){return e.type===J.Custom}function vc(e,t,n){return qp(e,t)?(Wp(e,t,n),!0):!1}function qw(e,t,n){return qp(e,t)?Wp(e,t,n):Promise.resolve(null)}async function Wp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=Vw(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof bc,a=o?"addEventSizeExceeded":"addEvent",c=Q();if(c){const u=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a})}}function qp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=yc(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(H&&z.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Vw(e,t){try{if(typeof t=="function"&&Ww(e))return t(e)}catch(n){return H&&z.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function xc(e){return!e.type}function _a(e){return e.type==="transaction"}function Gw(e){return e.type==="replay_event"}function gl(e){return e.type==="feedback"}function Kw(e){return(t,n)=>{if(!e.isEnabled()||!xc(t)&&!_a(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(_a(t)){Yw(e,t);return}Jw(e,t)}}}function Yw(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Jw(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Cs(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function Xw(e){return t=>{!e.isEnabled()||!xc(t)||Qw(e,t)}}function Qw(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=bt({category:"replay.hydrate-error",data:{url:Mr()}});Os(e,o)}}function Zw(e){const t=Q();t&&t.on("beforeAddBreadcrumb",n=>e0(e,n))}function e0(e,t){if(!e.isEnabled()||!Vp(t))return;const n=t0(t);n&&Os(e,n)}function t0(e){return!Vp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?n0(e):bt(e)}function n0(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return bt(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Vs?(n=!0,`${i.slice(0,Vs)}`):i;if(typeof i=="object")try{const o=dt(i,7);return JSON.stringify(o).length>Vs?(n=!0,`${JSON.stringify(o,null,2).slice(0,Vs)}`):o}catch{}return i});return bt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Vp(e){return!!e.category}function r0(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function Gp(){const e=le().getPropagationContext().dsc;e&&delete e.replay_id;const t=Fe();if(t){const n=Bt(t);delete n.replay_id}}function s0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:J.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function i0(e,t){return e.recordingMode!=="buffer"||t.message===lc||!t.exception||t.type?!1:Up(e.getOptions().errorSampleRate)}function o0(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(Gw(t))return delete t.breadcrumbs,t;if(!xc(t)&&!_a(t)&&!gl(t))return t;if(!e.checkAndHandleExpiredSession())return Gp(),t;if(gl(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),s0(e,t),t;if(r0(t,n)&&!e.getOptions()._experiments.captureExceptions)return H&&z.log("Ignoring error from rrweb internals",t),null;const s=i0(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const a=e.session;a.dirty=!0,e.getOptions().stickySession&&Hi(a)}return t},{id:"Replay"})}function zi(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:J.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function a0(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function c0(e){return t=>{if(!e.isEnabled())return;const n=a0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(zi(e,[n]),!1)))}}function u0(e,t){return H&&e.getOptions()._experiments.traceInternals?!1:W_(t,Q())}function Kp(e,t){e.isEnabled()&&t!==null&&(u0(e,t.name)||e.addUpdate(()=>(zi(e,[t]),!0)))}function Wi(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=ap(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Yp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ri(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Jp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:c}}}function os(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function sn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=l0(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function Sa(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function l0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ju,n=d0(e);if(t){const r=e.slice(0,Ju);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function d0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ki(e,t){const n=f0(e);return Pt(n,t)}function f0(e,t=he.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(he.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function p0(e,t,n){try{const r=await m0(e,t,n),s=Jp("resource.fetch",r);Kp(n.replay,s)}catch(r){H&&z.exception(r,"Failed to capture fetch breadcrumb")}}function h0(e,t){const{input:n,response:r}=t,s=n?up(n):void 0,i=Wi(s),o=r?Yp(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function m0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ki(o,n.networkDetailAllowUrls)&&!ki(o,n.networkDetailDenyUrls),f=l?g0(n,t.input,u):os(u),m=await y0(l,n,t.response,d);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:m}}function g0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?b0(n,t):{};if(!e)return sn(s,r,void 0);const i=up(n),[o,a]=cp(i,z),c=sn(s,r,o);return a?Ri(c,a):c}async function y0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return os(s);const i=r?Xp(r.headers,n):{};if(!r||!t&&s!==void 0)return sn(i,s,void 0);const[o,a]=await S0(r),c=_0(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?Ri(c,a):c}function _0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?Wi(e):n;return r?t?sn(s,i,e):sn(s,i,void 0):os(i)}catch(i){return H&&z.exception(i,"Failed to serialize response body"),sn(s,n,void 0)}}async function S0(e){const t=E0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await v0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(H&&z.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(H&&z.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Xp(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function b0(e,t){return e.length===1&&typeof e[0]!="string"?yl(e[0],t):e.length===2?yl(e[1],t):{}}function yl(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Xp(n,t):Array.isArray(n)?{}:Sa(n,t):{}}function E0(e){try{return e.clone()}catch(t){H&&z.exception(t,"Failed to clone response body")}}function v0(e){return new Promise((t,n)=>{const r=Cs(()=>n(new Error("Timeout while trying to read response body")),500);x0(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function x0(e){return await e.text()}async function w0(e,t,n){try{const r=I0(e,t,n),s=Jp("resource.xhr",r);Kp(n.replay,s)}catch(r){H&&z.exception(r,"Failed to capture xhr breadcrumb")}}function T0(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=Wi(r),i=n.getResponseHeader("content-length")?Yp(n.getResponseHeader("content-length")):C0(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function I0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!ki(c,n.networkDetailAllowUrls)||ki(c,n.networkDetailDenyUrls)){const R=os(l),x=os(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:R,response:x}}const m=a[En],h=m?Sa(m.request_headers,n.networkRequestHeaders):{},g=Sa(lp(a),n.networkResponseHeaders),[y,S]=n.networkCaptureBodies?cp(o,z):[void 0],[T,I]=n.networkCaptureBodies?R0(a):[void 0],w=sn(h,l,y),P=sn(g,f,T);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:S?Ri(w,S):w,response:I?Ri(P,I):P}}function R0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return k0(e.response,e.responseType)}catch(n){t.push(n)}return H&&z.warn("Failed to get xhr response body",...t),[void 0]}function k0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return H&&z.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return H&&z.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function C0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Wi(n)}catch{return}}function A0(e){const t=Q();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>O0(a,c,u))}catch{}}function O0(e,t,n){if(t.data)try{P0(t)&&N0(n)&&(T0(t,n),w0(t,n,e)),M0(t)&&L0(n)&&(h0(t,n),p0(t,n,e))}catch(r){H&&z.exception(r,"Error when enriching network breadcrumb")}}function P0(e){return e.category==="xhr"}function M0(e){return e.category==="fetch"}function N0(e){return e==null?void 0:e.xhr}function L0(e){return e==null?void 0:e.response}function D0(e){const t=Q();sp(pw(e)),ji(c0(e)),Zw(e),A0(e);const n=o0(e);l_(n),t&&(t.on("beforeSendEvent",Xw(e)),t.on("afterSendEvent",Kw(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function F0(e){try{return Promise.all(zi(e,[j0(he.performance.memory)]))}catch{return[]}}function j0(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function B0(e,t,n){return J_(e,t,{...n,setTimeoutImpl:Cs})}const et=te.navigator;function U0(){return/iPhone|iPad|iPod/i.test((et==null?void 0:et.userAgent)??"")||/Macintosh/i.test((et==null?void 0:et.userAgent)??"")&&(et!=null&&et.maxTouchPoints)&&(et==null?void 0:et.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function $0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){H&&z.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&cw(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!vc(e,n,s))return!0;if(!s)return!1;const i=e.session;if(z0(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(H&&z.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&Hi(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function H0(e){const t=e.getOptions();return{type:J.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function z0(e,t){!t||!e.session||e.session.segmentId!==0||vc(e,H0(e),!1)}function W0(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function q0(e,t,n,r){return hn(of(e,Va(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function V0({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function G0({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await ff(e.getOptions(),r,i,t,e,st());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:d}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},o}async function K0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=V0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=Q(),f=le(),m=l==null?void 0:l.getTransport(),h=l==null?void 0:l.getDsn();if(!l||!m||!h||!i.sampled)return Promise.resolve({});const g={type:wv,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await G0({scope:f,client:l,replayId:t,event:g});if(!y)return l.recordDroppedEvent("event_processor","replay"),H&&z.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const S=q0(y,o,h,l.getOptions().tunnel);let T;try{T=await m.send(S)}catch(w){const P=new Error(lc);try{P.cause=w}catch{}throw P}const I=Tf({},T);if(wf(I,"replay"))throw new wc(I);if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new Qp(T.statusCode);return T}class Qp extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class wc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class _l extends Error{constructor(){super("Session is too long, not sending replay")}}async function Zp(e,t={count:0,interval:Av}){const{recordingData:n,onError:r}=e;if(n.length)try{return await K0(e),!0}catch(s){if(s instanceof Qp||s instanceof wc)throw s;if(hf("Replays",{_retryCount:t.count}),r&&r(s),t.count>=Ov){const i=new Error(`${lc} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{Cs(async()=>{try{await Zp(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const eh="__THROTTLED",Y0="__SKIPPED";function J0(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const d=o;return o=!0,d?Y0:eh}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class X0{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Tv,sessionIdleExpire:Iv},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=B0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=J0((o,a)=>qw(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Pv,r),timeout:r,scrollTimeout:Mv,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new sw(this,i)),H){const o=t._experiments;z.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{he.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=bt({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=bt({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{yw(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){H&&z.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){H&&z.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",H&&z.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){H&&z.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){H&&z.log("Buffering is in progress, call `flush()` to save the replay");return}H&&z.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=vo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){H&&z.log("Buffering is in progress, call `flush()` to save the replay");return}H&&z.infoTick("Starting replay in buffer mode");const t=vo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Nt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Cv}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:$0(this),...U0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{H&&z.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Gp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,Uw(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),H&&z.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),H&&z.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();H&&z.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ya(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${he.location.pathname}${he.location.hash}${he.location.search}`,n=`${he.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===eh){const s=bt({category:"replay.throttled"});this.addUpdate(()=>!vc(this,{type:Xx,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Fe(),n=t&&Pe(t),s=(n&&ae(n).data||{})[pt];if(!(!n||!s||!["route","custom"].includes(s)))return ae(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Fw({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=vo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return zp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{he.document.addEventListener("visibilitychange",this._handleVisibilityChange),he.addEventListener("blur",this._handleWindowBlur),he.addEventListener("focus",this._handleWindowFocus),he.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(D0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Aw(this)}_removeListeners(){try{he.document.removeEventListener("visibilitychange",this._handleVisibilityChange),he.removeEventListener("blur",this._handleWindowBlur),he.removeEventListener("focus",this._handleWindowFocus),he.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Hp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){H&&z.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:J.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Ew(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(zi(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){H&&z.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await F0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new _l;const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Zp({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=Q();if(s){let i;r instanceof wc?i="ratelimit_backoff":r instanceof _l?i="invalid":i="send_error",s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){H&&z.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){H&&z.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&H&&z.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Hi(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=W0(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const a=bt({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Wr(e,t){return[...e,...t].join(",")}function Q0({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=Wr(e,[".sentry-mask","[data-sentry-mask]"]),a=Wr(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Wr(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Wr(r,[]),ignoreSelector:Wr(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Z0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Sl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',eT=["content-length","content-type","accept"],tT=Symbol.for("sentry__originalRequestBody");let bl=!1,El=!1;function nT(){if(typeof Request>"u"||El)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[tT]=r.body),s};t.prototype=e.prototype,te.Request=t,El=!0}catch{}}const rT=e=>new sT(e);class sT{constructor({flushMinDelay:t=Rv,flushMaxDelay:n=kv,minReplayDuration:r=Nv,maxReplayDuration:s=Xu,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:m=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:S=[],networkCaptureBodies:T=!0,networkRequestHeaders:I=[],networkResponseHeaders:w=[],mask:P=[],maskAttributes:R=["title","placeholder","aria-label"],unmask:x=[],block:E=[],unblock:D=[],ignore:C=[],maskFn:M,beforeAddRecordingEvent:N,beforeErrorSampling:U,onError:F,attachRawBodyFromRequest:ne=!1}={}){this.name="Replay";const G=Q0({mask:P,unmask:x,block:E,unblock:D,ignore:C});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(ee,A,Y)=>Z0({maskAttributes:R,maskAllText:u,privacyOptions:G,key:ee,value:A,el:Y}),...G,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ee=>{try{ee.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Lv),maxReplayDuration:Math.min(s,Xu),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:m,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:S,networkCaptureBodies:T,networkRequestHeaders:vl(I),networkResponseHeaders:vl(w),beforeAddRecordingEvent:N,beforeErrorSampling:U,onError:F,attachRawBodyFromRequest:ne,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Sl}`:Sl,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&na())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return bl}set _isInitialized(t){bl=t}afterAllSetup(t){!na()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&nT(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=iT(this._initialOptions,t);this._replay=new X0({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function iT(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Un(n.replaysSessionSampleRate),i=Un(n.replaysOnErrorSampleRate);return s==null&&i==null&&qn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function vl(e){return[...eT,...e.map(t=>t.toLowerCase())]}function oT(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function th(e){try{return new URL(e,X.location.origin).href}catch{return}}function aT(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function nh(e){try{return new Headers(e)}catch{return}}const xl=new WeakMap,xo=new Map,rh={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function cT(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...rh,...t},d=typeof i=="function"?i:h=>!0,l=h=>uT(h,a),f={},m=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const y=xo.get(g.span_id);y&&(g.timestamp=y/1e3,xo.delete(g.span_id))}}),h)),s&&MS(h=>{if(h.response){const g=xl.get(h.response);g&&h.endTimestamp&&xo.set(g,h.endTimestamp)}}),Bf(h=>{const g=wS(h,d,l,f,{propagateTraceparent:m,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&xl.set(h.response,h.fetchData.__span),g){const y=th(h.fetchData.url),S=y?Dn(y).host:void 0;g.setAttributes({"http.url":y?nn(y):void 0,"server.address":S}),o&&wl(g),c==null||c(g,{headers:h.headers})}})),r&&op(h=>{var y;const g=lT(h,d,l,f,m,u);g&&(o&&wl(g),c==null||c(g,{headers:nh((y=h.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function wl(e){const{url:t}=ae(e).data;if(!t||typeof t!="string")return;const n=Hn("resource",({entries:r})=>{r.forEach(s=>{aT(s)&&s.name.endsWith(t)&&(e.setAttributes(rp(s)),setTimeout(n))})})}function uT(e,t){const n=Mr();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?Pt(r.toString(),t)||i&&Pt(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?Pt(e,t):r}}function lT(e,t,n,r,s,i){const o=e.xhr,a=o==null?void 0:o[En];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,d=ht()&&t(c);if(e.endTimestamp&&d){const S=o.__sentry_xhr_span_id__;if(!S)return;const T=r[S];T&&a.status_code!==void 0&&(Hd(T,a.status_code),T.end(),i==null||i(T,{headers:nh(lp(o)),error:e.error}),delete r[S]);return}const l=th(c),f=Dn(l||c),m=nn(z_(c)),h=!!Fe(),g=d&&h?Fr({name:`${u} ${m}`,attributes:{url:nn(c),type:"xhr","http.method":u,"http.url":l?nn(l):void 0,"server.address":f==null?void 0:f.host,[Te]:"auto.http.browser",[jt]:"http.client",...(f==null?void 0:f.search)&&{"http.query":f==null?void 0:f.search},...(f==null?void 0:f.hash)&&{"http.fragment":f==null?void 0:f.hash}}}):new cn;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(c)&&dT(o,ht()&&h?g:void 0,s);const y=Q();return y&&y.emit("beforeOutgoingRequestSpan",g,e),g}function dT(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=Mf({span:t,propagateTraceparent:n});r&&fT(e,r,s,i)}function fT(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!oT(o))&&e.setRequestHeader("baggage",n)}}catch{}}function pT(){X.document?X.document.addEventListener("visibilitychange",()=>{const e=Fe();if(!e)return;const t=Pe(e);if(X.document.hidden&&t){const n="cancelled",{op:r,status:s}=ae(t);Ke&&O.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:we,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ke&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const hT=3600,sh="sentry_previous_trace",mT="sentry.previous_trace";function gT(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?ST():void 0;e.on("spanStart",o=>{if(Pe(o)!==o)return;const a=le().getPropagationContext();s=yT(s,o,a),r&&_T(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=le(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(ba(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=ba(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[$d]:s.sampleRate}})}function yT(e,t,n){const r=ae(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[Ua])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=hT&&(Ke&&O.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Mg]:"previous_trace"}}),t.setAttribute(mT,`${o.traceId}-${o.spanId}-${ba(o)?1:0}`)),i)}function _T(e){try{X.sessionStorage.setItem(sh,JSON.stringify(e))}catch(t){Ke&&O.warn("Could not store previous trace in sessionStorage",t)}}function ST(){var e;try{const t=(e=X.sessionStorage)==null?void 0:e.getItem(sh);return JSON.parse(t)}catch{return}}function ba(e){return e.traceFlags===1}const bT="BrowserTracing",ET={...ti,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...rh},vT=(e={})=>{const t={name:void 0,source:void 0},n=X.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:m,markBackgroundSpan:h,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:T,enableHTTPTimings:I,ignoreResourceSpans:w,ignorePerformanceApiSpans:P,instrumentPageLoad:R,instrumentNavigation:x,detectRedirects:E,linkPreviousTrace:D,consistentTraceSampling:C,enableReportPageLoaded:M,onRequestSpanStart:N,onRequestSpanEnd:U}={...ET,...e};let F,ne,G;function ee(A,Y,j=!0){const K=Y.op==="pageload",Z=Y.name,ce=d?d(Y):Y,me=ce.attributes||{};if(Z!==ce.name&&(me[pt]="custom",ce.attributes=me),!j){const je=Vn();Fr({...ce,startTime:je}).end(je);return}t.name=ce.name,t.source=me[pt];const xe=df(ce,{idleTimeout:l,finalTimeout:f,childSpanTimeout:m,disableAutoFinish:K,beforeSpanEnd:je=>{F==null||F(),zb(je,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:P}),Rl(A,void 0);const wt=le(),Yn=wt.getPropagationContext();wt.setPropagationContext({...Yn,traceId:xe.spanContext().traceId,sampled:pn(xe),dsc:Bt(je)}),K&&(G=void 0)},trimIdleSpanEndTimestamp:!M});K&&M&&(G=xe),Rl(A,xe);function xt(){n&&["interactive","complete"].includes(n.readyState)&&A.emit("idleSpanEnableAutoFinish",xe)}K&&!M&&n&&(n.addEventListener("readystatechange",()=>{xt()}),xt())}return{name:bT,setup(A){if(cy(),F=Db({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:A}),r&&mE(),s&&tE(),o&&te.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?jb():i&&Fb(),a&&Bb(),E&&n){const j=()=>{ne=ke()};addEventListener("click",j,{capture:!0}),addEventListener("keydown",j,{capture:!0,passive:!0})}function Y(){const j=as(A);j&&!ae(j).timestamp&&(Ke&&O.log(`[Tracing] Finishing current active span with op: ${ae(j).op}`),j.setAttribute(es,"cancelled"),j.end())}A.on("startNavigationSpan",(j,K)=>{if(Q()!==A)return;if(K!=null&&K.isRedirect){Ke&&O.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ee(A,{op:"navigation.redirect",...j},!1);return}ne=void 0,Y(),st().setPropagationContext({traceId:Ft(),sampleRand:Math.random(),propagationSpanId:ht()?void 0:Mt()});const Z=le();Z.setPropagationContext({traceId:Ft(),sampleRand:Math.random(),propagationSpanId:ht()?void 0:Mt()}),Z.setSDKProcessingMetadata({normalizedRequest:void 0}),ee(A,{op:"navigation",...j,parentSpan:null,forceTransaction:!0})}),A.on("startPageLoadSpan",(j,K={})=>{if(Q()!==A)return;Y();const Z=K.sentryTrace||Tl("sentry-trace")||Il("sentry-trace"),ce=K.baggage||Tl("baggage")||Il("baggage"),me=Zg(Z,ce),xe=le();xe.setPropagationContext(me),ht()||(xe.getPropagationContext().propagationSpanId=Mt()),xe.setSDKProcessingMetadata({normalizedRequest:ec()}),ee(A,{op:"pageload",...j})}),A.on("endPageloadSpan",()=>{M&&G&&(G.setAttribute(es,"reportPageLoaded"),G.end())})},afterAllSetup(A){let Y=Mr();if(D!=="off"&&gT(A,{linkPreviousTrace:D,consistentTraceSampling:C}),X.location){if(R){const j=Ye();xT(A,{name:X.location.pathname,startTime:j?j/1e3:void 0,attributes:{[pt]:"url",[Te]:"auto.pageload.browser"}})}x&&ji(({to:j,from:K})=>{if(K===void 0&&(Y==null?void 0:Y.indexOf(j))!==-1){Y=void 0;return}Y=void 0;const Z=Za(j),ce=as(A),me=ce&&E&&IT(ce,ne);wT(A,{name:(Z==null?void 0:Z.pathname)||X.location.pathname,attributes:{[pt]:"url",[Te]:"auto.navigation.browser"}},{url:j,isRedirect:me})})}h&&pT(),a&&TT(A,l,f,m,t),r&&_E(),cT(A,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:S,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:I,onRequestSpanStart:N,onRequestSpanEnd:U})}}};function xT(e,t,n){e.emit("startPageLoadSpan",t,n),le().setTransactionName(t.name);const r=as(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function wT(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=le();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...ec(),url:r}}),as(e)}function Tl(e){const t=X.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function Il(e){var r,s,i;const t=(s=(r=X.performance)==null?void 0:r.getEntriesByType)==null?void 0:s.call(r,"navigation")[0],n=(i=t==null?void 0:t.serverTiming)==null?void 0:i.find(o=>o.name===e);return n==null?void 0:n.description}function TT(e,t,n,r,s){const i=X.document;let o;const a=()=>{const c="ui.action.click",u=as(e);if(u){const d=ae(u).op;if(["navigation","pageload"].includes(d)){Ke&&O.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(es,"interactionInterrupted"),o.end(),o=void 0),!s.name){Ke&&O.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=df({name:s.name,op:c,attributes:{[pt]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const ih="_sentry_idleSpan";function as(e){return e[ih]}function Rl(e,t){Ge(e,ih,t)}const kl=1.5;function IT(e,t){const n=ae(e),r=Vn(),s=n.start_timestamp;return!(r-s>kl||t&&r-t<=kl)}function RT(e){const t={...e};return Pf(t,"react"),hf("react",{version:b.version}),xv(t)}function kT(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function CT(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function AT(e,{componentStack:t},n){if(kT(b.version)&&gs(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,CT(e,r)}return Lr(r=>(r.setContext("react",{componentStack:t}),Li(e,n)))}const OT=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wo={componentStack:null,error:null,eventId:null};let PT=class extends b.Component{constructor(t){super(t),this.state=wo,this._openFallbackReportDialog=!0;const n=Q();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Yu({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;Lr(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=AT(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});i&&i(t,r,d),o&&(this._lastEventId=d,this._openFallbackReportDialog&&Yu({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===wo?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(wo)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?b.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return b.isValidElement(s)?s:(t&&OT&&O.warn("fallback did not produce a valid ReactElement"),null)}};const MT="modulepreload",NT=function(e){return"/"+e},Cl={},Ie=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=NT(c),c in Cl)return;Cl[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":MT,u||(l.as="script"),l.crossOrigin="",l.href=c,a&&l.setAttribute("nonce",a),document.head.appendChild(l),u)return new Promise((f,m)=>{l.addEventListener("load",f),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},k={purplePrimary:"#1d1a3b",purpleBright:"#1d1a3b",purpleAccent:"#1d1a3b",purpleHover:"#2a2660",purpleGlow:"transparent",bgDeep:"#f3f3f3",bgCoolWhite:"#f9f9fb",bgPanel:"rgba(0,0,0,0.018)",cardSurface:"#ffffff",accentGreen:"#2e844a",accentAmber:"#dd7a01",accentBlue:"#0176d3",accentRed:"#ea001b",textPrimary:"#181818",textSecondary:"#444444",textTertiary:"#666666",textDim:"#8a909c",borderGlass:"#dddbda",borderSubtle:"#e8e8e8",hairline:"#c9c7c5",hairline2:"#b8b6b4",glassBg:"rgba(255,255,255,0.92)",glassBorder:"#dddbda",glassInset:"rgba(255,255,255,0.70)",glassShadow1:"rgba(0,0,0,0.04)",glassShadow2:"rgba(0,0,0,0.06)",frostChrome:"blur(18px) saturate(1.2)",frostPanel:"blur(14px) saturate(1.1)",frostGlass:"blur(22px) saturate(1.3)",frostModal:"blur(18px) saturate(1.2)",frostOverlay:"blur(6px)",frostToast:"blur(10px)",serif:"Georgia, 'Source Serif 4', serif",mono:"'IBM Plex Mono', Consolas, monospace",sans:"'Inter', system-ui, sans-serif",spacing:{xs:"4px",small:"8px",medium:"16px",large:"24px",xl:"32px",xxl:"48px"},statusGreen:{border:"rgba(46,132,74,.25)",text:"#2e844a",bg:"rgba(46,132,74,.06)"},statusAmber:{border:"rgba(221,122,1,.28)",text:"#dd7a01",bg:"rgba(221,122,1,.07)"},statusRed:{border:"rgba(234,0,27,.22)",text:"#ea001b",bg:"rgba(234,0,27,.05)"},transitionFast:"all 0.12s ease",transitionBase:"all 0.18s ease",transitionSlow:"all 0.28s ease"};class LT extends an.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?p.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:k.bgDeep,padding:"24px"},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:440},children:[p.jsx("div",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:9,letterSpacing:2.5,textTransform:"uppercase",color:"rgba(180,52,52,0.6)",marginBottom:12},children:"System Error"}),p.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:28,fontWeight:200,color:k.textPrimary,marginBottom:8},children:"Something went wrong"}),p.jsx("p",{style:{fontFamily:"Consolas, monospace",fontSize:12,color:"rgba(15,18,30,.56)",lineHeight:1.6,marginBottom:24},children:"An unexpected error occurred. Your data is safe."}),p.jsx("button",{onClick:()=>window.location.reload(),style:{appearance:"none",background:"transparent",border:"1px solid rgba(29,26,59,0.25)",color:k.purpleBright,padding:"12px 24px",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2.5,textTransform:"uppercase",cursor:"pointer"},children:"Reload"})]})}):this.props.children}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(this,arguments)}var Zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zt||(Zt={}));const Al="popstate";function DT(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ea("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ci(s)}return jT(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FT(){return Math.random().toString(36).substr(2,8)}function Ol(e,t){return{usr:e.state,key:e.key,idx:t}}function Ea(e,t,n,r){return n===void 0&&(n=null),cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ur(t):t,{state:n,key:t&&t.key||r||FT()})}function Ci(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jT(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Zt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function l(){a=Zt.Pop;let y=d(),S=y==null?null:y-u;u=y,c&&c({action:a,location:g.location,delta:S})}function f(y,S){a=Zt.Push;let T=Ea(g.location,y,S);u=d()+1;let I=Ol(T,u),w=g.createHref(T);try{o.pushState(I,"",w)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(w)}i&&c&&c({action:a,location:g.location,delta:1})}function m(y,S){a=Zt.Replace;let T=Ea(g.location,y,S);u=d();let I=Ol(T,u),w=g.createHref(T);o.replaceState(I,"",w),i&&c&&c({action:a,location:g.location,delta:0})}function h(y){let S=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof y=="string"?y:Ci(y);return T=T.replace(/ $/,"%20"),be(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let g={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Al,l),c=y,()=>{s.removeEventListener(Al,l),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let S=h(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var Pl;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pl||(Pl={}));function BT(e,t,n){return n===void 0&&(n="/"),UT(e,t,n)}function UT(e,t,n,r){let s=typeof t=="string"?Ur(t):t,i=Ic(s.pathname||"/",n);if(i==null)return null;let o=oh(e);$T(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=ZT(i);a=JT(o[c],u)}return a}function oh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=on([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:KT(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of ah(i.path))s(i,o,c)}),t}function ah(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ah(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function $T(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HT=/^:[\w-]+$/,zT=3,WT=2,qT=1,VT=10,GT=-2,Ml=e=>e==="*";function KT(e,t){let n=e.split("/"),r=n.length;return n.some(Ml)&&(r+=GT),t&&(r+=WT),n.filter(s=>!Ml(s)).reduce((s,i)=>s+(HT.test(i)?zT:i===""?qT:VT),r)}function YT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function JT(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",l=XT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!l)return null;Object.assign(s,l.params),o.push({params:s,pathname:on([i,l.pathname]),pathnameBase:sI(on([i,l.pathnameBase])),route:f}),l.pathnameBase!=="/"&&(i=on([i,l.pathnameBase]))}return o}function XT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,l)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=a[l]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[l];return m&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function QT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ZT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ic(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tI=e=>eI.test(e);function nI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ur(e):e,i;if(n)if(tI(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Tc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Nl(n.substring(1),"/"):i=Nl(n,t)}else i=t;return{pathname:i,search:iI(r),hash:oI(s)}}function Nl(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function To(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rc(e,t){let n=rI(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ur(e):(s=cs({},e),be(!s.pathname||!s.pathname.includes("?"),To("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),To("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),To("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let l=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),l-=1;s.pathname=f.join("/")}a=l>=0?t[l]:"/"}let c=nI(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const on=e=>e.join("/").replace(/\/\/+/g,"/"),sI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ch=["post","put","patch","delete"];new Set(ch);const cI=["get",...ch];new Set(cI);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(this,arguments)}const Cc=b.createContext(null),uI=b.createContext(null),mn=b.createContext(null),qi=b.createContext(null),Ut=b.createContext({outlet:null,matches:[],isDataRoute:!1}),uh=b.createContext(null);function lI(e,t){let{relative:n}=t===void 0?{}:t;$r()||be(!1);let{basename:r,navigator:s}=b.useContext(mn),{hash:i,pathname:o,search:a}=dh(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:on([r,o])),s.createHref({pathname:c,search:a,hash:i})}function $r(){return b.useContext(qi)!=null}function Kn(){return $r()||be(!1),b.useContext(qi).location}function lh(e){b.useContext(mn).static||b.useLayoutEffect(e)}function Vi(){let{isDataRoute:e}=b.useContext(Ut);return e?xI():dI()}function dI(){$r()||be(!1);let e=b.useContext(Cc),{basename:t,future:n,navigator:r}=b.useContext(mn),{matches:s}=b.useContext(Ut),{pathname:i}=Kn(),o=JSON.stringify(Rc(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return lh(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let l=kc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(l.pathname=l.pathname==="/"?t:on([t,l.pathname])),(d.replace?r.replace:r.push)(l,d.state,d)},[t,r,o,i,e])}function Jk(){let{matches:e}=b.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function dh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(mn),{matches:s}=b.useContext(Ut),{pathname:i}=Kn(),o=JSON.stringify(Rc(s,r.v7_relativeSplatPath));return b.useMemo(()=>kc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function fI(e,t){return pI(e,t)}function pI(e,t,n,r){$r()||be(!1);let{navigator:s}=b.useContext(mn),{matches:i}=b.useContext(Ut),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Kn(),d;if(t){var l;let y=typeof t=="string"?Ur(t):t;c==="/"||(l=y.pathname)!=null&&l.startsWith(c)||be(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=BT(e,{pathname:m}),g=_I(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:on([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:on([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?b.createElement(qi.Provider,{value:{location:us({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zt.Pop}},g):g}function hI(){let e=vI(),t=aI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const mI=b.createElement(hI,null);class gI extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ut.Provider,{value:this.props.routeContext},b.createElement(uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yI(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Cc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ut.Provider,{value:t},r)}function _I(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(l=>l.route.id&&(a==null?void 0:a[l.route.id])!==void 0);d>=0||be(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let l=o[d];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(u=d),l.route.id){let{loaderData:f,errors:m}=n,h=l.route.loader&&f[l.route.id]===void 0&&(!m||m[l.route.id]===void 0);if(l.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,l,f)=>{let m,h=!1,g=null,y=null;n&&(m=a&&l.route.id?a[l.route.id]:void 0,g=l.route.errorElement||mI,c&&(u<0&&f===0?(wI("route-fallback"),h=!0,y=null):u===f&&(h=!0,y=l.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,f+1)),T=()=>{let I;return m?I=g:h?I=y:l.route.Component?I=b.createElement(l.route.Component,null):l.route.element?I=l.route.element:I=d,b.createElement(yI,{match:l,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:I})};return n&&(l.route.ErrorBoundary||l.route.errorElement||f===0)?b.createElement(gI,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var fh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fh||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function SI(e){let t=b.useContext(Cc);return t||be(!1),t}function bI(e){let t=b.useContext(uI);return t||be(!1),t}function EI(e){let t=b.useContext(Ut);return t||be(!1),t}function hh(e){let t=EI(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function vI(){var e;let t=b.useContext(uh),n=bI(),r=hh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xI(){let{router:e}=SI(fh.UseNavigateStable),t=hh(ph.UseNavigateStable),n=b.useRef(!1);return lh(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,us({fromRouteId:t},i)))},[e,t])}const Ll={};function wI(e,t,n){Ll[e]||(Ll[e]=!0)}function TI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Sn(e){let{to:t,replace:n,state:r,relative:s}=e;$r()||be(!1);let{future:i,static:o}=b.useContext(mn),{matches:a}=b.useContext(Ut),{pathname:c}=Kn(),u=Vi(),d=kc(t,Rc(a,i.v7_relativeSplatPath),c,s==="path"),l=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(l),{replace:n,state:r,relative:s}),[u,l,s,n,r]),null}function ye(e){be(!1)}function II(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Zt.Pop,navigator:i,static:o=!1,future:a}=e;$r()&&be(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:us({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Ur(r));let{pathname:d="/",search:l="",hash:f="",state:m=null,key:h="default"}=r,g=b.useMemo(()=>{let y=Ic(d,c);return y==null?null:{location:{pathname:y,search:l,hash:f,state:m,key:h},navigationType:s}},[c,d,l,f,m,h,s]);return g==null?null:b.createElement(mn.Provider,{value:u},b.createElement(qi.Provider,{children:n,value:g}))}function RI(e){let{children:t,location:n}=e;return fI(va(t),n)}new Promise(()=>{});function va(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,va(r.props.children,i));return}r.type!==ye&&be(!1),!r.props.index||!r.props.children||be(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=va(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}function kI(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function CI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AI(e,t){return e.button===0&&(!t||t==="_self")&&!CI(e)}function wa(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function OI(e,t){let n=wa(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const PI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MI="6";try{window.__reactRouterVersion=MI}catch{}const NI="startTransition",Dl=qh[NI];function LI(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=DT({window:s,v5Compat:!0}));let o=i.current,[a,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(l=>{u&&Dl?Dl(()=>c(l)):c(l)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>TI(r),[r]),b.createElement(II,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:l}=t,f=kI(t,PI),{basename:m}=b.useContext(mn),h,g=!1;if(typeof u=="string"&&FI.test(u)&&(h=u,DI))try{let I=new URL(window.location.href),w=u.startsWith("//")?new URL(I.protocol+u):new URL(u),P=Ic(w.pathname,m);w.origin===I.origin&&P!=null?u=P+w.search+w.hash:g=!0}catch{}let y=lI(u,{relative:s}),S=jI(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:l});function T(I){r&&r(I),I.defaultPrevented||S(I)}return b.createElement("a",xa({},f,{href:h||y,onClick:g||i?r:T,ref:n,target:c}))});var jl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jl||(jl={}));var Bl;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bl||(Bl={}));function jI(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Vi(),u=Kn(),d=dh(e,{relative:o});return b.useCallback(l=>{if(AI(l,n)){l.preventDefault();let f=r!==void 0?r:Ci(u)===Ci(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,e,i,o,a])}function Xk(e){let t=b.useRef(wa(e)),n=b.useRef(!1),r=Kn(),s=b.useMemo(()=>OI(r.search,n.current?null:t.current),[r.search]),i=Vi(),o=b.useCallback((a,c)=>{const u=wa(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function Qk(e,t){let{capture:n}={};b.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",e,r),()=>{window.removeEventListener("beforeunload",e,r)}},[e,n])}function mh(e,t){return function(){return e.apply(t,arguments)}}const{toString:BI}=Object.prototype,{getPrototypeOf:Ac}=Object,{iterator:Gi,toStringTag:gh}=Symbol,Ki=(e=>t=>{const n=BI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mt=e=>(e=e.toLowerCase(),t=>Ki(t)===e),Yi=e=>t=>typeof t===e,{isArray:Hr}=Array,Cr=Yi("undefined");function Ps(e){return e!==null&&!Cr(e)&&e.constructor!==null&&!Cr(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yh=mt("ArrayBuffer");function UI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yh(e.buffer),t}const $I=Yi("string"),We=Yi("function"),_h=Yi("number"),Ms=e=>e!==null&&typeof e=="object",HI=e=>e===!0||e===!1,ci=e=>{if(Ki(e)!=="object")return!1;const t=Ac(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gh in e)&&!(Gi in e)},zI=e=>{if(!Ms(e)||Ps(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},WI=mt("Date"),qI=mt("File"),VI=mt("Blob"),GI=mt("FileList"),KI=e=>Ms(e)&&We(e.pipe),YI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||We(e.append)&&((t=Ki(e))==="formdata"||t==="object"&&We(e.toString)&&e.toString()==="[object FormData]"))},JI=mt("URLSearchParams"),[XI,QI,ZI,eR]=["ReadableStream","Request","Response","Headers"].map(mt),tR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ns(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Hr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ps(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Sh(e,t){if(Ps(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bh=e=>!Cr(e)&&e!==xn;function Ta(){const{caseless:e,skipUndefined:t}=bh(this)&&this||{},n={},r=(s,i)=>{const o=e&&Sh(n,i)||i;ci(n[o])&&ci(s)?n[o]=Ta(n[o],s):ci(s)?n[o]=Ta({},s):Hr(s)?n[o]=s.slice():(!t||!Cr(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ns(arguments[s],r);return n}const nR=(e,t,n,{allOwnKeys:r}={})=>(Ns(t,(s,i)=>{n&&We(s)?Object.defineProperty(e,i,{value:mh(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),rR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sR=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},iR=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Ac(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},oR=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},aR=e=>{if(!e)return null;if(Hr(e))return e;let t=e.length;if(!_h(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ac(Uint8Array)),uR=(e,t)=>{const r=(e&&e[Gi]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},lR=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dR=mt("HTMLFormElement"),fR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ul=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pR=mt("RegExp"),Eh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ns(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},hR=e=>{Eh(e,(t,n)=>{if(We(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(We(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mR=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Hr(e)?r(e):r(String(e).split(t)),n},gR=()=>{},yR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function _R(e){return!!(e&&We(e.append)&&e[gh]==="FormData"&&e[Gi])}const SR=e=>{const t=new Array(10),n=(r,s)=>{if(Ms(r)){if(t.indexOf(r)>=0)return;if(Ps(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Hr(r)?[]:{};return Ns(r,(o,a)=>{const c=n(o,s+1);!Cr(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},bR=mt("AsyncFunction"),ER=e=>e&&(Ms(e)||We(e))&&We(e.then)&&We(e.catch),vh=((e,t)=>e?setImmediate:t?((n,r)=>(xn.addEventListener("message",({source:s,data:i})=>{s===xn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),xn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",We(xn.postMessage)),vR=typeof queueMicrotask<"u"?queueMicrotask.bind(xn):typeof process<"u"&&process.nextTick||vh,xR=e=>e!=null&&We(e[Gi]),v={isArray:Hr,isArrayBuffer:yh,isBuffer:Ps,isFormData:YI,isArrayBufferView:UI,isString:$I,isNumber:_h,isBoolean:HI,isObject:Ms,isPlainObject:ci,isEmptyObject:zI,isReadableStream:XI,isRequest:QI,isResponse:ZI,isHeaders:eR,isUndefined:Cr,isDate:WI,isFile:qI,isBlob:VI,isRegExp:pR,isFunction:We,isStream:KI,isURLSearchParams:JI,isTypedArray:cR,isFileList:GI,forEach:Ns,merge:Ta,extend:nR,trim:tR,stripBOM:rR,inherits:sR,toFlatObject:iR,kindOf:Ki,kindOfTest:mt,endsWith:oR,toArray:aR,forEachEntry:uR,matchAll:lR,isHTMLForm:dR,hasOwnProperty:Ul,hasOwnProp:Ul,reduceDescriptors:Eh,freezeMethods:hR,toObjectSet:mR,toCamelCase:fR,noop:gR,toFiniteNumber:yR,findKey:Sh,global:xn,isContextDefined:bh,isSpecCompliantForm:_R,toJSONObject:SR,isAsyncFn:bR,isThenable:ER,setImmediate:vh,asap:vR,isIterable:xR};let W=class xh extends Error{static from(t,n,r,s,i,o){const a=new xh(t.message,n||t.code,r,s,i);return a.cause=t,a.name=t.name,o&&Object.assign(a,o),a}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:v.toJSONObject(this.config),code:this.code,status:this.status}}};W.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";W.ERR_BAD_OPTION="ERR_BAD_OPTION";W.ECONNABORTED="ECONNABORTED";W.ETIMEDOUT="ETIMEDOUT";W.ERR_NETWORK="ERR_NETWORK";W.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";W.ERR_DEPRECATED="ERR_DEPRECATED";W.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";W.ERR_BAD_REQUEST="ERR_BAD_REQUEST";W.ERR_CANCELED="ERR_CANCELED";W.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";W.ERR_INVALID_URL="ERR_INVALID_URL";const wR=null;function Ia(e){return v.isPlainObject(e)||v.isArray(e)}function wh(e){return v.endsWith(e,"[]")?e.slice(0,-2):e}function $l(e,t,n){return e?e.concat(t).map(function(s,i){return s=wh(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function TR(e){return v.isArray(e)&&!e.some(Ia)}const IR=v.toFlatObject(v,{},null,function(t){return/^is[A-Z]/.test(t)});function Ji(e,t,n){if(!v.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=v.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!v.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&v.isSpecCompliantForm(t);if(!v.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(v.isDate(h))return h.toISOString();if(v.isBoolean(h))return h.toString();if(!c&&v.isBlob(h))throw new W("Blob is not supported. Use a Buffer instead.");return v.isArrayBuffer(h)||v.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,g,y){let S=h;if(h&&!y&&typeof h=="object"){if(v.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(v.isArray(h)&&TR(h)||(v.isFileList(h)||v.endsWith(g,"[]"))&&(S=v.toArray(h)))return g=wh(g),S.forEach(function(I,w){!(v.isUndefined(I)||I===null)&&t.append(o===!0?$l([g],w,i):o===null?g:g+"[]",u(I))}),!1}return Ia(h)?!0:(t.append($l(y,g,i),u(h)),!1)}const l=[],f=Object.assign(IR,{defaultVisitor:d,convertValue:u,isVisitable:Ia});function m(h,g){if(!v.isUndefined(h)){if(l.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));l.push(h),v.forEach(h,function(S,T){(!(v.isUndefined(S)||S===null)&&s.call(t,S,v.isString(T)?T.trim():T,g,f))===!0&&m(S,g?g.concat(T):[T])}),l.pop()}}if(!v.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Hl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Oc(e,t){this._pairs=[],e&&Ji(e,this,t)}const Th=Oc.prototype;Th.append=function(t,n){this._pairs.push([t,n])};Th.toString=function(t){const n=t?function(r){return t.call(this,r,Hl)}:Hl;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function RR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ih(e,t,n){if(!t)return e;const r=n&&n.encode||RR,s=v.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=v.isURLSearchParams(t)?t.toString():new Oc(t,s).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class zl{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){v.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Rh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kR=typeof URLSearchParams<"u"?URLSearchParams:Oc,CR=typeof FormData<"u"?FormData:null,AR=typeof Blob<"u"?Blob:null,OR={isBrowser:!0,classes:{URLSearchParams:kR,FormData:CR,Blob:AR},protocols:["http","https","file","blob","url","data"]},Pc=typeof window<"u"&&typeof document<"u",Ra=typeof navigator=="object"&&navigator||void 0,PR=Pc&&(!Ra||["ReactNative","NativeScript","NS"].indexOf(Ra.product)<0),MR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NR=Pc&&window.location.href||"http://localhost",LR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pc,hasStandardBrowserEnv:PR,hasStandardBrowserWebWorkerEnv:MR,navigator:Ra,origin:NR},Symbol.toStringTag,{value:"Module"})),Oe={...LR,...OR};function DR(e,t){return Ji(e,new Oe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Oe.isNode&&v.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function FR(e){return v.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function jR(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function kh(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&v.isArray(s)?s.length:o,c?(v.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!v.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&v.isArray(s[o])&&(s[o]=jR(s[o])),!a)}if(v.isFormData(e)&&v.isFunction(e.entries)){const n={};return v.forEachEntry(e,(r,s)=>{t(FR(r),s,n,0)}),n}return null}function BR(e,t,n){if(v.isString(e))try{return(t||JSON.parse)(e),v.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ls={transitional:Rh,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=v.isObject(t);if(i&&v.isHTMLForm(t)&&(t=new FormData(t)),v.isFormData(t))return s?JSON.stringify(kh(t)):t;if(v.isArrayBuffer(t)||v.isBuffer(t)||v.isStream(t)||v.isFile(t)||v.isBlob(t)||v.isReadableStream(t))return t;if(v.isArrayBufferView(t))return t.buffer;if(v.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DR(t,this.formSerializer).toString();if((a=v.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ji(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),BR(t)):t}],transformResponse:[function(t){const n=this.transitional||Ls.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(v.isResponse(t)||v.isReadableStream(t))return t;if(t&&v.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?W.from(a,W.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};v.forEach(["delete","get","head","post","put","patch"],e=>{Ls.headers[e]={}});const UR=v.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$R=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&UR[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wl=Symbol("internals");function qr(e){return e&&String(e).trim().toLowerCase()}function ui(e){return e===!1||e==null?e:v.isArray(e)?e.map(ui):String(e)}function HR(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Io(e,t,n,r,s){if(v.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!v.isString(t)){if(v.isString(r))return t.indexOf(r)!==-1;if(v.isRegExp(r))return r.test(t)}}function WR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qR(e,t){const n=v.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let qe=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const d=qr(c);if(!d)throw new Error("header name must be a non-empty string");const l=v.findKey(s,d);(!l||s[l]===void 0||u===!0||u===void 0&&s[l]!==!1)&&(s[l||c]=ui(a))}const o=(a,c)=>v.forEach(a,(u,d)=>i(u,d,c));if(v.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(v.isString(t)&&(t=t.trim())&&!zR(t))o($R(t),n);else if(v.isObject(t)&&v.isIterable(t)){let a={},c,u;for(const d of t){if(!v.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?v.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=qr(t),t){const r=v.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return HR(s);if(v.isFunction(n))return n.call(this,s,r);if(v.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=qr(t),t){const r=v.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Io(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=qr(o),o){const a=v.findKey(r,o);a&&(!n||Io(r,r[a],a,n))&&(delete r[a],s=!0)}}return v.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Io(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return v.forEach(this,(s,i)=>{const o=v.findKey(r,i);if(o){n[o]=ui(s),delete n[i];return}const a=t?WR(i):String(i).trim();a!==i&&delete n[i],n[a]=ui(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return v.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&v.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Wl]=this[Wl]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=qr(o);r[a]||(qR(s,o),r[a]=!0)}return v.isArray(t)?t.forEach(i):i(t),this}};qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);v.reduceDescriptors(qe.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});v.freezeMethods(qe);function Ro(e,t){const n=this||Ls,r=t||n,s=qe.from(r.headers);let i=r.data;return v.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ch(e){return!!(e&&e.__CANCEL__)}let Ds=class extends W{constructor(t,n,r){super(t??"canceled",W.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Ah(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function GR(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let l=i,f=0;for(;l!==s;)f+=n[l++],l=l%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function KR(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),l=d-n;l>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-l)))},()=>s&&o(s)]}const Ai=(e,t,n=3)=>{let r=0;const s=GR(50,250);return KR(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),d=o<=a;r=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(l)},n)},ql=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vl=e=>(...t)=>v.asap(()=>e(...t)),YR=Oe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Oe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,JR=Oe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];v.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),v.isString(r)&&a.push(`path=${r}`),v.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),v.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function QR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Oh(e,t,n){let r=!XR(t);return e&&(r||n==!1)?QR(e,t):t}const Gl=e=>e instanceof qe?{...e}:e;function zn(e,t){t=t||{};const n={};function r(u,d,l,f){return v.isPlainObject(u)&&v.isPlainObject(d)?v.merge.call({caseless:f},u,d):v.isPlainObject(d)?v.merge({},d):v.isArray(d)?d.slice():d}function s(u,d,l,f){if(v.isUndefined(d)){if(!v.isUndefined(u))return r(void 0,u,l,f)}else return r(u,d,l,f)}function i(u,d){if(!v.isUndefined(d))return r(void 0,d)}function o(u,d){if(v.isUndefined(d)){if(!v.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,l){if(l in t)return r(u,d);if(l in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,l)=>s(Gl(u),Gl(d),l,!0)};return v.forEach(Object.keys({...e,...t}),function(d){const l=c[d]||s,f=l(e[d],t[d],d);v.isUndefined(f)&&l!==a||(n[d]=f)}),n}const Ph=e=>{const t=zn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=qe.from(o),t.url=Ih(Oh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),v.isFormData(n)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(v.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,l])=>{u.includes(d.toLowerCase())&&o.set(d,l)})}}if(Oe.hasStandardBrowserEnv&&(r&&v.isFunction(r)&&(r=r(t)),r||r!==!1&&YR(t.url))){const c=s&&i&&JR.read(i);c&&o.set(s,c)}return t},ZR=typeof XMLHttpRequest<"u",ek=ZR&&function(e){return new Promise(function(n,r){const s=Ph(e);let i=s.data;const o=qe.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,l,f,m,h;function g(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function S(){if(!y)return;const I=qe.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:I,config:e,request:y};Ah(function(x){n(x),g()},function(x){r(x),g()},P),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(r(new W("Request aborted",W.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const P=w&&w.message?w.message:"Network Error",R=new W(P,W.ERR_NETWORK,e,y);R.event=w||null,r(R),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Rh;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new W(w,P.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&v.forEach(o.toJSON(),function(w,P){y.setRequestHeader(P,w)}),v.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([f,h]=Ai(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([l,m]=Ai(c),y.upload.addEventListener("progress",l),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=I=>{y&&(r(!I||I.type?new Ds(null,e,y):I),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const T=VR(s.url);if(T&&Oe.protocols.indexOf(T)===-1){r(new W("Unsupported protocol "+T+":",W.ERR_BAD_REQUEST,e));return}y.send(i||null)})},tk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof W?d:new Ds(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new W(`timeout of ${t}ms exceeded`,W.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>v.asap(a),c}},nk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},rk=async function*(e,t){for await(const n of sk(e))yield*nk(n,t)},sk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Kl=(e,t,n,r)=>{const s=rk(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let l=d.byteLength;if(n){let f=i+=l;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Yl=64*1024,{isFunction:Js}=v,ik=(({Request:e,Response:t})=>({Request:e,Response:t}))(v.global),{ReadableStream:Jl,TextEncoder:Xl}=v.global,Ql=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ok=e=>{e=v.merge.call({skipUndefined:!0},ik,e);const{fetch:t,Request:n,Response:r}=e,s=t?Js(t):typeof fetch=="function",i=Js(n),o=Js(r);if(!s)return!1;const a=s&&Js(Jl),c=s&&(typeof Xl=="function"?(h=>g=>h.encode(g))(new Xl):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=i&&a&&Ql(()=>{let h=!1;const g=new n(Oe.origin,{body:new Jl,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),d=o&&a&&Ql(()=>v.isReadableStream(new r("").body)),l={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!l[h]&&(l[h]=(g,y)=>{let S=g&&g[h];if(S)return S.call(g);throw new W(`Response type '${h}' is not supported`,W.ERR_NOT_SUPPORT,y)})});const f=async h=>{if(h==null)return 0;if(v.isBlob(h))return h.size;if(v.isSpecCompliantForm(h))return(await new n(Oe.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(v.isArrayBufferView(h)||v.isArrayBuffer(h))return h.byteLength;if(v.isURLSearchParams(h)&&(h=h+""),v.isString(h))return(await c(h)).byteLength},m=async(h,g)=>{const y=v.toFiniteNumber(h.getContentLength());return y??f(g)};return async h=>{let{url:g,method:y,data:S,signal:T,cancelToken:I,timeout:w,onDownloadProgress:P,onUploadProgress:R,responseType:x,headers:E,withCredentials:D="same-origin",fetchOptions:C}=Ph(h),M=t||fetch;x=x?(x+"").toLowerCase():"text";let N=tk([T,I&&I.toAbortSignal()],w),U=null;const F=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let ne;try{if(R&&u&&y!=="get"&&y!=="head"&&(ne=await m(E,S))!==0){let K=new n(g,{method:"POST",body:S,duplex:"half"}),Z;if(v.isFormData(S)&&(Z=K.headers.get("content-type"))&&E.setContentType(Z),K.body){const[ce,me]=ql(ne,Ai(Vl(R)));S=Kl(K.body,Yl,ce,me)}}v.isString(D)||(D=D?"include":"omit");const G=i&&"credentials"in n.prototype,ee={...C,signal:N,method:y.toUpperCase(),headers:E.normalize().toJSON(),body:S,duplex:"half",credentials:G?D:void 0};U=i&&new n(g,ee);let A=await(i?M(U,C):M(g,ee));const Y=d&&(x==="stream"||x==="response");if(d&&(P||Y&&F)){const K={};["status","statusText","headers"].forEach(xe=>{K[xe]=A[xe]});const Z=v.toFiniteNumber(A.headers.get("content-length")),[ce,me]=P&&ql(Z,Ai(Vl(P),!0))||[];A=new r(Kl(A.body,Yl,ce,()=>{me&&me(),F&&F()}),K)}x=x||"text";let j=await l[v.findKey(l,x)||"text"](A,h);return!Y&&F&&F(),await new Promise((K,Z)=>{Ah(K,Z,{data:j,headers:qe.from(A.headers),status:A.status,statusText:A.statusText,config:h,request:U})})}catch(G){throw F&&F(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new W("Network Error",W.ERR_NETWORK,h,U),{cause:G.cause||G}):W.from(G,G&&G.code,h,U)}}},ak=new Map,Mh=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,d=ak;for(;a--;)c=i[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:ok(t)),d=u;return u};Mh();const Mc={http:wR,xhr:ek,fetch:{get:Mh}};v.forEach(Mc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zl=e=>`- ${e}`,ck=e=>v.isFunction(e)||e===null||e===!1;function uk(e,t){e=v.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!ck(r)&&(s=Mc[(a=String(r)).toLowerCase()],s===void 0))throw new W(`Unknown adapter '${a}'`);if(s&&(v.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Zl).join(`
`):" "+Zl(o[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Nh={getAdapter:uk,adapters:Mc};function ko(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ds(null,e)}function ed(e){return ko(e),e.headers=qe.from(e.headers),e.data=Ro.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nh.getAdapter(e.adapter||Ls.adapter,e)(e).then(function(r){return ko(e),r.data=Ro.call(e,e.transformResponse,r),r.headers=qe.from(r.headers),r},function(r){return Ch(r)||(ko(e),r&&r.response&&(r.response.data=Ro.call(e,e.transformResponse,r.response),r.response.headers=qe.from(r.response.headers))),Promise.reject(r)})}const Lh="1.13.3",Xi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const td={};Xi.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Lh+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new W(s(o," has been removed"+(n?" in "+n:"")),W.ERR_DEPRECATED);return n&&!td[o]&&(td[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Xi.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function lk(e,t,n){if(typeof e!="object")throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new W("option "+i+" must be "+c,W.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new W("Unknown option "+i,W.ERR_BAD_OPTION)}}const li={assertOptions:lk,validators:Xi},gt=li.validators;let Fn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new zl,response:new zl}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&li.assertOptions(r,{silentJSONParsing:gt.transitional(gt.boolean),forcedJSONParsing:gt.transitional(gt.boolean),clarifyTimeoutError:gt.transitional(gt.boolean)},!1),s!=null&&(v.isFunction(s)?n.paramsSerializer={serialize:s}:li.assertOptions(s,{encode:gt.function,serialize:gt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),li.assertOptions(n,{baseUrl:gt.spelling("baseURL"),withXsrfToken:gt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&v.merge(i.common,i[n.method]);i&&v.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=qe.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,l=0,f;if(!c){const h=[ed.bind(this),void 0];h.unshift(...a),h.push(...u),f=h.length,d=Promise.resolve(n);let g=n;for(;l<f;)d=d.then(h[l++]).then(y=>{g=y!==void 0?y:g}).catch(h[l++]).then(()=>g);return d}f=a.length;let m=n;for(;l<f;){const h=a[l++],g=a[l++];try{m=h(m)}catch(y){g.call(this,y);break}}try{d=ed.call(this,m)}catch(h){return Promise.reject(h)}for(l=0,f=u.length;l<f;)d=d.then(u[l++]).catch(u[l++]);return d}getUri(t){t=zn(this.defaults,t);const n=Oh(t.baseURL,t.url,t.allowAbsoluteUrls);return Ih(n,t.params,t.paramsSerializer)}};v.forEach(["delete","get","head","options"],function(t){Fn.prototype[t]=function(n,r){return this.request(zn(r||{},{method:t,url:n,data:(r||{}).data}))}});v.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(zn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Fn.prototype[t]=n(),Fn.prototype[t+"Form"]=n(!0)});let dk=class Dh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Ds(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Dh(function(s){t=s}),cancel:t}}};function fk(e){return function(n){return e.apply(null,n)}}function pk(e){return v.isObject(e)&&e.isAxiosError===!0}const ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ka).forEach(([e,t])=>{ka[t]=e});function Fh(e){const t=new Fn(e),n=mh(Fn.prototype.request,t);return v.extend(n,Fn.prototype,t,{allOwnKeys:!0}),v.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Fh(zn(e,s))},n}const Ee=Fh(Ls);Ee.Axios=Fn;Ee.CanceledError=Ds;Ee.CancelToken=dk;Ee.isCancel=Ch;Ee.VERSION=Lh;Ee.toFormData=Ji;Ee.AxiosError=W;Ee.Cancel=Ee.CanceledError;Ee.all=function(t){return Promise.all(t)};Ee.spread=fk;Ee.isAxiosError=pk;Ee.mergeConfig=zn;Ee.AxiosHeaders=qe;Ee.formToJSON=e=>kh(v.isHTMLForm(e)?new FormData(e):e);Ee.getAdapter=Nh.getAdapter;Ee.HttpStatusCode=ka;Ee.default=Ee;const{Axios:nC,AxiosError:rC,CanceledError:sC,isCancel:iC,CancelToken:oC,VERSION:aC,all:cC,Cancel:uC,isAxiosError:lC,spread:dC,toFormData:fC,AxiosHeaders:pC,HttpStatusCode:hC,formToJSON:mC,getAdapter:gC,mergeConfig:yC}=Ee,jh="https://sentinel-authority-production.up.railway.app",_C=jh,Et=Ee.create({baseURL:jh});Et.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Et.interceptors.response.use(e=>e,e=>{var t,n,r,s;return e.response&&e.response.status===401&&!((n=(t=e.config)==null?void 0:t.url)!=null&&n.includes("/api/chat"))&&!((s=(r=e.config)==null?void 0:r.url)!=null&&s.includes("/api/envelo/sessions"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Bh=b.createContext(null);function hk({children:e}){const[t,n]=b.useState(null),[r,s]=b.useState(!0);b.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("user");c&&u&&n(JSON.parse(u)),s(!1)},[]);const i=async(c,u,d)=>{const l={email:c,password:u};d&&(l.totp_code=d);const f=await Et.post("/api/auth/login",l);return localStorage.setItem("token",f.data.access_token),localStorage.setItem("user",JSON.stringify(f.data.user)),n(f.data.user),f.data.user},o=async c=>{const u=await Et.post("/api/auth/register",c);return localStorage.setItem("token",u.data.access_token),localStorage.setItem("user",JSON.stringify(u.data.user)),n(u.data.user),u.data.user},a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return p.jsx(Bh.Provider,{value:{user:t,login:i,register:o,logout:a,loading:r},children:e})}function Qi(){return b.useContext(Bh)}const Uh=an.createContext();function mk({children:e}){const[t,n]=b.useState([]),r=an.useCallback((o,a="info")=>{const c=Date.now()+Math.random();n(u=>[...u,{id:c,message:o,type:a}]),setTimeout(()=>n(u=>u.filter(d=>d.id!==c)),4500)},[]),s=an.useCallback(o=>{n(a=>a.filter(c=>c.id!==o))},[]),i={success:{bg:"rgba(22,135,62,.08)",border:"rgba(22,135,62,.25)",text:k.accentGreen,icon:""},error:{bg:"rgba(180,52,52,.08)",border:"rgba(180,52,52,.25)",text:k.accentRed,icon:""},warning:{bg:"rgba(158,110,18,.08)",border:"rgba(158,110,18,.25)",text:k.accentAmber,icon:""},info:{bg:"rgba(29,26,59,.08)",border:"rgba(29,26,59,.25)",text:k.purpleBright,icon:""}};return p.jsxs(Uh.Provider,{value:{show:r},children:[e,p.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"6px",maxWidth:"380px"},children:t.map(o=>{const a=i[o.type]||i.info;return p.jsxs("div",{style:{background:a.bg,backdropFilter:k.frostToast,border:`1px solid ${a.border}`,padding:"10px 14px",display:"flex",alignItems:"flex-start",gap:"8px",animation:"slideIn .25s ease-out"},children:[p.jsx("span",{style:{fontSize:"13px",lineHeight:1,marginTop:"1px"},children:a.icon}),p.jsx("span",{style:{flex:1,color:a.text,fontSize:"12px",lineHeight:1.4,fontFamily:k.mono},children:o.message}),p.jsx("button",{onClick:()=>s(o.id),style:{background:"none",border:"none",color:a.text,cursor:"pointer",fontSize:"14px",padding:0,lineHeight:1,opacity:.6},children:""})]},o.id)})})]})}function SC(){return an.useContext(Uh)}const $h=an.createContext();function gk({children:e}){const[t,n]=b.useState({open:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmLabel:"Confirm",danger:!1}),r=i=>new Promise(o=>{n({open:!0,title:i.title||"Confirm",message:i.message||"Are you sure?",confirmLabel:i.confirmLabel||"Confirm",danger:i.danger||!1,onConfirm:()=>{n(a=>({...a,open:!1})),o(!0)},onCancel:()=>{n(a=>({...a,open:!1})),o(!1)}})}),s=t.open?cm.createPortal(p.jsx("div",{onClick:t.onCancel,style:{position:"fixed",inset:0,zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.25)",backdropFilter:k.frostOverlay,WebkitBackdropFilter:k.frostOverlay},children:p.jsxs("div",{onClick:i=>i.stopPropagation(),style:{background:"rgba(255,255,255,0.95)",backdropFilter:k.frostModal,WebkitBackdropFilter:k.frostModal,border:"1px solid "+k.borderGlass,maxWidth:"420px",width:"90%",padding:"32px",position:"relative"},children:[p.jsx("button",{onClick:t.onCancel,style:{position:"absolute",top:14,right:14,appearance:"none",border:"none",background:"none",color:k.textDim,fontFamily:k.mono,fontSize:"18px",cursor:"pointer",lineHeight:1},children:""}),p.jsx("h3",{style:{fontFamily:k.mono,fontSize:"10px",fontWeight:400,letterSpacing:"2.5px",textTransform:"uppercase",color:t.danger?k.accentRed:k.purpleBright,margin:"0 0 4px"},children:t.title}),p.jsx("p",{style:{color:k.textTertiary,fontFamily:k.mono,fontSize:"13px",lineHeight:1.6,margin:"0 0 24px"},children:t.message}),p.jsxs("button",{onClick:t.onConfirm,style:{appearance:"none",width:"100%",border:"1px solid "+(t.danger?"rgba(180,52,52,.25)":"rgba(29,26,59,.25)"),background:"transparent",color:t.danger?k.accentRed:k.purpleBright,padding:"12px 24px",fontFamily:k.mono,fontSize:"10px",letterSpacing:"2.5px",textTransform:"uppercase",cursor:"pointer"},children:[t.confirmLabel," "]})]})}),document.body):null;return p.jsxs($h.Provider,{value:r,children:[e,s]})}const bC=()=>an.useContext($h);function ot({children:e,roles:t}){const{user:n,loading:r}=Qi();return r?p.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:k.bgDeep,color:k.textPrimary},children:"Loading..."}):n?t&&!t.includes(n.role)?p.jsx(Sn,{to:"/dashboard"}):e:p.jsx(Sn,{to:"/login"})}function yk(){const e=()=>{const r=window.innerWidth,s="ontouchstart"in window||navigator.maxTouchPoints>0;return r<768||s&&r<1024},[t,n]=b.useState(e);return b.useEffect(()=>{const r=()=>n(e());return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function Hh({height:e=48}){const t=e/68;return p.jsxs("svg",{width:320*t,height:e,viewBox:"0 0 460 120",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"Sentinel Authority",children:[p.jsx("circle",{cx:"62",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),p.jsx("circle",{cx:"62",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),p.jsx("text",{x:"62",y:"74",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"40",fill:"#1d1a3b",letterSpacing:"-1.1",children:"SA"}),p.jsx("text",{x:"132",y:"54",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.15",children:"SENTINEL"}),p.jsx("text",{x:"132",y:"84",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.25",children:"AUTHORITY"})]})}function _k({size:e=32}){return p.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:[p.jsx("circle",{cx:"50",cy:"50",r:"46",stroke:"#1d1a3b",strokeWidth:"5",fill:"white"}),p.jsx("circle",{cx:"50",cy:"50",r:"39",stroke:"#1d1a3b",strokeWidth:"1.5",strokeOpacity:"0.20",fill:"none"}),p.jsx("text",{x:"50",y:"64",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"38",fill:"#1d1a3b",letterSpacing:"-1",children:"SA"})]})}const Sk="https://sentinel-authority-production.up.railway.app";function bk({user:e,applications:t,certificates:n,sessions:r,activeTests:s}){var h;const i=(e==null?void 0:e.role)||"customer",o=((h=e==null?void 0:e.full_name)==null?void 0:h.split(" ")[0])||"",a=t||[],c=n||[],u=r||[],d=a.length?a.map(g=>{var y;return`   ${g.system_name} [${g.application_number||g.id}]  state: ${g.state}, updated: ${((y=g.updated_at)==null?void 0:y.split("T")[0])||"?"}`}).join(`
`):"  (none)",l=c.length?c.map(g=>`   ${g.certificate_number}  ${g.system_name}  state: ${g.state}${g.expires_at?", expires: "+g.expires_at.split("T")[0]:""}`).join(`
`):"  (none)",f=u.filter(g=>{const y=g.last_heartbeat_at||g.last_telemetry_at||g.started_at;return g.status==="active"&&y&&Date.now()-new Date(y).getTime()<12e4}),m=(s||[]).length?(s||[]).map(g=>{const y=g.cat72_started_at?new Date(g.cat72_started_at):null,S=y?(Date.now()-y.getTime())/1e3:0,T=Math.max(0,72*3600-S),I=Math.min(100,S/(72*3600)*100).toFixed(0);return`   ${g.system_name}  ${I}% complete, ${(T/3600).toFixed(1)}h remaining`}).join(`
`):"  (none)";return`You are the Sentinel Authority operations assistant  an AI built into the certification platform dashboard. You have complete, authoritative knowledge of the ODDC certification process and the ENVELO Interlock system.

IDENTITY: You are the Sentinel Authority AI  not a generic assistant. Speak with operational precision. Be direct, specific, and actionable. Never say "I'm just an AI."

CURRENT USER:
  Name: ${o||"unknown"}
  Role: ${i}
  Organization: ${(e==null?void 0:e.organization_name)||"unknown"}

THEIR LIVE DATA:
Applications:
${d}

Certificates:
${l}

Active CAT-72 Tests:
${m}

Live Interlocks: ${f.length} online / ${u.length} total sessions


COMPLETE ODDC WORKFLOW  EVERY STEP


STEP 1  APPLICATION SUBMITTED
  Customer submits: org info, system description, ODD, boundary definitions
  Boundary types: numeric (speed/temp/etc), geographic (lat/lon/radius), time (hours/days), state (allowed/forbidden modes)
  State becomes: "pending"
  Admin action needed: click "Begin Review"

STEP 2  ADMIN REVIEW (HUMAN STEP)
  Admin clicks "Begin Review"  state: "under_review"
  Admin evaluates boundary completeness and reasonableness
  Admin writes justification note, clicks "Approve"  state: "approved"
  ON APPROVAL (AUTOMATIC): API key is generated AND emailed to customer
  Customer should NEVER need to generate their own key manually

STEP 3  CUSTOMER DEPLOYS INTERLOCK (HUMAN STEP)
  Customer receives API key via email (also visible in ENVELO tab)
  Customer downloads envelo_agent.py from ENVELO Interlock tab
  Customer runs:
    pip install httpx
    python envelo_agent.py
  Interlock starts sending heartbeats every 30 seconds to the Railway backend
  Dashboard state: "approved" but interlock not yet confirmed

STEP 4  ADMIN BEGINS CAT-72 (HUMAN STEP)
  Admin sees interlock online in Monitoring tab (green dot = heartbeat <2 min ago)
  Admin clicks "Begin CAT-72" button for that system  state: "testing"
  72-hour clock starts

STEP 5  CAT-72 RUNS (FULLY AUTOMATIC  no human action needed)
  Interlock enforces all defined boundaries on every action
  Every enforcement logged as PASS or BLOCK with telemetry
  Telemetry flushes to backend every 10 seconds
  If any violation occurs  test FAILS (admin is notified)
  If 72 hours pass without violations  PASS is auto-triggered

STEP 6  CERTIFICATE ISSUED (AUTOMATIC ON PASS)
  Certificate auto-issues immediately on PASS
  Certificate number format: ODDC-YYYY-XXXXX
  Customer views/downloads certificate from dashboard
  State: "conformant"

STEP 7  ONGOING PRODUCTION MONITORING
  Certified interlock continues sending telemetry indefinitely
  Violations logged but don't auto-revoke (admin decision required)
  Certificates expire annually
  Renewal triggers a new CAT-72 cycle


TECHNICAL FACTS

ENVELO = Enforced Non-Violable Execution-Limit Override
ODDC   = Operational Design Domain Conformance
CAT-72 = 72-hour Continuous Autonomy Test
Backend: Railway  sentinel-authority-production.up.railway.app
Frontend: Vercel  app.sentinelauthority.org
Heartbeat: every 30 seconds
"Online" = heartbeat received within last 2 minutes
API key format: sa_live_XXXXXXXX...

COMMON ISSUES:
  "Stuck in pending"  Admin needs to click Begin Review (ENVELO tab  Review Queue)
  "Approved but test not starting"  Customer hasn't deployed interlock yet, OR admin hasn't clicked Begin CAT-72
  "Interlock offline during test"  Customer needs to restart agent. >5 min offline = admin may need to restart test
  "Test failed"  Boundary violation occurred  check telemetry for which parameter and what value caused it
  "No API key"  Emailed on approval; admin can resend from ENVELO tab  Approved section  Resend Key
  "Install error"  Run: pip install httpx, then python envelo_agent.py
  "Can't connect"  Firewall must allow outbound HTTPS to sentinel-authority-production.up.railway.app port 443

${i==="admin"?`
ADMIN MODE: You have full visibility across all customers.
When asked "what needs attention?" surface: pending reviews, approved apps where interlock hasn't connected, near-complete CAT-72 tests, any anomalies.
Be direct about operational decisions. Help the admin run a tight, efficient certification operation.
`:`
CUSTOMER MODE: Guide this customer through their certification journey.
Be specific  tell them exactly what to click, where to find things, what commands to run.
Make the complex simple. Acknowledge their progress.
`}

RESPONSE STYLE:
  - 2-4 sentences max unless steps require more
  - Use bullet points only for multi-step instructions
  - Specific UI labels and terminal commands when relevant
  - Never make up data  reference only what's in the live data above
  - If uncertain, say so and direct them where to find the answer`}function Ek(e,t){var a;const n=e==null?void 0:e.role,r=(a=e==null?void 0:e.full_name)==null?void 0:a.split(" ")[0],s=t.applications||[];if(n==="admin"){const c=s.filter(m=>m.state==="pending").length,u=s.filter(m=>m.state==="under_review").length,d=s.filter(m=>m.state==="approved").length,l=s.filter(m=>m.state==="testing").length,f=[];return c&&f.push(`${c} application${c>1?"s":""} in queue`),u&&f.push(`${u} under review  awaiting your decision`),d&&f.push(`${d} approved  waiting for customer to deploy interlock`),l&&f.push(`${l} CAT-72 test${l>1?"s":""} running`),f.length?`${r?"Hey "+r+".":"Hey."} Here's what's in motion:

${f.map(m=>" "+m).join(`
`)}

What do you want to work on?`:`${r?"Hey "+r+".":"Hey."} Queue is clear. How can I help?`}const i=[...s].sort((c,u)=>new Date(u.updated_at)-new Date(c.updated_at))[0];if(!i)return`${r?"Hey "+r+".":"Hey."} Ready to start your ODDC certification? I can walk you through submitting an application.`;const o={pending:`Your application for **${i.system_name}** is in the review queue. No action needed from you right now.`,under_review:`Your application for **${i.system_name}** is being reviewed. You'll hear back soon.`,approved:`Your application for **${i.system_name}** is approved  time to deploy the ENVELO Interlock. I can walk you through it step by step.`,testing:`Your CAT-72 test is running for **${i.system_name}**. Keep the agent running  I'll let you know if anything looks off.`,conformant:`**${i.system_name}** is ODDC conformant. Certificate active. Anything you need?`,rejected:`Your application for **${i.system_name}** was returned with required changes. Want help understanding what needs to change?`};return`${r?"Hey "+r+".":"Hey."} ${o[i.state]||"How can I help with your certification?"}`}function vk({msg:e}){if(e.role==="note")return p.jsx("div",{style:{textAlign:"center",padding:"4px 0",color:k.textTertiary,fontFamily:k.mono,fontSize:"10px",letterSpacing:"1px"},children:e.content});const t=e.role==="user",n=r=>r.split(`
`).map((s,i)=>{const o=/^[\-*] /.test(s),c=(o?s.replace(/^[\-*] /,""):s).split(/\*\*(.+?)\*\*/g).map((u,d)=>d%2===1?p.jsx("strong",{children:u},d):u);return p.jsxs("div",{style:{marginBottom:s===""?"7px":"1px",paddingLeft:o?"14px":0,position:"relative"},children:[o&&p.jsx("span",{style:{position:"absolute",left:0,color:k.purpleBright,fontSize:"12px"},children:""}),p.jsx("span",{children:c})]},i)});return p.jsxs("div",{style:{display:"flex",justifyContent:t?"flex-end":"flex-start",marginBottom:"9px",gap:"7px",alignItems:"flex-start"},children:[!t&&p.jsx("div",{style:{width:"20px",height:"20px",flexShrink:0,marginTop:"4px",borderRadius:"50%",background:"rgba(74,61,117,0.09)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsxs("svg",{width:"12",height:"13",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),p.jsx("div",{style:{maxWidth:"84%",padding:"9px 12px",background:t?"rgba(74,61,117,0.07)":"rgba(255,255,255,0.75)",border:`1px solid ${t?"rgba(74,61,117,0.14)":k.borderGlass}`,borderRadius:t?"11px 3px 11px 11px":"3px 11px 11px 11px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:p.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.65",color:k.textPrimary,fontFamily:k.sans},children:[n(e.content),e.streaming&&p.jsx("span",{style:{display:"inline-block",width:"2px",height:"13px",background:k.purpleBright,marginLeft:"2px",verticalAlign:"middle",animation:"sa-blink 0.7s step-end infinite"}})]})})]})}function xk({role:e,onSend:t}){const n=e==="admin"?["What needs my attention?","Show pending apps","Any interlocks offline?","CAT-72 status?"]:["What's my next step?","How do I install the interlock?","Where's my API key?","How long does the test take?"];return p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"7px 11px 3px",borderTop:`1px solid ${k.borderSubtle}`},children:n.map((r,s)=>p.jsx("button",{onClick:()=>t(r),style:{padding:"4px 9px",background:"rgba(74,61,117,0.05)",border:"1px solid rgba(74,61,117,0.15)",color:k.purpleBright,fontFamily:k.mono,fontSize:"10px",cursor:"pointer",borderRadius:"999px",whiteSpace:"nowrap"},onMouseEnter:i=>i.currentTarget.style.background="rgba(74,61,117,0.11)",onMouseLeave:i=>i.currentTarget.style.background="rgba(74,61,117,0.05)",children:r},s))})}function wk(){const{user:e}=Qi(),[t,n]=b.useState(!1),[r,s]=b.useState(!1);b.useEffect(()=>{if(!sessionStorage.getItem("sa-chat-hint")){const x=setTimeout(()=>s(!0),2e3),E=setTimeout(()=>{s(!1),sessionStorage.setItem("sa-chat-hint","1")},7e3);return()=>{clearTimeout(x),clearTimeout(E)}}},[]);const[i,o]=b.useState([]),[a,c]=b.useState(""),[u,d]=b.useState(!1),[l,f]=b.useState(!1),[m,h]=b.useState({}),[g,y]=b.useState(!0),S=b.useRef(null),T=b.useRef(null);b.useEffect(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},[i]),b.useEffect(()=>{t&&T.current&&setTimeout(()=>{var R;return(R=T.current)==null?void 0:R.focus()},100)},[t]),b.useEffect(()=>{t&&!l&&I()},[t]);const I=async()=>{var R,x,E;try{const[D,C,M]=await Promise.all([Et.get("/api/applications/").catch(()=>({data:[]})),Et.get("/api/certificates/").catch(()=>({data:[]})),Et.get("/api/envelo/sessions").catch(()=>({data:{sessions:[]}}))]),N={applications:((R=D.data)==null?void 0:R.applications)||D.data||[],certificates:C.data||[],sessions:((x=M.data)==null?void 0:x.sessions)||[],activeTests:(((E=D.data)==null?void 0:E.applications)||D.data||[]).filter(U=>U.state==="testing")};h(N),f(!0),o([{role:"assistant",content:Ek(e,N)}])}catch{f(!0),o([{role:"assistant",content:`Hey${e!=null&&e.full_name?" "+e.full_name.split(" ")[0]:""}! I'm your Sentinel Authority assistant. How can I help?`}])}},w=b.useCallback(async R=>{var C,M,N,U,F,ne,G,ee;const x=(R||a).trim();if(!x||u)return;c(""),y(!1);const E=i.filter(A=>(A.role==="user"||A.role==="assistant")&&A.content&&!A.streaming).map(A=>({role:A.role,content:A.content}));E.push({role:"user",content:x}),o(A=>[...A,{role:"user",content:x},{role:"assistant",content:"",streaming:!0}]),d(!0);const D=bk({user:e,...m});try{const A=localStorage.getItem("token")||sessionStorage.getItem("token")||"",Y=await fetch(`${Sk}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({system:D,messages:E,stream:!0})});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const j=Y.body.getReader(),K=new TextDecoder;let Z="";for(;;){const{done:ce,value:me}=await j.read();if(ce)break;for(const xe of K.decode(me,{stream:!0}).split(`
`)){if(!xe.startsWith("data: "))continue;const xt=xe.slice(6).trim();if(xt!=="[DONE]")try{const je=JSON.parse(xt),wt=((C=je.delta)==null?void 0:C.text)||((U=(N=(M=je.choices)==null?void 0:M[0])==null?void 0:N.delta)==null?void 0:U.content)||((ne=(F=je.content)==null?void 0:F[0])==null?void 0:ne.text)||"";wt&&(Z+=wt,o(Yn=>{const Tt=[...Yn];return Tt[Tt.length-1]={role:"assistant",content:Z,streaming:!0},Tt}))}catch{}}}o(ce=>{const me=[...ce];return me[me.length-1]={role:"assistant",content:Z||"Sorry, try again.",streaming:!1},me})}catch(A){let Y="Connection error. Try again.";(G=A.message)!=null&&G.includes("404")&&(Y="The /api/chat endpoint is not deployed yet. Add chat.py to Railway and set ANTHROPIC_API_KEY."),(ee=A.message)!=null&&ee.includes("401")&&(Y="Auth error  try refreshing."),o(j=>{const K=[...j];return K[K.length-1]={role:"assistant",content:Y,streaming:!1},K})}finally{d(!1)}},[a,u,i,e,m]),P=()=>{o([]),f(!1),h({}),y(!0),n(!1),setTimeout(()=>n(!0),60)};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:"@keyframes sa-blink{0%,100%{opacity:1}50%{opacity:0}} @keyframes sa-up{from{opacity:0;transform:translateY(12px) scale(0.97)}to{opacity:1;transform:translateY(0) scale(1)}} @keyframes spin{to{transform:rotate(360deg)}}"}),!t&&r&&p.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"24px",zIndex:1e3,background:"#1d1a3b",color:"#fff",fontFamily:"'IBM Plex Mono', monospace",fontSize:"11px",letterSpacing:"0.5px",padding:"8px 14px",borderRadius:"8px",boxShadow:"0 4px 16px rgba(29,26,59,0.3)",animation:"sa-up 0.3s ease-out",whiteSpace:"nowrap"},children:["Need Help? ",p.jsx("span",{style:{opacity:.7},children:"Ask Sentinel AI"}),p.jsx("div",{style:{position:"absolute",bottom:"-6px",right:"18px",width:"12px",height:"12px",background:"#1d1a3b",transform:"rotate(45deg)"}})]}),!t&&p.jsx("button",{onClick:()=>{n(!0),s(!1),sessionStorage.setItem("sa-chat-hint","1")},style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3,width:"50px",height:"50px",borderRadius:"50%",background:"#1d1a3b",border:"1px solid rgba(29,26,59,0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(74,61,117,0.35)",transition:"all 0.2s",fontSize:"22px",color:"#fff"},onMouseEnter:R=>{R.currentTarget.style.transform="scale(1.07)",R.currentTarget.style.boxShadow="0 6px 28px rgba(74,61,117,0.5)"},onMouseLeave:R=>{R.currentTarget.style.transform="scale(1)",R.currentTarget.style.boxShadow="0 4px 20px rgba(74,61,117,0.35)"},title:"Sentinel Assistant",children:p.jsxs("svg",{width:"26",height:"28",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#fff",strokeWidth:"1.8",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#fff",children:">_"})]})}),t&&p.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1001,width:"min(390px, calc(100vw - 40px))",height:"min(570px, calc(100vh - 96px))",display:"flex",flexDirection:"column",background:"rgba(248,248,252,0.94)",backdropFilter:"blur(24px) saturate(1.5)",WebkitBackdropFilter:"blur(24px) saturate(1.5)",border:`1px solid ${k.borderGlass}`,borderRadius:"16px",boxShadow:"0 12px 56px rgba(15,18,30,0.14), 0 2px 8px rgba(15,18,30,0.06)",animation:"sa-up 0.2s ease-out",overflow:"hidden"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",borderBottom:`1px solid ${k.borderSubtle}`,background:"rgba(255,255,255,0.55)",flexShrink:0},children:[p.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",background:"rgba(74,61,117,0.08)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsxs("svg",{width:"15",height:"16",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontFamily:k.mono,fontSize:"11px",letterSpacing:"2px",textTransform:"uppercase",color:k.textPrimary,fontWeight:500},children:"Sentinel Assistant"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginTop:"2px"},children:[p.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:l?k.accentGreen:k.accentAmber}}),p.jsx("span",{style:{fontFamily:k.mono,fontSize:"9px",color:l?k.accentGreen:k.accentAmber,letterSpacing:"0.5px"},children:l?"Ready":"Loading"})]})]}),p.jsx("button",{onClick:P,title:"Reset",style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:k.textTertiary,display:"flex"},onMouseEnter:R=>R.currentTarget.style.color=k.textSecondary,onMouseLeave:R=>R.currentTarget.style.color=k.textTertiary,children:p.jsx(Vh,{size:13})}),p.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:k.textTertiary,display:"flex"},onMouseEnter:R=>R.currentTarget.style.color=k.textSecondary,onMouseLeave:R=>R.currentTarget.style.color=k.textTertiary,children:p.jsx(Gh,{size:16})})]}),p.jsxs("div",{ref:S,style:{flex:1,overflowY:"auto",padding:"13px 11px",display:"flex",flexDirection:"column"},children:[!l&&i.length===0&&p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"12px",color:k.textTertiary},children:[p.jsx("div",{style:{width:"26px",height:"26px",border:`2px solid ${k.borderGlass}`,borderTopColor:k.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),p.jsx("span",{style:{fontFamily:k.mono,fontSize:"11px",letterSpacing:"1px"},children:"Loading your context"})]}),i.map((R,x)=>p.jsx(vk,{msg:R},x))]}),g&&i.length<=1&&l&&p.jsx(xk,{role:e==null?void 0:e.role,onSend:w}),p.jsxs("div",{style:{padding:"10px",borderTop:`1px solid ${k.borderSubtle}`,background:"rgba(255,255,255,0.45)",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",gap:"7px",alignItems:"flex-end",background:"rgba(255,255,255,0.65)",border:`1px solid ${k.borderGlass}`,borderRadius:"10px",padding:"7px 10px"},children:[p.jsx("textarea",{ref:T,value:a,onChange:R=>c(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),w())},placeholder:"Ask about your certification",rows:1,disabled:u,style:{flex:1,background:"none",border:"none",outline:"none",resize:"none",fontFamily:k.sans,fontSize:"13px",color:k.textPrimary,lineHeight:"1.5",maxHeight:"72px",overflowY:"auto"},onInput:R=>{R.target.style.height="auto",R.target.style.height=Math.min(R.target.scrollHeight,72)+"px"}}),p.jsx("button",{onClick:()=>w(),disabled:!a.trim()||u,style:{width:"29px",height:"29px",borderRadius:"6px",flexShrink:0,background:a.trim()&&!u?k.purplePrimary:"transparent",border:`1px solid ${a.trim()&&!u?"transparent":k.borderGlass}`,cursor:a.trim()&&!u?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},children:u?p.jsx("div",{style:{width:"13px",height:"13px",border:`2px solid ${k.textTertiary}`,borderTopColor:k.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):p.jsx(Kh,{size:12,color:a.trim()?"#fff":k.textTertiary})})]}),p.jsx("div",{style:{textAlign:"center",marginTop:"5px",fontFamily:k.mono,fontSize:"9px",color:k.textTertiary,letterSpacing:"0.3px"},children:"Enter to send  Shift+Enter new line"})]})]})]})}function at({children:e}){var x;const{user:t,logout:n}=Qi(),r=yk(),[s,i]=b.useState(!r),[o]=b.useState([]),[a]=b.useState([]),c=Kn(),[u,d]=b.useState(!1),l=Td(),{data:f}=Xm({queryKey:["notifications"],queryFn:()=>Et.get("/api/users/notifications").then(E=>E.data),refetchInterval:6e4,enabled:!!localStorage.getItem("token"),retry:!1}),m=(f==null?void 0:f.notifications)||[],h=(f==null?void 0:f.unread_count)||0,g=()=>{Et.post("/api/users/notifications/mark-read").then(()=>l.invalidateQueries({queryKey:["notifications"]})).catch(()=>{}),d(!1)},y=[{name:"Dashboard",href:"/dashboard",icon:Yh,roles:["admin","applicant"]},{name:"Applications",href:"/applications",icon:Jh,roles:["admin","applicant"]},{name:"ENVELO",href:"/envelo",icon:"brand",roles:["admin","applicant"]},{name:"Resources",href:"/resources",icon:Xh,roles:["admin","applicant"]},{name:"Activity",href:"/activity",icon:Qh,roles:["admin","applicant"]},{name:"User Management",href:"/users",icon:Zh,roles:["admin"]},{name:"Settings",href:"/settings",icon:em,roles:["admin","applicant"]},{name:"API Docs",href:"/api-docs",icon:Dc,roles:["admin"]}],S=Array.isArray(o)&&o.some(E=>["conformant","active","issued"].includes(E.state)),T=Array.isArray(a)&&a.some(E=>["approved","testing"].includes(E.state)),I=S||T,w=y.filter(E=>!(!E.roles.includes((t==null?void 0:t.role)||"")||E.requiresCert&&(t==null?void 0:t.role)!=="admin"&&!I)),P=E=>c.pathname===E||E!=="/dashboard"&&c.pathname.startsWith(E),R=E=>({display:"flex",alignItems:"center",gap:"10px",padding:"9px 16px",textDecoration:"none",fontFamily:k.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:E?k.textPrimary:"rgba(15,18,30,0.72)",borderLeft:E?"2px solid "+k.purpleBright:"2px solid transparent",background:E?"rgba(74,61,117,.06)":"transparent",transition:"color 0.25s ease, background 0.15s"});return p.jsxs("div",{style:{minHeight:"100vh",color:k.textPrimary,fontFamily:k.sans,background:k.bgDeep},children:[p.jsx("div",{className:"sa-grid-overlay"}),p.jsx("div",{className:"sa-noise"}),r&&s&&p.jsx("div",{onClick:()=>i(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,.12)",zIndex:40}}),p.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,zIndex:50,width:"240px",transform:s||!r?"translateX(0)":"translateX(-100%)",transition:"transform 0.2s ease",background:"rgba(255,255,255,0.95)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",borderRight:"1px solid rgba(15,18,30,0.06)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[p.jsxs("div",{style:{height:r?"52px":"72px",minHeight:r?"52px":"72px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[p.jsx(Fl,{to:"/dashboard",style:{display:"flex",alignItems:"center",textDecoration:"none"},children:p.jsx(Hh,{height:r?36:52})}),p.jsx("button",{onClick:()=>i(!1),style:{color:k.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:p.jsx(tm,{size:18})})]}),p.jsx("nav",{style:{padding:r?"4px 0":"12px 0",flex:1,minHeight:0,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:w.map(E=>{const D=P(E.href);return p.jsxs(Fl,{to:E.href,style:{...R(D),padding:r?"7px 16px":"9px 16px"},onMouseEnter:C=>{D||(C.currentTarget.style.color=k.textPrimary,C.currentTarget.style.background="rgba(0,0,0,.025)")},onMouseLeave:C=>{D||(C.currentTarget.style.color="rgba(15,18,30,0.72)",C.currentTarget.style.background="transparent")},children:[E.icon==="brand"?p.jsx(_k,{size:14}):p.jsx(E.icon,{size:14,style:{opacity:D?1:.6}}),E.name]},E.name)})}),p.jsxs("div",{style:{padding:r?"10px 16px":"16px",borderTop:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:r?"8px":"12px"},children:[p.jsx("div",{"data-avatar":"true",style:{width:"28px",height:"28px",background:k.purplePrimary,border:"1px solid rgba(107,90,158,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx("span",{style:{color:"#fff",fontSize:"11px",fontWeight:500},children:((x=t==null?void 0:t.full_name)==null?void 0:x[0])||"U"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"13px",color:k.textPrimary},children:t==null?void 0:t.full_name}),p.jsx("div",{style:{fontFamily:k.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:k.textTertiary},children:t==null?void 0:t.role})]})]}),p.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:k.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:k.textTertiary,background:"none",border:"none",cursor:"pointer",padding:0},onMouseEnter:E=>E.currentTarget.style.color=k.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=k.textTertiary,children:[p.jsx(nm,{size:12}),"Sign Out"]})]})]}),p.jsxs("div",{style:{marginLeft:r?0:"240px",position:"relative",zIndex:10},children:[p.jsxs("header",{style:{height:r?"48px":"72px",display:"flex",alignItems:"center",padding:r?"0 12px":"0 20px",gap:"14px",borderBottom:"1px solid rgba(15,18,30,0.06)",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",position:"sticky",top:0,zIndex:30},children:[p.jsx("button",{onClick:()=>i(!s),style:{color:k.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:p.jsx(rm,{size:18})}),p.jsx("div",{style:{flex:1}}),p.jsxs("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",color:k.textTertiary,fontFamily:k.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",textDecoration:"none",padding:"8px 4px",transition:"color 0.25s ease"},onMouseEnter:E=>E.currentTarget.style.color=k.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=k.textTertiary,children:[p.jsx(Dc,{size:12}),!r&&"Main Site"]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsxs("button",{onClick:()=>d(!u),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:u?k.purpleBright:k.textTertiary},children:[p.jsx(sm,{size:16,strokeWidth:1.5}),h>0&&p.jsx("span",{"data-dot":"true",style:{position:"absolute",top:"-2px",right:"-2px",minWidth:"14px",height:"14px",borderRadius:"50%",background:k.accentRed,color:"#fff",fontSize:"8px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:k.mono,padding:"0 2px"},children:h>9?"9+":h})]}),u&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:()=>d(!1),style:{position:"fixed",inset:0,zIndex:90}}),p.jsxs("div",{style:{position:"absolute",right:0,top:"44px",width:"min(340px, 90vw)",maxHeight:"70vh",overflowY:"auto",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",border:"1px solid rgba(15,18,30,0.06)",zIndex:100},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.06)"},children:[p.jsx("span",{style:{fontFamily:k.mono,fontSize:"10px",letterSpacing:"2px",textTransform:"uppercase",color:k.textTertiary},children:"Notifications"}),h>0&&p.jsx("button",{onClick:g,style:{background:"none",border:"none",color:k.purpleBright,fontFamily:k.mono,fontSize:"9px",letterSpacing:"1px",cursor:"pointer",padding:0},children:"Mark all read"})]}),m.length===0?p.jsx("div",{style:{padding:"32px 16px",textAlign:"center",color:k.textDim,fontSize:"12px"},children:"No recent activity"}):m.map((E,D)=>{const C={success:k.accentGreen,warning:k.accentAmber,info:k.purpleBright,error:k.accentRed}[E.type]||k.purpleBright;return p.jsx("div",{onClick:()=>{E.resource_type==="application"&&E.resource_id&&(d(!1),window.location.hash="#/applications/"+E.resource_id)},style:{padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.04)",cursor:E.resource_id?"pointer":"default"},children:p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[p.jsx("span",{"data-dot":"true",style:{display:"inline-block",width:"4px",height:"4px",borderRadius:"50%",background:C,marginTop:"6px",flexShrink:0}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("p",{style:{margin:0,fontSize:"13px",color:E.read?k.textSecondary:k.textPrimary,lineHeight:1.4},children:E.message}),p.jsxs("span",{style:{fontFamily:k.mono,fontSize:"9px",color:k.textDim,marginTop:"4px",display:"block"},children:[E.timestamp?new Date(E.timestamp).toLocaleString():"",E.user_email?"  "+E.user_email:""]})]})]})},E.id||D)})]})]})]})]}),p.jsx("main",{className:"sa-main-content",style:{padding:"clamp(16px, 3vw, 32px)",position:"relative",zIndex:1},children:e})]}),p.jsx(wk,{})]})}const ar={background:"linear-gradient(90deg, rgba(0,0,0,0.04) 25%, rgba(0,0,0,0.08) 50%, rgba(0,0,0,0.04) 75%)",backgroundSize:"200% 100%",animation:"sa-shimmer 1.5s ease infinite",borderRadius:0};function Tk({style:e={}}){return p.jsxs("div",{style:{padding:"20px 16px",borderBottom:"1px solid rgba(0,0,0,0.06)",...e},children:[p.jsx("div",{style:{...ar,width:60,height:8,marginBottom:12}}),p.jsx("div",{style:{...ar,width:80,height:24,marginBottom:8}}),p.jsx("div",{style:{...ar,width:"70%",height:8}})]})}function Ik({rows:e=5}){return p.jsxs("div",{style:{padding:"16px 0"},children:[p.jsx("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"0 0 10px",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[80,120,100,60].map((t,n)=>p.jsx("div",{style:{...ar,width:t,height:8}},n))}),Array.from({length:e}).map((t,n)=>p.jsx("div",{style:{display:"flex",gap:16,padding:"12px 0",borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[80,120,100,60].map((r,s)=>p.jsx("div",{style:{...ar,width:r+Math.random()*40,height:10}},s))},n))]})}function Rk(){return p.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"24px 0"},children:[p.jsx("div",{style:{...ar,width:200,height:24,marginBottom:32}}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:32},children:Array.from({length:5}).map((e,t)=>p.jsx(Tk,{},t))}),p.jsx(Ik,{rows:4})]})}function kk(){const{login:e,register:t}=Qi(),n=Vi(),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,c]=b.useState({email:"",password:"",full_name:"",organization_name:""}),[u,d]=b.useState(!1),[l,f]=b.useState(!1),[m,h]=b.useState(""),[g,y]=b.useState(!1),[S,T]=b.useState(!1),[I,w]=b.useState(""),[P,R]=b.useState(!1),[x,E]=b.useState(!1),D=async N=>{var U,F,ne,G;N.preventDefault(),o("");try{r?await t(a):await e(a.email,a.password),n("/dashboard")}catch(ee){((F=(U=ee.response)==null?void 0:U.data)==null?void 0:F.detail)==="2FA_REQUIRED"?f(!0):o(((G=(ne=ee.response)==null?void 0:ne.data)==null?void 0:G.detail)||"Authentication failed")}},C=async N=>{var U,F;N.preventDefault(),y(!0),o("");try{await e(a.email,a.password,m),n("/dashboard")}catch(ne){o(((F=(U=ne.response)==null?void 0:U.data)==null?void 0:F.detail)||"Invalid code")}finally{y(!1)}},M=async N=>{N.preventDefault(),R(!0),o("");try{await Et.post("/api/auth/forgot-password",{email:I}),E(!0)}catch{E(!0)}finally{R(!1)}};return p.jsx("div",{"data-page":"login",children:p.jsx("div",{id:"sa-login",children:p.jsxs("div",{className:"sa-wrap",children:[p.jsxs("div",{className:`sa-card${r?" register":""}`,children:[p.jsx("div",{className:"sa-brand",children:p.jsx(Hh,{height:48})}),p.jsx("h1",{className:"sa-title",children:S?p.jsxs(p.Fragment,{children:["Reset ",p.jsx("em",{children:"Password"})]}):l?p.jsxs(p.Fragment,{children:["Two-Factor ",p.jsx("em",{children:"Auth"})]}):r?p.jsxs(p.Fragment,{children:["Create ",p.jsx("em",{children:"Account"})]}):p.jsxs(p.Fragment,{children:["Sign ",p.jsx("em",{children:"In"})]})}),p.jsx("p",{className:"sa-lead",children:S?"Enter your email address and well send you a link to reset your password.":l?"Enter the 6-digit code from your authenticator app to complete sign-in.":"Access the ODDC certification portal. Manage applications, certificates, and ENVELO Interlock."}),S?p.jsx("div",{children:x?p.jsxs(p.Fragment,{children:[p.jsxs("p",{style:{fontSize:"14px",lineHeight:1.6,color:"var(--sa-text-2)",marginBottom:"24px"},children:["If an account exists for ",p.jsx("strong",{children:I}),", a password reset link has been sent. Check your inbox and spam folder."]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),E(!1),w(""),o("")},children:[""," Back to sign in"]})]}):p.jsxs(p.Fragment,{children:[i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:M,children:[p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Email Address"}),p.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:I,onChange:N=>w(N.target.value),required:!0,autoFocus:!0})]}),p.jsx("button",{className:"sa-submit",type:"submit",disabled:P,children:P?"Sending":"Send Reset Link "})]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),w(""),o("")},children:[""," Back to sign in"]})]})}):l?p.jsxs("div",{children:[i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:C,children:[p.jsx("input",{className:"sa-2fa-input",type:"text",value:m,onChange:N=>h(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,autoFocus:!0}),p.jsx("button",{className:"sa-submit",type:"submit",disabled:g||m.length!==6,children:g?"Verifying":"Verify "})]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{f(!1),h(""),o("")},children:[""," Back to sign in"]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"sa-tabs",children:[p.jsx("button",{className:`sa-tab ${r?"":"active"}`,onClick:()=>{s(!1),o("")},type:"button",children:"Sign In"}),p.jsx("button",{className:`sa-tab ${r?"active":""}`,onClick:()=>{s(!0),o("")},type:"button",children:"Register"})]}),i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:D,children:[r&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Full Name"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Jane Smith",value:a.full_name,onChange:N=>c({...a,full_name:N.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Organization"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Acme Robotics Inc.",value:a.organization_name,onChange:N=>c({...a,organization_name:N.target.value}),required:!0})]})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Email Address"}),p.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:a.email,onChange:N=>c({...a,email:N.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Password"}),p.jsxs("div",{className:"sa-pw-wrap",children:[p.jsx("input",{className:"sa-input",type:u?"text":"password",placeholder:"".repeat(12),value:a.password,onChange:N=>c({...a,password:N.target.value}),required:!0}),p.jsx("button",{className:"sa-pw-toggle",type:"button",onClick:()=>d(!u),children:u?p.jsx(im,{size:16}):p.jsx(om,{size:16})})]})]}),p.jsx("button",{className:"sa-submit",type:"submit",children:r?"Create Account ":"Sign In "})]}),!r&&p.jsx("button",{className:"sa-ghost",onClick:()=>{T(!0),w(a.email),o("")},children:"Forgot password?"})]})]}),p.jsx("hr",{className:"sa-sep"}),p.jsxs("div",{className:"sa-footer",children:[p.jsx("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noreferrer noopener",className:"sa-footer-text",style:{textDecoration:"none"},children:" Public Site"}),p.jsxs("div",{style:{display:"flex",gap:"16px"},children:[p.jsx("a",{href:"https://sentinelauthority.org/privacy.html",children:"Privacy"}),p.jsx("a",{href:"https://sentinelauthority.org/terms.html",children:"Terms"})]})]})]})})})}const Ck=b.lazy(()=>Ie(()=>import("./DashboardPage-CpxcuVKi.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.RoleBasedDashboard}))),Ak=b.lazy(()=>Ie(()=>import("./ApplicationsList-BD9wGTA3.js"),__vite__mapDeps([6,1,2,7,4,5]))),Ok=b.lazy(()=>Ie(()=>import("./NewApplication-DAL5D2HA.js"),__vite__mapDeps([8,1,2,7,5]))),Pk=b.lazy(()=>Ie(()=>import("./ApplicationDetail-Bz0mz2v9.js"),__vite__mapDeps([9,1,2,7,5])));b.lazy(()=>Ie(()=>import("./CAT72Console-wj5izQ0-.js"),__vite__mapDeps([10,1,2,5])));b.lazy(()=>Ie(()=>import("./CertificatesPage-CzYLekii.js"),__vite__mapDeps([11,1,2,12,7,5])));const Mk=b.lazy(()=>Ie(()=>import("./VerifyPage-B6-44U0H.js"),__vite__mapDeps([13,1,2,5]))),Nk=b.lazy(()=>Ie(()=>import("./PendingPage-CNmlSRs-.js"),__vite__mapDeps([14,1,5]))),Lk=b.lazy(()=>Ie(()=>import("./ResourcesPage-v8ezEkML.js"),__vite__mapDeps([15,1,5]))),Dk=b.lazy(()=>Ie(()=>import("./EnveloPage-JVWaHxgZ.js"),__vite__mapDeps([16,1,10,2,5,11,12,7,17])));b.lazy(()=>Ie(()=>import("./MonitoringPage-B9mmCDT4.js"),__vite__mapDeps([18,1,2,5])));const Fk=b.lazy(()=>Ie(()=>import("./UserManagementPage-B3Lnb_fo.js"),__vite__mapDeps([19,1,2,17,3,5]))),jk=b.lazy(()=>Ie(()=>import("./LicenseesPage-CTttrYxc.js"),__vite__mapDeps([20,1,2,5]))),Bk=b.lazy(()=>Ie(()=>import("./ActivityPage-Cbjjoor2.js"),__vite__mapDeps([21,1,2,17,22,5,12])));b.lazy(()=>Ie(()=>import("./MyActivityPage-DkYYFYzF.js"),__vite__mapDeps([22,1,2,17,5])));const Uk=b.lazy(()=>Ie(()=>import("./SettingsPage-CHoeGuZf.js"),__vite__mapDeps([23,1,5]))),$k=b.lazy(()=>Ie(()=>import("./NotFoundPage-D3mh9or0.js"),__vite__mapDeps([24,1,5]))),Hk=b.lazy(()=>Ie(()=>import("./ApiDocsPage-wtyXkkhy.js"),__vite__mapDeps([25,1,5]))),zk=b.lazy(()=>Ie(()=>import("./ResetPasswordPage-DAEMPUlZ.js"),__vite__mapDeps([26,1,5])));function Me({children:e}){return p.jsx(b.Suspense,{fallback:p.jsx(Rk,{}),children:e})}function Wk(){return p.jsx(LT,{children:p.jsx(mk,{children:p.jsx(LI,{children:p.jsx(gk,{children:p.jsx(hk,{children:p.jsxs(RI,{children:[p.jsx(ye,{path:"/login",element:p.jsx(kk,{})}),p.jsx(ye,{path:"/reset-password",element:p.jsx(Me,{children:p.jsx(zk,{})})}),p.jsx(ye,{path:"/verify",element:p.jsx(Me,{children:p.jsx(Mk,{})})}),p.jsx(ye,{path:"/dashboard",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Ck,{})})})})}),p.jsx(ye,{path:"/applications",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Ak,{})})})})}),p.jsx(ye,{path:"/applications/new",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Ok,{})})})})}),p.jsx(ye,{path:"/applications/:id",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Pk,{})})})})}),p.jsx(ye,{path:"/cat72",element:p.jsx(Sn,{to:"/envelo"})}),p.jsx(ye,{path:"/certificates",element:p.jsx(Sn,{to:"/envelo"})}),p.jsx(ye,{path:"/pending",element:p.jsx(Me,{children:p.jsx(Nk,{})})}),p.jsx(ye,{path:"/resources",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Lk,{})})})})}),p.jsx(ye,{path:"/monitoring",element:p.jsx(Sn,{to:"/envelo"})}),p.jsx(ye,{path:"/envelo",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Dk,{})})})})}),p.jsx(ye,{path:"/activity",element:p.jsx(ot,{roles:["admin"],children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Bk,{})})})})}),p.jsx(ye,{path:"/my-activity",element:p.jsx(Sn,{to:"/activity"})}),p.jsx(ye,{path:"/settings",element:p.jsx(ot,{children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Uk,{})})})})}),p.jsx(ye,{path:"/api-docs",element:p.jsx(ot,{roles:["admin"],children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Hk,{})})})})}),p.jsx(ye,{path:"/licensees",element:p.jsx(ot,{roles:["admin"],children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(jk,{})})})})}),p.jsx(ye,{path:"/users",element:p.jsx(ot,{roles:["admin"],children:p.jsx(at,{children:p.jsx(Me,{children:p.jsx(Fk,{})})})})}),p.jsx(ye,{path:"/",element:p.jsx(Sn,{to:"/dashboard"})}),p.jsx(ye,{path:"*",element:p.jsx(Me,{children:p.jsx($k,{})})})]})})})})})})}RT({dsn:"undefined",environment:"production",integrations:[vT(),rT({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.05,replaysOnErrorSampleRate:1});const qk=new jm({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchInterval:3e4},mutations:{onError:e=>Li(e)}}});Co.createRoot(document.getElementById("root")).render(p.jsx(an.StrictMode,{children:p.jsx(PT,{fallback:p.jsx("div",{style:{padding:"40px",textAlign:"center",fontFamily:"monospace",fontSize:"13px",color:"#666"},children:"Something went wrong. The team has been notified."}),children:p.jsx(Bm,{client:qk,children:p.jsx(Wk,{})})})}));export{_C as A,_k as B,LT as E,Fl as L,SC as a,Vi as b,yk as c,Et as d,bC as e,Td as f,Xm as g,Qk as h,Jk as i,p as j,jh as k,Xk as l,Hh as m,k as s,Qi as u};
