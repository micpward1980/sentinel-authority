const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-DzTWsAtc.js","assets/icons-DCxkC3Ow.js","assets/Panel-CTXV6eYW.js","assets/StatCard-CWZ4Z2x1.js","assets/EmptyState-CEDHeoAn.js","assets/vendor-DxYwK_Rn.js","assets/ApplicationsList-DhfhKj8w.js","assets/useQuery-DvUtKwTH.js","assets/CopyableId-DLd-jDZI.js","assets/NewApplication-Dk6Rj1Nd.js","assets/ApplicationDetail-Cn4xAp-4.js","assets/CAT72Console-DLB-zD1C.js","assets/CertificatesPage-8XhqITkb.js","assets/Badge-Ywk62EHg.js","assets/VerifyPage-B0KeE2W8.js","assets/PendingPage-BnKYGubT.js","assets/ResourcesPage-C4LccEjX.js","assets/EnveloPage-DR5YN9Pq.js","assets/SectionHeader-lim_qPma.js","assets/MonitoringPage-CvkgiL29.js","assets/UserManagementPage-cDEjVKDa.js","assets/LicenseesPage-WW3O8inD.js","assets/ActivityPage-DgRdfXd3.js","assets/MyActivityPage-sNGVr_Md.js","assets/SettingsPage-Cy4-s1RU.js","assets/NotFoundPage-WyvL5665.js","assets/ApiDocsPage-oyG-1dc8.js","assets/ResetPasswordPage-CJL6Om-l.js"])))=>i.map(i=>d[i]);
var rc=e=>{throw TypeError(e)};var Fi=(e,t,n)=>t.has(e)||rc("Cannot "+n);var x=(e,t,n)=>(Fi(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>t.has(e)?rc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(Fi(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ie=(e,t,n)=>(Fi(e,t,"access private method"),n);var gs=(e,t,n,r)=>({set _(s){W(e,t,s,n)},get _(){return x(e,t,r)}});import{r as S,R as Xt,a as sh,b as ih,C as oh,S as ah,H as ch,F as uh,B as lh,A as dh,U as fh,c as ph,E as sc,X as hh,L as mh,M as gh,d as yh,e as _h,f as Sh}from"./icons-DCxkC3Ow.js";import{r as bh,R as Eh}from"./vendor-DxYwK_Rn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ol={exports:{}},ui={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=S,xh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),Th=Object.prototype.hasOwnProperty,Ih=vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rh={key:!0,ref:!0,__self:!0,__source:!0};function Pl(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Th.call(t,r)&&!Rh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:xh,type:e,key:i,ref:o,props:s,_owner:Ih.current}}ui.Fragment=wh;ui.jsx=Pl;ui.jsxs=Pl;Ol.exports=ui;var p=Ol.exports,co={},ic=bh;co.createRoot=ic.createRoot,co.hydrateRoot=ic.hydrateRoot;var li=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kh={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bt,Zo,El,Ch=(El=class{constructor(){ne(this,Bt,kh);ne(this,Zo,!1)}setTimeoutProvider(e){W(this,Bt,e)}setTimeout(e,t){return x(this,Bt).setTimeout(e,t)}clearTimeout(e){x(this,Bt).clearTimeout(e)}setInterval(e,t){return x(this,Bt).setInterval(e,t)}clearInterval(e){x(this,Bt).clearInterval(e)}},Bt=new WeakMap,Zo=new WeakMap,El),uo=new Ch;function Ah(e){setTimeout(e,0)}var di=typeof window>"u"||"Deno"in globalThis;function st(){}function Oh(e,t){return typeof e=="function"?e(t):e}function Ph(e){return typeof e=="number"&&e>=0&&e!==1/0}function Mh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lo(e,t){return typeof e=="function"?e(t):e}function Nh(e,t){return typeof e=="function"?e(t):e}function oc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==ea(o,t.options))return!1}else if(!Mr(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function ac(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Pr(t.options.mutationKey)!==Pr(i))return!1}else if(!Mr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ea(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pr)(e)}function Pr(e){return JSON.stringify(e,(t,n)=>fo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Mr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Mr(e[n],t[n])):!1}var Lh=Object.prototype.hasOwnProperty;function Ml(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=cc(e)&&cc(t);if(!r&&!(fo(e)&&fo(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,c=r?new Array(a):{};let u=0;for(let l=0;l<a;l++){const d=r?l:o[l],f=e[d],m=t[d];if(f===m){c[d]=f,(r?l<i:Lh.call(e,d))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){c[d]=m;continue}const h=Ml(f,m,n+1);c[d]=h,h===f&&u++}return i===a&&u===i?e:c}function ZR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fo(e){if(!uc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!uc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dh(e){return new Promise(t=>{uo.setTimeout(t,e)})}function Fh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ml(e,t):t}function jh(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Bh(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ta=Symbol();function Nl(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ta?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ek(e,t){return typeof e=="function"?e(...t):!!e}function Uh(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var hn,Ut,Kn,vl,$h=(vl=class extends li{constructor(){super();ne(this,hn);ne(this,Ut);ne(this,Kn);W(this,Kn,t=>{if(!di&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,Ut)||this.setEventListener(x(this,Kn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Ut))==null||t.call(this),W(this,Ut,void 0))}setEventListener(t){var n;W(this,Kn,t),(n=x(this,Ut))==null||n.call(this),W(this,Ut,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,hn)!==t&&(W(this,hn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,hn)=="boolean"?x(this,hn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hn=new WeakMap,Ut=new WeakMap,Kn=new WeakMap,vl),Ll=new $h;function Hh(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var zh=Ah;function Wh(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=zh;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Pe=Wh(),Yn,$t,Jn,xl,qh=(xl=class extends li{constructor(){super();ne(this,Yn,!0);ne(this,$t);ne(this,Jn);W(this,Jn,t=>{if(!di&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,$t)||this.setEventListener(x(this,Jn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,$t))==null||t.call(this),W(this,$t,void 0))}setEventListener(t){var n;W(this,Jn,t),(n=x(this,$t))==null||n.call(this),W(this,$t,t(this.setOnline.bind(this)))}setOnline(t){x(this,Yn)!==t&&(W(this,Yn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,Yn)}},Yn=new WeakMap,$t=new WeakMap,Jn=new WeakMap,xl),zs=new qh;function Vh(e){return Math.min(1e3*2**e,3e4)}function Dl(e){return(e??"online")==="online"?zs.isOnline():!0}var po=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Fl(e){let t=!1,n=0,r;const s=Hh(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const _=new po(g);f(_),(y=e.onCancel)==null||y.call(e,_)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Ll.isFocused()&&(e.networkMode==="always"||zs.isOnline())&&e.canRun(),l=()=>Dl(e.networkMode)&&e.canRun(),d=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var y;r=_=>{(i()||u())&&g(_)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),h=()=>{if(i())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(d).catch(_=>{var k;if(i())return;const T=e.retry??(di?0:3),I=e.retryDelay??Vh,w=typeof I=="function"?I(n,_):I,M=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,_);if(t||!M){f(_);return}n++,(k=e.onFail)==null||k.call(e,n,_),Dh(w).then(()=>u()?void 0:m()).then(()=>{t?f(_):h()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?h():m().then(h),s)}}var mn,wl,jl=(wl=class{constructor(){ne(this,mn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ph(this.gcTime)&&W(this,mn,uo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(di?1/0:5*60*1e3))}clearGcTimeout(){x(this,mn)&&(uo.clearTimeout(x(this,mn)),W(this,mn,void 0))}},mn=new WeakMap,wl),gn,Xn,Xe,yn,we,qr,_n,it,vt,Tl,Gh=(Tl=class extends jl{constructor(t){super();ne(this,it);ne(this,gn);ne(this,Xn);ne(this,Xe);ne(this,yn);ne(this,we);ne(this,qr);ne(this,_n);W(this,_n,!1),W(this,qr,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,yn,t.client),W(this,Xe,x(this,yn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,gn,dc(this.options)),this.state=t.state??x(this,gn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,we))==null?void 0:t.promise}setOptions(t){if(this.options={...x(this,qr),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=dc(this.options);n.data!==void 0&&(this.setState(lc(n.data,n.dataUpdatedAt)),W(this,gn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Xe).remove(this)}setData(t,n){const r=Fh(this.state.data,t,this.options);return Ie(this,it,vt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ie(this,it,vt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,we))==null?void 0:r.promise;return(s=x(this,we))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,gn))}isActive(){return this.observers.some(t=>Nh(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ta||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>lo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Mh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,we))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,we))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,Xe).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,we)&&(x(this,_n)?x(this,we).cancel({revert:!0}):x(this,we).cancelRetry()),this.scheduleGc()),x(this,Xe).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,it,vt).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,l,d,f,m,h,g,y,_,T,I;if(this.state.fetchStatus!=="idle"&&((c=x(this,we))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,we))return x(this,we).continueRetry(),x(this,we).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(M=>M.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(W(this,_n,!0),r.signal)})},i=()=>{const w=Nl(this.options,n),k=(()=>{const v={client:x(this,yn),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return W(this,_n,!1),this.options.persister?this.options.persister(w,k,this):w(k)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,yn),state:this.state,fetchFn:i};return s(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),W(this,Xn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&Ie(this,it,vt).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),W(this,we,Fl({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof po&&w.revert&&this.setState({...x(this,Xn),fetchStatus:"idle"}),r.abort()},onFail:(w,M)=>{Ie(this,it,vt).call(this,{type:"failed",failureCount:w,error:M})},onPause:()=>{Ie(this,it,vt).call(this,{type:"pause"})},onContinue:()=>{Ie(this,it,vt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await x(this,we).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(f=x(this,Xe).config).onSuccess)==null||m.call(f,w,this),(g=(h=x(this,Xe).config).onSettled)==null||g.call(h,w,this.state.error,this),w}catch(w){if(w instanceof po){if(w.silent)return x(this,we).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Ie(this,it,vt).call(this,{type:"error",error:w}),(_=(y=x(this,Xe).config).onError)==null||_.call(y,w,this),(I=(T=x(this,Xe).config).onSettled)==null||I.call(T,this.state.data,w,this),w}finally{this.scheduleGc()}}},gn=new WeakMap,Xn=new WeakMap,Xe=new WeakMap,yn=new WeakMap,we=new WeakMap,qr=new WeakMap,_n=new WeakMap,it=new WeakSet,vt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Kh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...lc(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Xn,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Pe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,Xe).notify({query:this,type:"updated",action:t})})},Tl);function Kh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dl(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lc(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function dc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function fc(e){return{onFetch:(t,n)=>{var l,d,f,m,h;const r=t.options,s=(f=(d=(l=t.fetchOptions)==null?void 0:l.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=I=>{Uh(I,()=>t.signal,()=>g=!0)},_=Nl(t.options,t.fetchOptions),T=async(I,w,M)=>{if(g)return Promise.reject();if(w==null&&I.pages.length)return Promise.resolve(I);const v=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:M?"backward":"forward",meta:t.options.meta};return y(P),P})(),A=await _(v),{maxPages:D}=t.options,E=M?Bh:jh;return{pages:E(I.pages,A,D),pageParams:E(I.pageParams,w,D)}};if(s&&i.length){const I=s==="backward",w=I?Yh:pc,M={pages:i,pageParams:o},k=w(r,M);a=await T(M,k,I)}else{const I=e??i.length;do{const w=c===0?o[0]??r.initialPageParam:pc(r,a);if(c>0&&w==null)break;a=await T(a,w),c++}while(c<I)}return a};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function pc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Yh(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Vr,pt,Re,Sn,ht,Dt,Il,Jh=(Il=class extends jl{constructor(t){super();ne(this,ht);ne(this,Vr);ne(this,pt);ne(this,Re);ne(this,Sn);W(this,Vr,t.client),this.mutationId=t.mutationId,W(this,Re,t.mutationCache),W(this,pt,[]),this.state=t.state||Xh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,pt).includes(t)||(x(this,pt).push(t),this.clearGcTimeout(),x(this,Re).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,pt,x(this,pt).filter(n=>n!==t)),this.scheduleGc(),x(this,Re).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,pt).length||(this.state.status==="pending"?this.scheduleGc():x(this,Re).remove(this))}continue(){var t;return((t=x(this,Sn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,l,d,f,m,h,g,y,_,T,I,w,M,k,v;const n=()=>{Ie(this,ht,Dt).call(this,{type:"continue"})},r={client:x(this,Vr),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,Sn,Fl({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Ie(this,ht,Dt).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Ie(this,ht,Dt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Re).canRun(this)}));const s=this.state.status==="pending",i=!x(this,Sn).canStart();try{if(s)n();else{Ie(this,ht,Dt).call(this,{type:"pending",variables:t,isPaused:i}),x(this,Re).config.onMutate&&await x(this,Re).config.onMutate(t,this,r);const D=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t,r));D!==this.state.context&&Ie(this,ht,Dt).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const A=await x(this,Sn).start();return await((u=(c=x(this,Re).config).onSuccess)==null?void 0:u.call(c,A,t,this.state.context,this,r)),await((d=(l=this.options).onSuccess)==null?void 0:d.call(l,A,t,this.state.context,r)),await((m=(f=x(this,Re).config).onSettled)==null?void 0:m.call(f,A,null,this.state.variables,this.state.context,this,r)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,A,null,t,this.state.context,r)),Ie(this,ht,Dt).call(this,{type:"success",data:A}),A}catch(A){try{await((_=(y=x(this,Re).config).onError)==null?void 0:_.call(y,A,t,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((I=(T=this.options).onError)==null?void 0:I.call(T,A,t,this.state.context,r))}catch(D){Promise.reject(D)}try{await((M=(w=x(this,Re).config).onSettled)==null?void 0:M.call(w,void 0,A,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((v=(k=this.options).onSettled)==null?void 0:v.call(k,void 0,A,t,this.state.context,r))}catch(D){Promise.reject(D)}throw Ie(this,ht,Dt).call(this,{type:"error",error:A}),A}finally{x(this,Re).runNext(this)}}},Vr=new WeakMap,pt=new WeakMap,Re=new WeakMap,Sn=new WeakMap,ht=new WeakSet,Dt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pe.batch(()=>{x(this,pt).forEach(r=>{r.onMutationUpdate(t)}),x(this,Re).notify({mutation:this,type:"updated",action:t})})},Il);function Xh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wt,ot,Gr,Rl,Qh=(Rl=class extends li{constructor(t={}){super();ne(this,wt);ne(this,ot);ne(this,Gr);this.config=t,W(this,wt,new Set),W(this,ot,new Map),W(this,Gr,0)}build(t,n,r){const s=new Jh({client:t,mutationCache:this,mutationId:++gs(this,Gr)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){x(this,wt).add(t);const n=ys(t);if(typeof n=="string"){const r=x(this,ot).get(n);r?r.push(t):x(this,ot).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,wt).delete(t)){const n=ys(t);if(typeof n=="string"){const r=x(this,ot).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&x(this,ot).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ys(t);if(typeof n=="string"){const r=x(this,ot).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ys(t);if(typeof n=="string"){const s=(r=x(this,ot).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pe.batch(()=>{x(this,wt).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,wt).clear(),x(this,ot).clear()})}getAll(){return Array.from(x(this,wt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ac(n,r))}findAll(t={}){return this.getAll().filter(n=>ac(t,n))}notify(t){Pe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Pe.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},wt=new WeakMap,ot=new WeakMap,Gr=new WeakMap,Rl);function ys(e){var t;return(t=e.options.scope)==null?void 0:t.id}var mt,kl,Zh=(kl=class extends li{constructor(t={}){super();ne(this,mt);this.config=t,W(this,mt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ea(s,n);let o=this.get(i);return o||(o=new Gh({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){x(this,mt).has(t.queryHash)||(x(this,mt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,mt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,mt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,mt).get(t)}getAll(){return[...x(this,mt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>oc(t,r)):n}notify(t){Pe.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mt=new WeakMap,kl),me,Ht,zt,Qn,Zn,Wt,er,tr,Cl,em=(Cl=class{constructor(e={}){ne(this,me);ne(this,Ht);ne(this,zt);ne(this,Qn);ne(this,Zn);ne(this,Wt);ne(this,er);ne(this,tr);W(this,me,e.queryCache||new Zh),W(this,Ht,e.mutationCache||new Qh),W(this,zt,e.defaultOptions||{}),W(this,Qn,new Map),W(this,Zn,new Map),W(this,Wt,0)}mount(){gs(this,Wt)._++,x(this,Wt)===1&&(W(this,er,Ll.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,me).onFocus())})),W(this,tr,zs.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,me).onOnline())})))}unmount(){var e,t;gs(this,Wt)._--,x(this,Wt)===0&&((e=x(this,er))==null||e.call(this),W(this,er,void 0),(t=x(this,tr))==null||t.call(this),W(this,tr,void 0))}isFetching(e){return x(this,me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Ht).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(lo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return x(this,me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,me).get(r.queryHash),i=s==null?void 0:s.state.data,o=Oh(t,i);if(o!==void 0)return x(this,me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Pe.batch(()=>x(this,me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,me);Pe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,me);return Pe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Pe.batch(()=>x(this,me).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return Pe.batch(()=>(x(this,me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Pe.batch(()=>x(this,me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,me).build(this,t);return n.isStaleByTime(lo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=fc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=fc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zs.isOnline()?x(this,Ht).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,me)}getMutationCache(){return x(this,Ht)}getDefaultOptions(){return x(this,zt)}setDefaultOptions(e){W(this,zt,e)}setQueryDefaults(e,t){x(this,Qn).set(Pr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Qn).values()],n={};return t.forEach(r=>{Mr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){x(this,Zn).set(Pr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Zn).values()],n={};return t.forEach(r=>{Mr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,zt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ea(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ta&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,zt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,me).clear(),x(this,Ht).clear()}},me=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,Wt=new WeakMap,er=new WeakMap,tr=new WeakMap,Cl),Bl=S.createContext(void 0),tk=e=>{const t=S.useContext(Bl);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tm=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(Bl.Provider,{value:e,children:t}));const j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ee=globalThis,bn="10.39.0";function An(){return fi(ee),ee}function fi(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||bn,t[bn]=t[bn]||{}}function fr(e,t,n=ee){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[bn]=r[bn]||{};return s[e]||(s[e]=t())}const nm=["debug","info","warn","error","log","assert","trace"],rm="Sentry Logger ",Ws={};function On(e){if(!("console"in ee))return e();const t=ee.console,n={},r=Object.keys(Ws);r.forEach(s=>{const i=Ws[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function sm(){ra().enabled=!0}function im(){ra().enabled=!1}function Ul(){return ra().enabled}function om(...e){na("log",...e)}function am(...e){na("warn",...e)}function cm(...e){na("error",...e)}function na(e,...t){j&&Ul()&&On(()=>{ee.console[e](`${rm}[${e}]:`,...t)})}function ra(){return j?fr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const O={enable:sm,disable:im,isEnabled:Ul,log:om,warn:am,error:cm},$l=50,Tn="?",hc=/\(error: (.*)\)/,mc=/captureMessage|captureException/;function Hl(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=hc.test(c)?c.replace(hc,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){i.push(d);break}}if(i.length>=$l+s)break}}return lm(i.slice(s))}}function um(e){return Array.isArray(e)?Hl(...e):e}function lm(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(_s(t).function||"")&&t.pop(),t.reverse(),mc.test(_s(t).function||"")&&(t.pop(),mc.test(_s(t).function||"")&&t.pop()),t.slice(0,$l).map(n=>({...n,filename:n.filename||_s(t).filename,function:n.function||Tn}))}function _s(e){return e[e.length-1]||{}}const ji="<anonymous>";function Ct(e){try{return!e||typeof e!="function"?ji:e.name||ji}catch{return ji}}function gc(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function zl(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Cs={},yc={};function tn(e,t){Cs[e]=Cs[e]||[],Cs[e].push(t)}function nn(e,t){if(!yc[e]){yc[e]=!0;try{t()}catch(n){j&&O.error(`Error while instrumenting ${e}`,n)}}}function Qe(e,t){const n=e&&Cs[e];if(n)for(const r of n)try{r(t)}catch(s){j&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}let Bi=null;function Wl(e){const t="error";tn(t,e),nn(t,dm)}function dm(){Bi=ee.onerror,ee.onerror=function(e,t,n,r,s){return Qe("error",{column:r,error:s,line:n,msg:e,url:t}),Bi?Bi.apply(this,arguments):!1},ee.onerror.__SENTRY_INSTRUMENTED__=!0}let Ui=null;function ql(e){const t="unhandledrejection";tn(t,e),nn(t,fm)}function fm(){Ui=ee.onunhandledrejection,ee.onunhandledrejection=function(e){return Qe("unhandledrejection",e),Ui?Ui.apply(this,arguments):!0},ee.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Vl=Object.prototype.toString;function Kr(e){switch(Vl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return At(e,Error)}}function pr(e,t){return Vl.call(e)===`[object ${t}]`}function Gl(e){return pr(e,"ErrorEvent")}function _c(e){return pr(e,"DOMError")}function pm(e){return pr(e,"DOMException")}function Tt(e){return pr(e,"String")}function sa(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function nr(e){return e===null||sa(e)||typeof e!="object"&&typeof e!="function"}function Nr(e){return pr(e,"Object")}function pi(e){return typeof Event<"u"&&At(e,Event)}function hm(e){return typeof Element<"u"&&At(e,Element)}function mm(e){return pr(e,"RegExp")}function hr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function gm(e){return Nr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function At(e,t){try{return e instanceof t}catch{return!1}}function Kl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function ia(e){return typeof Request<"u"&&At(e,Request)}const oa=ee,ym=80;function $e(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||ym;for(;n&&i++<r&&(u=_m(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function _m(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(oa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Tt(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function mr(){try{return oa.document.location.href}catch{return""}}function Yl(e){if(!oa.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function je(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Jl(s,r);try{e[t]=s}catch{j&&O.log(`Failed to replace method "${t}" in object`,e)}}function He(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{j&&O.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Jl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,He(e,"__sentry_original__",t)}catch{}}function aa(e){return e.__sentry_original__}function Xl(e){if(Kr(e))return{message:e.message,name:e.name,stack:e.stack,...bc(e)};if(pi(e)){const t={type:e.type,target:Sc(e.target),currentTarget:Sc(e.currentTarget),...bc(e)};return typeof CustomEvent<"u"&&At(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Sc(e){try{return hm(e)?$e(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function bc(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Sm(e){const t=Object.keys(Xl(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Dn;function Yr(e){if(Dn!==void 0)return Dn?Dn(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=ee;return t in n&&typeof n[t]=="function"?(Dn=n[t],Dn(e)):(Dn=null,e())}function Vt(){return Yr(()=>Math.random())}function Jr(){return Yr(()=>Date.now())}function ho(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ec(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Kl(s)?n.push(zl(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function As(e,t,n=!1){return Tt(e)?mm(t)?t.test(e):Tt(t)?n?e===t:e.includes(t):!1:!1}function It(e,t=[],n=!1){return t.some(r=>As(e,r,n))}function bm(){const e=ee;return e.crypto||e.msCrypto}let $i;function Em(){return Vt()*16}function Ge(e=bm()){try{if(e!=null&&e.randomUUID)return Yr(()=>e.randomUUID()).replace(/-/g,"")}catch{}return $i||($i="10000000100040008000"+1e11),$i.replace(/[018]/g,t=>(t^(Em()&15)>>t/4).toString(16))}function Ql(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function un(e){const{message:t,event_id:n}=e;if(t)return t;const r=Ql(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function mo(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function rr(e,t){const n=Ql(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function vc(e){if(vm(e))return!0;try{He(e,"__sentry_captured__",!0)}catch{}return!1}function vm(e){try{return e.__sentry_captured__}catch{}}const Zl=1e3;function Pn(){return Jr()/Zl}function xm(){const{performance:e}=ee;if(!(e!=null&&e.now)||!e.timeOrigin)return Pn;const t=e.timeOrigin;return()=>(t+Yr(()=>e.now()))/Zl}let xc;function Te(){return(xc??(xc=xm()))()}let Hi=null;function wm(){var o;const{performance:e}=ee;if(!(e!=null&&e.now))return;const t=3e5,n=Yr(()=>e.now()),r=Jr(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const i=(o=e.timing)==null?void 0:o.navigationStart;return typeof i=="number"&&Math.abs(i+n-r)<t?i:r-n}function We(){return Hi===null&&(Hi=wm()),Hi}function Tm(e){const t=Te(),n={sid:Ge(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Rm(n)};return e&&sr(n,e),n}function sr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Te(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ge()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Im(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),sr(e,n)}function Rm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Xr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Xr(r[s],t[s],n-1));return r}function Ot(){return Ge()}function Rt(){return Ge().substring(16)}const go="_sentrySpan";function ir(e,t){t?He(e,go,t):delete e[go]}function qs(e){return e[go]}const km=100;class yt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ot(),sampleRand:Vt()}}clone(){const t=new yt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,ir(t,qs(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&sr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof yt?n.getScopeData():Nr(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d,conversationId:f}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),f&&(this._conversationId=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,ir(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ot(),sampleRand:Vt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:km;if(r<=0)return this;const s={timestamp:Pn(),...t,message:t.message?ho(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:qs(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Xr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Ge();if(!this._client)return j&&O.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Ge();if(!this._client)return j&&O.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=t.event_id||(n==null?void 0:n.event_id)||Ge();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(j&&O.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Cm(){return fr("defaultCurrentScope",()=>new yt)}function Am(){return fr("defaultIsolationScope",()=>new yt)}class Om{constructor(t,n){let r;t?r=t:r=new yt;let s;n?s=n:s=new yt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return hr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function or(){const e=An(),t=fi(e);return t.stack=t.stack||new Om(Cm(),Am())}function Pm(e){return or().withScope(e)}function Mm(e,t){const n=or();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function wc(e){return or().withScope(()=>e(or().getIsolationScope()))}function Nm(){return{withIsolationScope:wc,withScope:Pm,withSetScope:Mm,withSetIsolationScope:(e,t)=>wc(t),getCurrentScope:()=>or().getScope(),getIsolationScope:()=>or().getIsolationScope()}}function gr(e){const t=fi(e);return t.acs?t.acs:Nm()}function ae(){const e=An();return gr(e).getCurrentScope()}function Ze(){const e=An();return gr(e).getIsolationScope()}function Lm(){return fr("globalScope",()=>new yt)}function yr(...e){const t=An(),n=gr(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function X(){return ae().getClient()}function Dm(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||Rt()};return r&&(i.parent_span_id=r),i}const ut="sentry.source",ca="sentry.sample_rate",ed="sentry.previous_trace_sample_rate",Pt="sentry.op",ve="sentry.origin",Lr="sentry.idle_span_finish_reason",Qr="sentry.measurement_unit",Zr="sentry.measurement_value",Tc="sentry.custom_span_name",ua="sentry.profile_id",_r="sentry.exclusive_time",Fm="sentry.link.type",jm="gen_ai.conversation.id",Bm=0,la=1,Ee=2;function Um(e){if(e<400&&e>=100)return{code:la};if(e>=400&&e<500)switch(e){case 401:return{code:Ee,message:"unauthenticated"};case 403:return{code:Ee,message:"permission_denied"};case 404:return{code:Ee,message:"not_found"};case 409:return{code:Ee,message:"already_exists"};case 413:return{code:Ee,message:"failed_precondition"};case 429:return{code:Ee,message:"resource_exhausted"};case 499:return{code:Ee,message:"cancelled"};default:return{code:Ee,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ee,message:"unimplemented"};case 503:return{code:Ee,message:"unavailable"};case 504:return{code:Ee,message:"deadline_exceeded"};default:return{code:Ee,message:"internal_error"}}return{code:Ee,message:"internal_error"}}function td(e,t){e.setAttribute("http.response.status_code",t);const n=Um(t);n.message!=="unknown_error"&&e.setStatus(n)}const nd="_sentryScope",rd="_sentryIsolationScope";function $m(e){try{const t=ee.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Hm(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function zm(e,t,n){e&&(He(e,rd,$m(n)),He(e,nd,t))}function Vs(e){const t=e;return{scope:t[nd],isolationScope:Hm(t[rd])}}const da="sentry-",Wm=/^sentry-/,qm=8192;function sd(e){const t=Gm(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Wm)){const o=s.slice(da.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Vm(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${da}${r}`]=s),n),{});return Km(t)}function Gm(e){if(!(!e||!Tt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Ic(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Ic(e)}function Ic(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Km(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>qm?(j&&O.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Ym=/^o(\d+)\./,Jm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Xm(e){return e==="http"||e==="https"}function Mn(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Qm(e){const t=Jm.exec(e);if(!t){On(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return id({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function id(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Zm(e){if(!j)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(O.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Xm(r)?t&&isNaN(parseInt(t,10))?(O.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(O.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function eg(e){const t=e.match(Ym);return t==null?void 0:t[1]}function tg(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=eg(n)),r}function od(e){const t=typeof e=="string"?Qm(e):id(e);if(!(!t||!Zm(t)))return t}function In(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const ad=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ng(e){if(!e)return;const t=e.match(ad);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function rg(e,t){const n=ng(e),r=sd(t);if(!(n!=null&&n.traceId))return{traceId:Ot(),sampleRand:Vt()};const s=sg(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function cd(e=Ot(),t=Rt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ud(e=Ot(),t=Rt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function sg(e,t){const n=In(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=In(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Vt()*r:r+Vt()*(1-r):Vt()}const ld=0,fa=1;let Rc=!1;function ig(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=se(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function og(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:se(e).parent_span_id,i=Vs(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||Rt():t;return{parent_span_id:s,span_id:o,trace_id:n}}function ag(e){const{traceId:t,spanId:n}=e.spanContext(),r=rn(e);return cd(t,n,r)}function cg(e){const{traceId:t,spanId:n}=e.spanContext(),r=rn(e);return ud(t,n,r)}function dd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===fa,attributes:i,...s}))}function En(e){return typeof e=="number"?kc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?kc(e.getTime()):Te()}function kc(e){return e>9999999999?e/1e3:e}function se(e){var r;if(lg(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(ug(e)){const{attributes:s,startTime:i,name:o,endTime:a,status:c,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:l,start_timestamp:En(i),timestamp:En(a)||void 0,status:fd(c),op:s[Pt],origin:s[ve],links:dd(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function ug(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function lg(e){return typeof e.getSpanJSON=="function"}function rn(e){const{traceFlags:t}=e.spanContext();return t===fa}function fd(e){if(!(!e||e.code===Bm))return e.code===la?"ok":e.message||"internal_error"}const vn="_sentryChildSpans",yo="_sentryRootSpan";function pd(e,t){const n=e[yo]||e;He(t,yo,n),e[vn]?e[vn].add(t):He(e,vn,new Set([t]))}function dg(e,t){e[vn]&&e[vn].delete(t)}function Os(e){const t=new Set;function n(r){if(!t.has(r)&&rn(r)){t.add(r);const s=r[vn]?Array.from(r[vn]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function Ce(e){return e[yo]||e}function Ne(){const e=An(),t=gr(e);return t.getActiveSpan?t.getActiveSpan():qs(ae())}function _o(){Rc||(On(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Rc=!0)}let Cc=!1;function fg(){if(Cc)return;function e(){const t=Ne(),n=t&&Ce(t);if(n){const r="internal_error";j&&O.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Ee,message:r})}}e.tag="sentry_tracingErrorCallback",Cc=!0,Wl(e),ql(e)}function lt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=X())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Ac(e){O.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Gs(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(hg(n)){if(As(e.description,n))return j&&Ac(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?As(e.description,n.name):!0,s=n.op?e.op&&As(e.op,n.op):!0;if(r&&s)return j&&Ac(e),!0}return!1}function pg(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function hg(e){return typeof e=="string"||e instanceof RegExp}const pa="production",hd="_frozenDsc";function Ps(e,t){He(e,hd,t)}function md(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||pa,release:n.release,public_key:r,trace_id:e,org_id:tg(t)};return t.emit("createDsc",s),s}function gd(e,t){const n=t.getPropagationContext();return n.dsc||md(n.traceId,e)}function Mt(e){var h;const t=X();if(!t)return{};const n=Ce(e),r=se(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[ca]??s[ed];function a(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const c=n[hd];if(c)return a(c);const u=i==null?void 0:i.get("sentry.dsc"),l=u&&sd(u);if(l)return a(l);const d=md(e.spanContext().traceId,t),f=s[ut],m=r.description;return f!=="url"&&m&&(d.transaction=m),lt()&&(d.sampled=String(rn(n)),d.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((h=Vs(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(d),t.emit("createDsc",d,n),d}class Qt{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||Rt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ld}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function at(e,t=100,n=1/0){try{return So("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function yd(e,t=3,n=100*1024){const r=at(e,t);return _g(r)>n?yd(e,t-1,n):r}function So(e,t,n=1/0,r=1/0,s=Sg()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=mg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return So("",m,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=Xl(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=r){l[m]="[MaxProperties ~]";break}const h=f[m];l[m]=So(m,h,c-1,r,s),d++}return o(t),l}function mg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Kl(t))return zl(t);if(gm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ct(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=gg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function gg(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function yg(e){return~-encodeURI(e).split(/%..|./).length}function _g(e){return yg(JSON.stringify(e))}function Sg(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function sn(e,t=[]){return[e,t]}function bg(e,t){const[n,r]=e;return[n,[...r,t]]}function bo(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Eg(e,t){return bo(e,(n,r)=>t.includes(r))}function Eo(e){const t=fi(ee);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function vg(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Eo(r),i]:r.push(typeof i=="string"?Eo(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(at(a))}s(c)}}return typeof r=="string"?r:xg(r)}function xg(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function wg(e){return[{type:"span"},e]}function Tg(e){const t=typeof e.data=="string"?Eo(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Ig={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Oc(e){return Ig[e]}function ha(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _d(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mn(r)},...s&&{trace:s}}}function Rg(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function kg(e,t,n,r){const s=ha(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Mn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return sn(i,[o])}function Cg(e,t,n,r){const s=ha(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Rg(e,n==null?void 0:n.sdk);const o=_d(e,s,r,t);return delete e.sdkProcessingMetadata,sn(o,[[{type:i},e]])}function Ag(e,t){function n(m){return!!m.trace_id&&!!m.public_key}const r=Mt(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Mn(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(m=>!Gs(se(m),c)):e,l=e.length-u.length;l&&(t==null||t.recordDroppedEvent("before_send","span",l));const d=a?m=>{const h=se(m),g=a(h);return g||(_o(),h)}:se,f=[];for(const m of u){const h=d(m);h&&f.push(wg(h))}return sn(o,f)}function Og(e){if(!j)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=se(e),{spanId:s}=e.spanContext(),i=rn(e),o=Ce(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=se(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}O.log(`${c}
  ${u.join(`
  `)}`)}function Pg(e){if(!j)return;const{description:t="< unknown name >",op:n="< unknown op >"}=se(e),{spanId:r}=e.spanContext(),i=Ce(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;O.log(o)}function Mg(e,t,n,r=Ne()){const s=r&&Ce(r);s&&(j&&O.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Zr]:t,[Qr]:n}))}function Pc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Qr],i=r[Zr];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Mc=1e3;class hi{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||Rt(),this._startTime=t.startTimestamp||Te(),this._links=t.links,this._attributes={},this.setAttributes({[ve]:"manual",[Pt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?fa:ld}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=En(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ut,"custom"),this}end(t){this._endTime||(this._endTime=En(t),Pg(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Pt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:fd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ve],profile_id:this._attributes[ua],exclusive_time:this._attributes[_r],measurements:Pc(this._events),is_segment:this._isStandaloneSpan&&Ce(this)===this||void 0,segment_id:this._isStandaloneSpan?Ce(this).spanContext().spanId:void 0,links:dd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){j&&O.log("[Tracing] Adding an event to span:",t);const s=Nc(n)?n:r||Te(),i=Nc(n)?{}:n||{},o={name:t,time:En(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=X();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ce(this)))return;if(this._isStandaloneSpan){this._sampled?Lg(Ag([this],t)):(j&&O.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Vs(this).scope||ae()).captureEvent(r)}_convertSpanToTransaction(){var l;if(!Lc(se(this)))return;this._name||(j&&O.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Vs(this),r=(l=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:l.normalizedRequest;if(this._sampled!==!0)return;const i=Os(this).filter(d=>d!==this&&!Ng(d)).map(d=>se(d)).filter(Lc),o=this._attributes[ut];delete this._attributes[Tc],i.forEach(d=>{delete d.data[Tc]});const a={contexts:{trace:ig(this)},spans:i.length>Mc?i.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,Mc):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Mt(this)},request:r,...o&&{transaction_info:{source:o}}},c=Pc(this._events);return c&&Object.keys(c).length&&(j&&O.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Nc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Lc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Ng(e){return e instanceof hi&&e.isStandaloneSpan()}function Lg(e){const t=X();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Dg(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return Fg(s,t,n,r)}function Fg(e,t,n,r){return hr(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function jg(e,t,n){if(!lt(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=In(s);if(i===void 0)return j&&O.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return j&&O.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||j&&O.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const Sd="__SENTRY_SUPPRESS_TRACING__";function Bg(e,t){const n=ga();if(n.startSpan)return n.startSpan(e,t);const r=Ed(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o==null?void 0:o.clone();return yr(a,()=>$g(i)(()=>{const u=ae(),l=vd(u,i),f=e.onlyIfParent&&!l?new Qt:bd({parentSpan:l,spanArguments:r,forceTransaction:s,scope:u});return ir(u,f),Dg(()=>t(f),()=>{const{status:m}=se(f);f.isRecording()&&(!m||m==="ok")&&f.setStatus({code:Ee,message:"internal_error"})},()=>{f.end()})}))}function Sr(e){const t=ga();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Ed(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>yr(e.scope,o):s!==void 0?o=>ma(s,o):o=>o())(()=>{const o=ae(),a=vd(o,s);return e.onlyIfParent&&!a?new Qt:bd({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function ma(e,t){const n=ga();return n.withActiveSpan?n.withActiveSpan(e,t):yr(r=>(ir(r,e||void 0),t(r)))}function bd({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!lt()){const o=new Qt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Mt(o)};Ps(o,a)}return o}const s=Ze();let i;if(e&&!n)i=Ug(e,r,t),pd(e,i);else if(e){const o=Mt(e),{traceId:a,spanId:c}=e.spanContext(),u=rn(e);i=Dc({traceId:a,parentSpanId:c,...t},r,u),Ps(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=Dc({traceId:o,parentSpanId:c,...t},r,u),a&&Ps(i,a)}return Og(i),zm(i,r,s),i}function Ed(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=En(e.startTime),delete r.startTime,r}return n}function ga(){const e=An();return gr(e)}function Dc(e,t,n){var h;const r=X(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,f]=t.getScopeData().sdkProcessingMetadata[Sd]?[!1]:jg(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:In((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),m=new hi({...e,attributes:{[ut]:"custom",[ca]:d!==void 0&&f?d:void 0,...c},sampled:l});return!l&&r&&(j&&O.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function Ug(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Sd]?!1:rn(e),o=i?new hi({...n,parentSpanId:r,traceId:s,sampled:i}):new Qt({traceId:s});pd(e,o);const a=X();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function vd(e,t){if(t)return t;if(t===null)return;const n=qs(e);if(!n)return;const r=X();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ce(n):n}function $g(e){return e!==void 0?t=>ma(e,t):t=>t()}const Ms={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Hg="heartbeatFailed",zg="idleTimeout",Wg="finalTimeout",qg="externalFinish";function xd(e,t={}){const n=new Map;let r=!1,s,i=qg,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Ms.idleTimeout,finalTimeout:u=Ms.finalTimeout,childSpanTimeout:l=Ms.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:f=!0}=t,m=X();if(!m||!lt()){const v=new Qt,A={sample_rate:"0",sampled:"false",...Mt(v)};return Ps(v,A),v}const h=ae(),g=Ne(),y=Vg(e);y.end=new Proxy(y.end,{apply(v,A,D){if(d&&d(y),A instanceof Qt)return;const[E,...P]=D,N=E||Te(),B=En(N),F=Os(y).filter(L=>L!==y),ce=se(y);if(!F.length||!f)return k(B),Reflect.apply(v,A,[B,...P]);const V=m.getOptions().ignoreSpans,Z=F==null?void 0:F.reduce((L,G)=>{const Q=se(G);return!Q.timestamp||V&&Gs(Q,V)?L:L?Math.max(L,Q.timestamp):Q.timestamp},void 0),C=ce.start_timestamp,K=Math.min(C?C+u/1e3:1/0,Math.max(C||-1/0,Math.min(B,Z||1/0)));return k(K),Reflect.apply(v,A,[K,...P])}});function _(){s&&(clearTimeout(s),s=void 0)}function T(v){_(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=zg,y.end(v))},c)}function I(v){s=setTimeout(()=>{!r&&o&&(i=Hg,y.end(v))},l)}function w(v){_(),n.set(v,!0);const A=Te();I(A+l/1e3)}function M(v){if(n.has(v)&&n.delete(v),n.size===0){const A=Te();T(A+c/1e3)}}function k(v){r=!0,n.clear(),a.forEach(F=>F()),ir(h,g);const A=se(y),{start_timestamp:D}=A;if(!D)return;A.data[Lr]||y.setAttribute(Lr,i);const P=A.status;(!P||P==="unknown")&&y.setStatus({code:la}),O.log(`[Tracing] Idle span "${A.op}" finished`);const N=Os(y).filter(F=>F!==y);let B=0;N.forEach(F=>{F.isRecording()&&(F.setStatus({code:Ee,message:"cancelled"}),F.end(v),j&&O.log("[Tracing] Cancelling span since span ended early",JSON.stringify(F,void 0,2)));const ce=se(F),{timestamp:V=0,start_timestamp:Z=0}=ce,C=Z<=v,K=(u+c)/1e3,L=V-Z<=K;if(j){const G=JSON.stringify(F,void 0,2);C?L||O.log("[Tracing] Discarding span since it finished after idle span final timeout",G):O.log("[Tracing] Discarding span since it happened after idle span was finished",G)}(!L||!C)&&(dg(y,F),B++)}),B>0&&y.setAttribute("sentry.idle_span_discarded_spans",B)}return a.push(m.on("spanStart",v=>{if(r||v===y||se(v).timestamp||v instanceof hi&&v.isStandaloneSpan())return;Os(y).includes(v)&&w(v.spanContext().spanId)})),a.push(m.on("spanEnd",v=>{r||M(v.spanContext().spanId)})),a.push(m.on("idleSpanEnableAutoFinish",v=>{v===y&&(o=!0,T(),n.size&&I())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(y.setStatus({code:Ee,message:"deadline_exceeded"}),i=Wg,y.end())},u),y}function Vg(e){const t=Sr(e);return ir(ae(),t),j&&O.log("[Tracing] Started span is an idle span"),t}const zi=0,Fc=1,jc=2;function es(e){return new Dr(t=>{t(e)})}function ya(e){return new Dr((t,n)=>{n(e)})}class Dr{constructor(t){this._state=zi,this._handlers=[],this._runExecutor(t)}then(t,n){return new Dr((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Dr((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===zi)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fc&&n[1](this._value),this._state===jc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===zi){if(hr(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(Fc,i)},s=i=>{n(jc,i)};try{t(r,s)}catch(i){s(i)}}}function Gg(e,t,n,r=0){try{const s=vo(t,n,e,r);return hr(s)?s:es(s)}catch(s){return ya(s)}}function vo(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return j&&i===null&&O.log(`Event processor "${s.id||"?"}" dropped event`),hr(i)?i.then(o=>vo(o,t,n,r+1)):vo(i,t,n,r+1)}let Et,Bc,Uc,Lt;function Kg(e){const t=ee._sentryDebugIds,n=ee._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(Lt&&r.length===Bc&&s.length===Uc)return Lt;Bc=r.length,Uc=s.length,Lt={},Et||(Et={});const i=(o,a)=>{for(const c of o){const u=a[c],l=Et==null?void 0:Et[c];if(l&&Lt&&u)Lt[l[0]]=u,Et&&(Et[c]=[l[0],u]);else if(u){const d=e(c);for(let f=d.length-1;f>=0;f--){const m=d[f],h=m==null?void 0:m.filename;if(h&&Lt&&Et){Lt[h]=u,Et[c]=[h,u];break}}}}};return t&&i(r,t),n&&i(s,n),Lt}function Yg(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Xg(e,t),r&&ey(e,r),ty(e,n),Qg(e,s),Zg(e,i)}function $c(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:f,propagationContext:m,transactionName:h,span:g}=t;Tr(e,"extra",n),Tr(e,"tags",r),Tr(e,"attributes",s),Tr(e,"user",i),Tr(e,"contexts",o),e.sdkProcessingMetadata=Xr(e.sdkProcessingMetadata,c,2),a&&(e.level=a),h&&(e.transactionName=h),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function Tr(e,t,n){e[t]=Xr(e[t],n,1)}function Jg(e,t){const n=Lm().getScopeData();return e&&$c(n,e.getScopeData()),t&&$c(n,t.getScopeData()),n}function Xg(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function Qg(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Zg(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ey(e,t){e.contexts={trace:og(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Mt(t),...e.sdkProcessingMetadata};const n=Ce(t),r=se(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function ty(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function wd(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ge(),timestamp:t.timestamp||Pn()},u=n.integrations||e.integrations.map(_=>_.name);ny(c,e),iy(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&ry(c,e.stackParser);const l=ay(r,n.captureContext);n.mechanism&&rr(c,n.mechanism);const d=s?s.getEventProcessors():[],f=Jg(i,l),m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),Yg(c,f);const h=[...d,...f.eventProcessors];return(n.data&&n.data.__sentry__===!0?es(c):Gg(h,c,n)).then(_=>(_&&sy(_),typeof o=="number"&&o>0?oy(_,o,a):_))}function ny(e,t){var a,c;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||pa,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=ho(o.url,i)),i&&((c=(a=e.exception)==null?void 0:a.values)==null||c.forEach(u=>{u.value&&(u.value=ho(u.value,i))}))}function ry(e,t){var r,s;const n=Kg(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function sy(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function iy(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function oy(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))},...e.user&&{user:at(e.user,t,n)},...e.contexts&&{contexts:at(e.contexts,t,n)},...e.extra&&{extra:at(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=at(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=at(e.contexts.flags,3,n)),r}function ay(e,t){if(!t)return e;const n=e?e.clone():new yt;return n.update(t),n}function cy(e){if(e)return uy(e)?{captureContext:e}:dy(e)?{captureContext:e}:e}function uy(e){return e instanceof yt||typeof e=="function"}const ly=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function dy(e){return Object.keys(e).some(t=>ly.includes(t))}function mi(e,t){return ae().captureException(e,cy(t))}function Td(e,t){return ae().captureEvent(e,t)}function Id(e,t){Ze().setContext(e,t)}function fy(){return Ze().lastEventId()}function py(){const e=X();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function hy(e){Ze().addEventProcessor(e)}function Hc(e){const t=Ze(),n=ae(),{userAgent:r}=ee.navigator||{},s=Tm({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&sr(i,{status:"exited"}),Rd(),t.setSession(s),s}function Rd(){const e=Ze(),n=ae().getSession()||e.getSession();n&&Im(n),kd(),e.setSession()}function kd(){const e=Ze(),t=X(),n=e.getSession();n&&t&&t.captureSession(n)}function zc(e=!1){if(e){Rd();return}kd()}const my="7";function Cd(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function gy(e){return`${Cd(e)}${e.projectId}/envelope/`}function yy(e,t){const n={sentry_version:my};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function _y(e,t,n){return t||`${gy(e)}?${yy(e,n)}`}function Sy(e,t){const n=od(e);if(!n)return"";const r=`${Cd(n)}embed/error-page/`;let s=`dsn=${Mn(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Wc=[];function by(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ey(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return by(r)}function vy(e,t){const n={};return t.forEach(r=>{r&&Ad(e,r,n)}),n}function qc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Ad(e,t,n){if(n[t.name]){j&&O.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Wc.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Wc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}j&&O.log(`Integration installed: ${t.name}`)}function xy(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function wy(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Mn(r)),sn(s,[xy(e)])}function Od(e,t){const n=t??Ty(e)??[];if(n.length===0)return;const r=e.getOptions(),s=wy(n,r._metadata,r.tunnel,e.getDsn());Pd().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Ty(e){return Pd().get(e)}function Pd(){return fr("clientToLogBufferMap",()=>new WeakMap)}function Iy(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Ry(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Mn(r)),sn(s,[Iy(e)])}function Md(e,t){const n=t??ky(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Ry(n,r._metadata,r.tunnel,e.getDsn());Nd().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function ky(e){return Nd().get(e)}function Nd(){return fr("clientToMetricBufferMap",()=>new WeakMap)}function Ld(e){return typeof e=="object"&&typeof e.unref=="function"&&e.unref(),e}const _a=Symbol.for("SentryBufferFullError");function Sa(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return ya(_a);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return es(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>Ld(setTimeout(()=>u(!1),o)))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const Cy=60*1e3;function Ay(e,t=Jr()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Cy:r-t}function Oy(e,t){return e[t]||e.all||0}function Dd(e,t,n=Jr()){return Oy(e,t)>n}function Fd(e,{statusCode:t,headers:n},r=Jr()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[m]=r+f):s[m]=r+f}else o?s.all=r+Ay(o,r):t===429&&(s.all=r+60*1e3);return s}const jd=64;function Py(e,t,n=Sa(e.bufferSize||jd)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(bo(o,(d,f)=>{const m=Oc(f);Dd(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(d)}),a.length===0)return Promise.resolve({});const c=sn(o[0],a),u=d=>{if(Eg(c,["client_report"])){j&&O.warn(`Dropping client report. Will not send outcomes (reason: ${d}).`);return}bo(c,(f,m)=>{e.recordDroppedEvent(d,Oc(m))})},l=()=>t({body:vg(c)}).then(d=>d.statusCode===413?(j&&O.error("Sentry responded with status code 413. Envelope was discarded due to exceeding size limits."),u("send_error"),d):(j&&d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&O.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Fd(r,d),d),d=>{throw u("network_error"),j&&O.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===_a)return j&&O.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function My(e,t,n){const r=[{type:"client_report"},{timestamp:Pn(),discarded_events:e}];return sn(t?{dsn:t}:{},[r])}function Bd(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Ny(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[ua],exclusive_time:o==null?void 0:o[_r],measurements:e.measurements,is_segment:!0}}function Ly(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ua]:e.profile_id},...e.exclusive_time&&{[_r]:e.exclusive_time}}}},measurements:e.measurements}}const Vc="Not capturing exception because it's already been captured.",Gc="Discarded session because of missing or non-string release",Ud=Symbol.for("SentryInternalError"),$d=Symbol.for("SentryDoNotSendEventError"),Dy=5e3;function Ns(e){return{message:e,[Ud]:!0}}function Wi(e){return{message:e,[$d]:!0}}function Kc(e){return!!e&&typeof e=="object"&&Ud in e}function Yc(e){return!!e&&typeof e=="object"&&$d in e}function Jc(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=Ld(setTimeout(()=>{s(e)},Dy)))}),e.on("flush",()=>{s(e)})}class Fy{constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Sa(((r=t.transportOptions)==null?void 0:r.bufferSize)??jd),t.dsn?this._dsn=od(t.dsn):j&&O.warn("No DSN provided, client will not send events."),this._dsn){const o=_y(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&Jc(this,"afterCaptureLog","flushLogs",$y,Od),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&Jc(this,"afterCaptureMetric","flushMetrics",Uy,Md)}captureException(t,n,r){const s=Ge();if(vc(t))return j&&O.log(Vc),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Ge(),...r},o=sa(t)?t:String(t),a=nr(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Ge();if(n!=null&&n.originalException&&vc(n.originalException))return j&&O.log(Vc),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Xc(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),sr(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Ad(this,t,this._integrations),n||qc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Cg(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=bg(r,Tg(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=pa}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){j&&O.warn(Gc);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){j&&O.warn(Gc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=kg(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;j&&O.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return j&&O.error("Error while sending envelope:",n),{}}return j&&O.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=vy(this,t),qc(this,t)}_updateSessionFromEvent(t,n){var c,u;let r=n.level==="fatal",s=!1;const i=(c=n.exception)==null?void 0:c.values;if(i){s=!0,r=!1;for(const l of i)if(((u=l.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(sr(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),wd(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Dm(r),...a.contexts};const c=gd(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=ae(),s=Ze()){return j&&xo(t)&&O.log(`Captured error event \`${Bd(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{j&&(Yc(i)?O.log(i.message):Kc(i)?O.warn(i.message):O.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=Hd(t),c=xo(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:In(o);if(c&&typeof d=="number"&&Vt()>d)return this.recordDroppedEvent("sample_rate","error"),ya(Wi(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=Xc(t.type);return this._prepareEvent(t,n,r,s).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f),Wi("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;const g=By(this,i,m,n);return jy(g,l)}).then(m=>{var y;if(m===null){if(this.recordDroppedEvent("before_send",f),a){const T=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",T)}throw Wi(`${l} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,m),a){const _=((y=m.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,T=m.spans?m.spans.length:0,I=_-T;I>0&&this.recordDroppedEvent("before_send","span",I)}const g=m.transaction_info;if(a&&g&&m.transaction!==t.transaction){const _="custom";m.transaction_info={...g,source:_}}return this.sendEvent(m,n),m}).then(null,m=>{throw Yc(m)||Kc(m)?m:(this.captureException(m,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:m}),Ns(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===_a&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){j&&O.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){j&&O.log("No outcomes to send");return}if(!this._dsn){j&&O.log("No dsn provided, will not send outcomes");return}j&&O.log("Sending outcomes:",t);const n=My(t,this._options.tunnel&&Mn(this._dsn));this.sendEnvelope(n)}}function Xc(e){return e==="replay_event"?"replay":e||"error"}function jy(e,t){const n=`${t} must return \`null\` or a valid event.`;if(hr(e))return e.then(r=>{if(!Nr(r)&&r!==null)throw Ns(n);return r},r=>{throw Ns(`${t} rejected with ${r}`)});if(!Nr(e)&&e!==null)throw Ns(n);return e}function By(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(xo(c)&&s)return s(c,r);if(Hd(c)){if(o||a){const u=Ny(c);if(a!=null&&a.length&&Gs(u,a))return null;if(o){const l=o(u);l?c=Xr(n,Ly(l)):_o()}if(c.spans){const l=[],d=c.spans;for(const m of d){if(a!=null&&a.length&&Gs(m,a)){pg(d,m);continue}if(o){const h=o(m);h?l.push(h):(_o(),l.push(m))}else l.push(m)}const f=c.spans.length-l.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=l}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function xo(e){return e.type===void 0}function Hd(e){return e.type==="transaction"}function Uy(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+zd(e.attributes)}function $y(e){let t=0;return e.message&&(t+=e.message.length*2),t+zd(e.attributes)}function zd(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Qc(n[0]):nr(n)?t+=Qc(n):t+=100}),t}function Qc(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Hy(e){return Kr(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function Zc(e){return Hy(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function zy(e,t){t.debug===!0&&(j?O.enable():On(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ae().update(t.initialScope);const r=new e(t);return Wy(r),r.init(),r}function Wy(e){ae().setClient(e)}const qy="thismessage:/";function ba(e){return"isRelative"in e}function Ea(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?qy:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Vy(e){if(ba(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function xn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Gy(e){return e.split(/[?#]/,1)[0]}function Gt(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),i=e.indexOf(",");let o="";if(t&&i!==-1){const a=e.slice(i+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${s?",base64":""}${o?`,${o}`:""}`}return e}function Ky(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Jy(e,n)||Yy(e,r)}function Yy(e,t){return t?eu(e)===eu(t):!1}function Jy(e,t){const n=Ea(e);return!n||ba(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function eu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Xy(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Wd(e,t,n=[t],r="npm"){const s=(e._metadata=e._metadata||{}).sdk=e._metadata.sdk||{};s.name||(s.name=`sentry.javascript.${t}`,s.packages=n.map(i=>({name:`${r}:@sentry/${i}`,version:bn})),s.version=bn)}function qd(e={}){const t=e.client||X();if(!py()||!t)return{};const n=An(),r=gr(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||ae(),i=e.span||Ne(),o=i?ag(i):Qy(s),a=i?Mt(i):gd(t,s),c=Vm(a);if(!ad.test(o))return O.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(l.traceparent=i?cg(i):Zy(s)),l}function Qy(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return cd(t,r,n)}function Zy(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ud(t,r,n)}function e_(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function l(){return s!==void 0||i!==void 0?c():r}function d(){return s&&clearTimeout(s),s=a(c,t),o&&i===void 0&&(i=a(c,o)),r}return d.cancel=u,d.flush=l,d}const t_=100;function Zt(e,t){const n=X(),r=Ze();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=t_}=n.getOptions();if(i<=0)return;const a={timestamp:Pn(),...e},c=s?On(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let tu;const n_="FunctionToString",nu=new WeakMap,r_=()=>({name:n_,setupOnce(){tu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=aa(this),n=nu.has(X())&&t!==void 0?t:this;return tu.apply(n,e)}}catch{}},setup(e){nu.set(e,!0)}}),s_=r_,i_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],o_="EventFilters",a_=(e={})=>{let t;return{name:o_,setup(n){const r=n.getOptions();t=ru(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=ru(e,i)}return u_(n,t)?null:n}}},c_=(e={})=>({...a_(e),name:"InboundFilters"});function ru(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:i_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function u_(e,t){if(e.type){if(e.type==="transaction"&&d_(e,t.ignoreTransactions))return j&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${un(e)}`),!0}else{if(l_(e,t.ignoreErrors))return j&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${un(e)}`),!0;if(m_(e))return j&&O.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${un(e)}`),!0;if(f_(e,t.denyUrls))return j&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${un(e)}.
Url: ${Ks(e)}`),!0;if(!p_(e,t.allowUrls))return j&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${un(e)}.
Url: ${Ks(e)}`),!0}return!1}function l_(e,t){return t!=null&&t.length?Bd(e).some(n=>It(n,t)):!1}function d_(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?It(n,t):!1}function f_(e,t){if(!(t!=null&&t.length))return!1;const n=Ks(e);return n?It(n,t):!1}function p_(e,t){if(!(t!=null&&t.length))return!0;const n=Ks(e);return n?It(n,t):!0}function h_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ks(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,a,c;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(a=i.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?h_(s):null}catch{return j&&O.error(`Cannot extract url for event ${un(e)}`),null}}function m_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function g_(e,t,n,r,s,i){var a;if(!((a=s.exception)!=null&&a.values)||!i||!At(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=wo(e,t,r,i.originalException,n,s.exception.values,o,0))}function wo(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(At(r[s],Error)){su(o,a,r);const u=e(t,r[s]),l=c.length;iu(u,s,l,a),c=wo(e,t,n,r[s],s,[u,...c],u,l)}return Vd(r)&&r.errors.forEach((u,l)=>{if(At(u,Error)){su(o,a,r);const d=e(t,u),f=c.length;iu(d,`errors[${l}]`,f,a),c=wo(e,t,n,u,s,[d,...c],d,f)}}),c}function Vd(e){return Array.isArray(e.errors)}function su(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...Vd(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function iu(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function y_(e){const t="console";tn(t,e),nn(t,__)}function __(){"console"in ee&&nm.forEach(function(e){e in ee.console&&je(ee.console,e,function(t){return Ws[e]=t,function(...n){Qe("console",{args:n,level:e});const s=Ws[e];s==null||s.apply(ee.console,n)}})})}function Gd(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const S_="Dedupe",b_=()=>{let e;return{name:S_,processEvent(t){if(t.type)return t;try{if(v_(t,e))return j&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},E_=b_;function v_(e,t){return t?!!(x_(e,t)||w_(e,t)):!1}function x_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Yd(e,t)||!Kd(e,t))}function w_(e,t){const n=ou(t),r=ou(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Yd(e,t)||!Kd(e,t))}function Kd(e,t){let n=gc(e),r=gc(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Yd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function ou(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const T_="ConversationId",I_=()=>({name:T_,setup(e){e.on("spanStart",t=>{const n=ae().getScopeData(),r=Ze().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute(jm,s)})}}),R_=I_;function k_(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=lt()&&t(o);if(e.endTimestamp&&a){const m=e.fetchData.__span;if(!m)return;const h=r[m];h&&(O_(h,e),C_(h,e,s),delete r[m]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},l=!!Ne(),d=a&&l?Sr(M_(o,i,c)):new Qt;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const m=e.args[0],h={...e.args[1]||{}},g=A_(m,h,lt()&&l?d:void 0,u);g&&(e.args[1]=h,h.headers=g)}const f=X();if(f){const m={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",d,m)}return d}function C_(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function A_(e,t,n,r){const s=qd({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(ia(e)?e.headers:void 0);if(c)if(P_(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?Ss(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&Ss(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,f=d?Array.isArray(d)?[...d]:[d]:[],m=d&&(Array.isArray(d)?d.find(g=>Ss(g)):Ss(d));o&&!m&&f.push(o);const h={...c,"sentry-trace":u??i,baggage:f.length>0?f.join(","):void 0};return r&&a&&!l&&(h.traceparent=a),h}else return{...s}}function O_(e,t){var n,r;if(t.response){td(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:Ee,message:"internal_error"});e.end()}function Ss(e){return e.split(",").some(t=>t.trim().startsWith(da))}function P_(e){return typeof Headers<"u"&&At(e,Headers)}function M_(e,t,n){if(e.startsWith("data:")){const i=Gt(e);return{name:`${t} ${i}`,attributes:au(e,void 0,t,n)}}const r=Ea(e),s=r?Vy(r):e;return{name:`${t} ${s}`,attributes:au(e,r,t,n)}}function au(e,t,n,r){const s={url:Gt(e),type:"fetch","http.method":n,[ve]:r,[Pt]:"http.client"};return t&&(ba(t)||(s["http.url"]=Gt(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Jd(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Fr=ee;function N_(){return"history"in Fr&&!!Fr.history}function L_(){if(!("fetch"in Fr))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function To(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function D_(){var n;if(typeof EdgeRuntime=="string")return!0;if(!L_())return!1;if(To(Fr.fetch))return!0;let e=!1;const t=Fr.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=To(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){j&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Xd(e,t){const n="fetch";tn(n,e),nn(n,()=>Qd(void 0,t))}function F_(e){const t="fetch-body-resolved";tn(t,e),nn(t,()=>Qd(B_))}function Qd(e,t=!1){t&&!D_()||je(ee,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=U_(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:Te()*1e3,virtualError:s,headers:$_(r)};return e||Qe("fetch",{...a}),n.apply(ee,r).then(async c=>(e?e(c):Qe("fetch",{...a,endTimestamp:Te()*1e3,response:c}),c),c=>{Qe("fetch",{...a,endTimestamp:Te()*1e3,error:c}),Kr(c)&&c.stack===void 0&&(c.stack=s.stack,He(c,"framesToPop",1));const u=X(),l=(u==null?void 0:u.getOptions().enhanceFetchErrorMessages)??"always";if(l!==!1&&c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(a.fetchData.url).host;l==="always"?c.message=`${c.message} (${m})`:He(c,"__sentry_fetch_url_host__",m)}catch{}throw c})}})}async function j_(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function B_(e){let t;try{t=e.clone()}catch{return}j_(t,()=>{Qe("fetch-body-resolved",{endTimestamp:Te()*1e3,response:e})})}function Ls(e,t){return!!e&&typeof e=="object"&&!!e[t]}function cu(e){return typeof e=="string"?e:e?Ls(e,"url")?e.url:e.toString?e.toString():"":""}function U_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:cu(n),method:Ls(r,"method")?String(r.method).toUpperCase():ia(n)&&Ls(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:cu(t),method:Ls(t,"method")?String(t.method).toUpperCase():"GET"}}function $_(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(ia(t))return new Headers(t.headers)}catch{}}function H_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function z_(){return"npm"}function W_(){return!H_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Io(){return typeof window<"u"&&(!W_()||q_())}function q_(){const e=ee.process;return(e==null?void 0:e.type)==="renderer"}const J=ee;let Ro=0;function Zd(){return Ro>0}function V_(){Ro++,setTimeout(()=>{Ro--})}function ar(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(aa(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>ar(o,t));return e.apply(this,i)}catch(i){throw V_(),yr(o=>{o.addEventProcessor(a=>(t.mechanism&&(mo(a,void 0),rr(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),mi(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Jl(r,e),He(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function va(){const e=mr(),{referrer:t}=J.document||{},{userAgent:n}=J.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function xa(e,t){const n=wa(e,t),r={type:X_(t),value:Q_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function G_(e,t,n,r){const s=X(),i=s==null?void 0:s.getOptions().normalizeDepth,o=rS(t),a={__serialized__:yd(t,i)};if(o)return{exception:{values:[xa(e,o)]},extra:a};const c={exception:{values:[{type:pi(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:tS(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=wa(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function qi(e,t){return{exception:{values:[xa(e,t)]}}}function wa(e,t){const n=t.stacktrace||t.stack||"",r=Y_(t),s=J_(t);try{return e(n,r,s)}catch{}return[]}const K_=/Minified React error #\d+;/i;function Y_(e){return e&&K_.test(e.message)?1:0}function J_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function ef(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function X_(e){const t=e==null?void 0:e.name;return!t&&ef(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Q_(e){const t=e==null?void 0:e.message;return ef(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?Zc(t.error):Zc(e):"No error message"}function Z_(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=Ta(e,t,s,r);return rr(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),es(i)}function eS(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=ko(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),es(o)}function Ta(e,t,n,r,s){let i;if(Gl(t)&&t.error)return qi(e,t.error);if(_c(t)||pm(t)){const o=t;if("stack"in t)i=qi(e,t);else{const a=o.name||(_c(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=ko(e,c,n,r),mo(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Kr(t)?qi(e,t):Nr(t)||pi(t)?(i=G_(e,t,n,s),rr(i,{synthetic:!0}),i):(i=ko(e,t,n,r),mo(i,`${t}`),rr(i,{synthetic:!0}),i)}function ko(e,t,n,r){const s={};if(r&&n){const i=wa(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),rr(s,{synthetic:!0})}if(sa(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function tS(e,{isUnhandledRejection:t}){const n=Sm(e),r=t?"promise rejection":"exception";return Gl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:pi(e)?`Event \`${nS(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function nS(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class sS extends Fy{constructor(t){var l;const n=iS(t),r=J.SENTRY_SDK_SOURCE||z_();Wd(n,"browser",["browser"],r),(l=n._metadata)!=null&&l.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??(a==null?void 0:a.enableMetrics)??!0;J.document&&(i||o||u)&&J.document.addEventListener("visibilitychange",()=>{J.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Od(this),u&&Md(this))}),s&&this.on("beforeSendSession",Xy)}eventFromException(t,n){return Z_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return eS(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function iS(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=J.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=ee,oS=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ts=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=oS(t.value,n),e(t)))}},ns=(e=!0)=>{var n,r;const t=(r=(n=z.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},br=()=>{const e=ns();return(e==null?void 0:e.activationStart)??0};function Kt(e,t,n){z.document&&z.addEventListener(e,t,n)}function Ys(e,t,n){z.document&&z.removeEventListener(e,t,n)}let Vn=-1;const tf=new Set,aS=()=>{var e,t;return((e=z.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=z.document)!=null&&t.prerendering)?0:1/0},Ds=e=>{if(cS(e)&&Vn>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of tf)t();isFinite(Vn)||(Vn=e.type==="visibilitychange"?e.timeStamp:0,Ys("prerenderingchange",Ds,!0))}},rs=()=>{var e;if(z.document&&Vn<0){const t=br();Vn=(z.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??aS(),Kt("visibilitychange",Ds,!0),Kt("pagehide",Ds,!0),Kt("prerenderingchange",Ds,!0)}return{get firstHiddenTime(){return Vn},onHidden(t){tf.add(t)}}};function cS(e){var t;return e.type==="pagehide"||((t=z.document)==null?void 0:t.visibilityState)==="hidden"}const uS=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ss=(e,t=-1)=>{var i,o;const n=ns();let r="navigate";return n&&((i=z.document)!=null&&i.prerendering||br()>0?r="prerender":(o=z.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:uS(),navigationType:r}},Vi=new WeakMap;function Ia(e,t){try{return Vi.get(e)||Vi.set(e,new t),Vi.get(e)}catch{return new t}}class Js{constructor(){Js.prototype.__init.call(this),Js.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Er=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ra=e=>{let t=!1;return()=>{t||(e(),t=!0)}},gi=e=>{var t;(t=z.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},lS=[1800,3e3],dS=(e,t={})=>{gi(()=>{const n=rs(),r=ss("FCP");let s;const o=Er("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-br(),0),r.entries.push(c),s(!0)))});o&&(s=ts(e,r,lS,t.reportAllChanges))})},fS=[.1,.25],pS=(e,t={})=>{dS(Ra(()=>{var c;const n=ss("CLS",0);let r;const s=rs(),i=Ia(t,Js),o=u=>{for(const l of u)i._processEntry(l);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=Er("layout-shift",o);a&&(r=ts(e,n,fS,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),(c=z==null?void 0:z.setTimeout)==null||c.call(z,r))}))};let nf=0,Gi=1/0,bs=0;const hS=e=>{e.forEach(t=>{t.interactionId&&(Gi=Math.min(Gi,t.interactionId),bs=Math.max(bs,t.interactionId),nf=bs?(bs-Gi)/7+1:0)})};let Co;const rf=()=>Co?nf:performance.interactionCount||0,mS=()=>{"interactionCount"in performance||Co||(Co=Er("event",hS,{type:"event",buffered:!0,durationThreshold:0}))},Ki=10;let sf=0;const gS=()=>rf()-sf;class Xs{constructor(){Xs.prototype.__init.call(this),Xs.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){sf=rf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(gS()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Ki||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>Ki){const o=this._longestInteractionList.splice(Ki);for(const a of o)this._longestInteractionMap.delete(a.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const of=e=>{var n;const t=z.requestIdleCallback||z.setTimeout;((n=z.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Ra(e),Kt("visibilitychange",e,{once:!0,capture:!0}),Kt("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),Ys("visibilitychange",e,{capture:!0}),Ys("pagehide",e,{capture:!0})}))},yS=[200,500],_S=40,SS=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=rs();gi(()=>{mS();const r=ss("INP");let s;const i=Ia(t,Xs),o=c=>{of(()=>{for(const l of c)i._processEntry(l);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=Er("event",o,{durationThreshold:t.durationThreshold??_S});s=ts(e,r,yS,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class bS{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const ES=[2500,4e3],vS=(e,t={})=>{gi(()=>{const n=rs(),r=ss("LCP");let s;const i=Ia(t,bS),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-br(),0),r.entries=[u],s())},a=Er("largest-contentful-paint",o);if(a){s=ts(e,r,ES,t.reportAllChanges);const c=Ra(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=l=>{l.isTrusted&&(of(c),Ys(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])Kt(l,u,{capture:!0})}})},xS=[800,1800],Ao=e=>{var t,n;(t=z.document)!=null&&t.prerendering?gi(()=>Ao(e)):((n=z.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Ao(e),!0):setTimeout(e)},wS=(e,t={})=>{const n=ss("TTFB"),r=ts(e,n,xS,t.reportAllChanges);Ao(()=>{const s=ns();s&&(n.value=Math.max(s.responseStart-br(),0),n.entries=[s],r(!0))})},kr={},Qs={};let af,cf,uf,lf;function ka(e,t=!1){return yi("cls",e,IS,af,t)}function Ca(e,t=!1){return yi("lcp",e,RS,cf,t)}function TS(e){return yi("ttfb",e,kS,uf)}function df(e){return yi("inp",e,CS,lf)}function kn(e,t){return ff(e,t),Qs[e]||(AS(e),Qs[e]=!0),pf(e,t)}function is(e,t){const n=kr[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Rn&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}function IS(){return pS(e=>{is("cls",{metric:e}),af=e},{reportAllChanges:!0})}function RS(){return vS(e=>{is("lcp",{metric:e}),cf=e},{reportAllChanges:!0})}function kS(){return wS(e=>{is("ttfb",{metric:e}),uf=e})}function CS(){return SS(e=>{is("inp",{metric:e}),lf=e})}function yi(e,t,n,r,s=!1){ff(e,t);let i;return Qs[e]||(i=n(),Qs[e]=!0),r&&t({metric:r}),pf(e,t,s?i:void 0)}function AS(e){const t={};e==="event"&&(t.durationThreshold=0),Er(e,n=>{is(e,{entries:n})},t)}function ff(e,t){kr[e]=kr[e]||[],kr[e].push(t)}function pf(e,t,n){return()=>{n&&n();const r=kr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function OS(e){return"duration"in e}const PS=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=z.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Kt("visibilitychange",t,{capture:!0,once:!0}),Kt("pagehide",t,{capture:!0,once:!0})};function Yi(e){return typeof e=="number"&&isFinite(e)}function en(e,t,n,{...r}){const s=se(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ma(e,()=>{const i=Sr({startTime:t,...r});return i&&i.end(n),i})}function Aa(e){var y;const t=X();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),l=u==null?void 0:u.getReplayId(),d=ae(),f=d.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=d.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:m||void 0,profile_id:h||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":(y=z.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Sr({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function os(){return z.addEventListener&&z.performance}function ge(e){return e/1e3}function MS(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function hf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function mf(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}PS(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function NS(e){let t=0,n;if(!hf("layout-shift"))return;const r=ka(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);mf(e,(s,i)=>{LS(t,n,i,s),r()})}function LS(e,t,n,r){var u;Rn&&O.log(`Sending CLS span (${e})`);const s=t?ge((We()||0)+t.startTime):Te(),i=ae().getScopeData().transactionName,o=t?$e((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[ve]:"auto.http.browser.cls",[Pt]:"ui.webvital.cls",[_r]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((l,d)=>{a[`cls.source.${d+1}`]=$e(l.node)});const c=Aa({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Qr]:"",[Zr]:e}),c.end(s))}function DS(e){let t=0,n;if(!hf("largest-contentful-paint"))return;const r=Ca(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);mf(e,(s,i)=>{FS(t,n,i,s),r()})}function FS(e,t,n,r){Rn&&O.log(`Sending LCP span (${e})`);const s=ge((We()||0)+((t==null?void 0:t.startTime)||0)),i=ae().getScopeData().transactionName,o=t?$e(t.element):"Largest contentful paint",a={[ve]:"auto.http.browser.lcp",[Pt]:"ui.webvital.lcp",[_r]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=$e(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Aa({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Qr]:"millisecond",[Zr]:e}),c.end(s))}function Ye(e){return e&&((We()||performance.timeOrigin)+e)/1e3}function gf(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=MS(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return We()||(n=os())!=null&&n.timeOrigin?jS({...t,"http.request.redirect_start":Ye(e.redirectStart),"http.request.redirect_end":Ye(e.redirectEnd),"http.request.worker_start":Ye(e.workerStart),"http.request.fetch_start":Ye(e.fetchStart),"http.request.domain_lookup_start":Ye(e.domainLookupStart),"http.request.domain_lookup_end":Ye(e.domainLookupEnd),"http.request.connect_start":Ye(e.connectStart),"http.request.secure_connection_start":Ye(e.secureConnectionStart),"http.request.connection_end":Ye(e.connectEnd),"http.request.request_start":Ye(e.requestStart),"http.request.response_start":Ye(e.responseStart),"http.request.response_end":Ye(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function jS(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const BS=2147483647;let uu=0,ct={},Fe,$n;function US({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=os();if(r&&We()){r.mark&&z.performance.mark("sentry-tracing-init");const s=t?DS(n):qS(),i=VS(),o=e?NS(n):WS();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function $S(){kn("longtask",({entries:e})=>{const t=Ne();if(!t)return;const{op:n,start_timestamp:r}=se(t);for(const s of e){const i=ge(We()+s.startTime),o=ge(s.duration);n==="navigation"&&r&&i<r||en(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ve]:"auto.ui.browser.metrics"}})}})}function HS(){new PerformanceObserver(t=>{const n=Ne();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=ge(We()+r.startTime),{start_timestamp:i,op:o}=se(n);if(o==="navigation"&&i&&s<i)continue;const a=ge(r.duration),c={[ve]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:f,sourceFunctionName:m,sourceCharPosition:h}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,f&&(c["code.filepath"]=f),m&&(c["code.function"]=m),h!==-1&&(c["browser.script.source_char_position"]=h),en(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function zS(){kn("event",({entries:e})=>{const t=Ne();if(t){for(const n of e)if(n.name==="click"){const r=ge(We()+n.startTime),s=ge(n.duration),i={name:$e(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ve]:"auto.ui.browser.metrics"}},o=Yl(n.target);o&&(i.attributes["ui.component_name"]=o),en(t,r,r+s,i)}}})}function WS(){return ka(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.cls={value:e.value,unit:""},$n=t)},!0)}function qS(){return Ca(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.lcp={value:e.value,unit:"millisecond"},Fe=t)},!0)}function VS(){return TS(({metric:e})=>{e.entries[e.entries.length-1]&&(ct.ttfb={value:e.value,unit:"millisecond"})})}function GS(e,t){const n=os(),r=We();if(!(n!=null&&n.getEntries)||!r)return;const s=ge(r),i=n.getEntries(),{op:o,start_timestamp:a}=se(e);i.slice(uu).forEach(c=>{const u=ge(c.startTime),l=ge(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{XS(e,c,s);break}case"mark":case"paint":case"measure":{YS(e,c,u,l,s,t.ignorePerformanceApiSpans);const d=rs(),f=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&f&&(ct.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(ct.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{eb(e,c,c.name,u,l,s,t.ignoreResourceSpans);break}}}),uu=Math.max(i.length-1,0),tb(e),o==="pageload"&&(sb(ct),t.recordClsOnPageloadSpan||delete ct.cls,t.recordLcpOnPageloadSpan||delete ct.lcp,Object.entries(ct).forEach(([c,u])=>{Mg(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",br()),nb(e,t)),Fe=void 0,$n=void 0,ct={}}function KS(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function YS(e,t,n,r,s,i){if(KS(t)||["mark","measure"].includes(t.entryType)&&It(t.name,i))return;const o=ns(!1),a=ge(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,l=u+r,d={[ve]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),JS(d,t),c<=l&&en(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function JS(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&nr(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(nr(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function XS(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Es(e,t,r,n)}),Es(e,t,"secureConnection",n,"TLS/SSL"),Es(e,t,"fetch",n,"cache"),Es(e,t,"domainLookup",n,"DNS"),ZS(e,t,n)}function Es(e,t,n,r,s=n){const i=QS(n),o=t[i],a=t[`${n}Start`];!a||!o||en(e,r+ge(a),r+ge(o),{op:`browser.${s}`,name:t.name,attributes:{[ve]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function QS(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function ZS(e,t,n){const r=n+ge(t.requestStart),s=n+ge(t.responseEnd),i=n+ge(t.responseStart);t.responseEnd&&(en(e,r,s,{op:"browser.request",name:t.name,attributes:{[ve]:"auto.ui.browser.metrics"}}),en(e,i,s,{op:"browser.response",name:t.name,attributes:{[ve]:"auto.ui.browser.metrics"}}))}function eb(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const c={[ve]:"auto.resource.browser.metrics"},u=xn(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(z.location.origin),rb(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...gf(t)},d=i+r,f=d+s;en(e,d,f,{name:n.replace(z.location.origin,""),op:a,attributes:l})}function tb(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Yi(n.rtt)&&(ct["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Yi(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Yi(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function nb(e,t){Fe&&t.recordLcpOnPageloadSpan&&(Fe.element&&e.setAttribute("lcp.element",$e(Fe.element)),Fe.id&&e.setAttribute("lcp.id",Fe.id),Fe.url&&e.setAttribute("lcp.url",Fe.url.trim().slice(0,200)),Fe.loadTime!=null&&e.setAttribute("lcp.loadTime",Fe.loadTime),Fe.renderTime!=null&&e.setAttribute("lcp.renderTime",Fe.renderTime),e.setAttribute("lcp.size",Fe.size)),$n!=null&&$n.sources&&t.recordClsOnPageloadSpan&&$n.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,$e(n.node)))}function rb(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<BS||typeof i=="string")&&(t[s]=i)})}function sb(e){const t=ns(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function ib(){return os()&&We()?kn("element",ob):()=>{}}const ob=({entries:e})=>{const t=Ne(),n=t?Ce(t):void 0,r=n?se(n).description:ae().getScopeData().transactionName;e.forEach(s=>{var m,h;const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,l]=c?[ge(c),"load-time"]:a?[ge(a),"render-time"]:[Te(),"entry-emission"],d=o==="image-paint"?ge(Math.max(0,(a??0)-(c??0))):0,f={[ve]:"auto.ui.browser.elementtiming",[Pt]:"ui.elementtiming",[ut]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":i.id,"element.type":((h=(m=i.element)==null?void 0:m.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Bg({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},g=>{g.end(u+d)})})},ab=1e3;let lu,Oo,Po;function yf(e){const t="dom";tn(t,e),nn(t,cb)}function cb(){if(!z.document)return;const e=Qe.bind(null,"dom"),t=du(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=z[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(je(s,"addEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[c]=d[c]||{refCount:0};if(!f.handler){const m=du(e);f.handler=m,a.call(this,c,m,l)}f.refCount++}catch{}return a.call(this,c,u,l)}}),je(s,"removeEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[c];f&&(f.refCount--,f.refCount<=0&&(a.call(this,c,f.handler,l),f.handler=void 0,delete d[c]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,l)}}))})}function ub(e){if(e.type!==Oo)return!1;try{if(!e.target||e.target._sentryId!==Po)return!1}catch{}return!0}function lb(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function du(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=db(n);if(lb(n.type,r))return;He(n,"_sentryCaptured",!0),r&&!r._sentryId&&He(r,"_sentryId",Ge());const s=n.type==="keypress"?"input":n.type;ub(n)||(e({event:n,name:s,global:t}),Oo=n.type,Po=r?r._sentryId:void 0),clearTimeout(lu),lu=z.setTimeout(()=>{Po=void 0,Oo=void 0},ab)}}function db(e){try{return e.target}catch{return null}}let vs;function _i(e){const t="history";tn(t,e),nn(t,fb)}function fb(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=vs;if(vs=t,n===t)return;Qe("history",{from:n,to:t})}),!N_())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=vs,i=pb(String(r));if(vs=i,s===i)return t.apply(this,n);Qe("history",{from:s,to:i})}return t.apply(this,n)}}je(z.history,"pushState",e),je(z.history,"replaceState",e)}function pb(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}const Fs={};function _f(e){const t=Fs[e];if(t)return t;let n=z[e];if(To(n))return Fs[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){Rn&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Fs[e]=n.bind(z))}function hb(e){Fs[e]=void 0}function as(...e){return _f("setTimeout")(...e)}const dn="__sentry_xhr_v3__";function Sf(e){const t="xhr";tn(t,e),nn(t,mb)}function mb(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=Te()*1e3,o=Tt(r[0])?r[0].toUpperCase():void 0,a=gb(r[1]);if(!o||!a)return t.apply(n,r);n[dn]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[dn];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:Te()*1e3,startTimestamp:i,xhr:n,virtualError:s};Qe("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[f,m]=d,h=l[dn];return h&&Tt(f)&&Tt(m)&&(h.request_headers[f.toLowerCase()]=m),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[dn];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:Te()*1e3,xhr:n};return Qe("xhr",i),t.apply(n,r)}})}function gb(e){if(Tt(e))return e;try{return e.toString()}catch{}}const yb=Symbol.for("sentry__originalRequestBody");function bf(e){return new URLSearchParams(e).toString()}function Ef(e,t=O){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[bf(e)];if(!e)return[void 0]}catch(n){return Rn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Rn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function vf(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][yb];return n!==void 0?n:void 0}}function xf(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return Rn&&O.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const Ji=[],js=new Map,Fn=new Map,_b=60;function Sb(){if(os()&&We()){const t=bb();return()=>{t()}}return()=>{}}const Mo={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function bb(){return df(Eb)}const Eb=({metric:e})=>{if(e.value==null)return;const t=ge(e.value);if(t>_b)return;const n=e.entries.find(h=>h.duration===e.value&&Mo[h.name]);if(!n)return;const{interactionId:r}=n,s=Mo[n.name],i=ge(We()+n.startTime),o=Ne(),a=o?Ce(o):void 0,c=r!=null?js.get(r):void 0,u=(c==null?void 0:c.span)||a,l=u?se(u).description:ae().getScopeData().transactionName,d=(c==null?void 0:c.elementName)||$e(n.target),f={[ve]:"auto.http.browser.inp",[Pt]:`ui.interaction.${s}`,[_r]:n.duration},m=Aa({name:d,transaction:l,attributes:f,startTime:i});m&&(m.addEvent("inp",{[Qr]:"millisecond",[Zr]:e.value}),m.end(i+t))};function vb(){const e=Object.keys(Mo);Io()&&e.forEach(s=>{z.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=$e(i),a=Math.round(s.timeStamp);if(Fn.set(a,o),Fn.size>50){const c=Fn.keys().next().value;c!==void 0&&Fn.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=Fn.get(i);if(!o)for(let a=-5;a<=5;a++){const c=Fn.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=Ne(),o=i&&Ce(i);s.forEach(a=>{if(!OS(a))return;const c=a.interactionId;if(c==null||js.has(c))return;const u=a.target?$e(a.target):n(a);if(Ji.length>10){const l=Ji.shift();js.delete(l)}Ji.push(c),js.set(c,{span:o,elementName:u})})};kn("event",r),kn("first-input",r)}const xb=40;function wb(e,t=_f("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw hb("fetch"),c}finally{n-=o,r--}}return Py(e,s,Sa(e.bufferSize||xb))}const ze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tb=30,Ib=50;function No(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Tn:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Rb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,kb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Cb=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ab=/at (.+?) ?\(data:(.+?),/,Ob=e=>{const t=e.match(Ab);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Rb.exec(e);if(n){const[,s,i,o]=n;return No(s,Tn,+i,+o)}const r=kb.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Cb.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=wf(r[1]||Tn,r[2]);return No(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Pb=[Tb,Ob],Mb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Nb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Lb=e=>{const t=Mb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Nb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Tn;return[s,r]=wf(s,r),No(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Db=[Ib,Lb],Fb=[Pb,Db],jb=Hl(...Fb),wf=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Tn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},xs=1024,Bb="Breadcrumbs",Ub=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Bb,setup(n){t.console&&y_(Wb(n)),t.dom&&yf(zb(n,t.dom)),t.xhr&&Sf(qb(n)),t.fetch&&Xd(Vb(n)),t.history&&_i(Gb(n)),t.sentry&&n.on("beforeSendEvent",Hb(n))}}},$b=Ub;function Hb(e){return function(n){X()===e&&Zt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:un(n)},{event:n})}}function zb(e,t){return function(r){if(X()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>xs&&(ze&&O.warn(`\`dom.maxStringLength\` cannot exceed ${xs}, but a value of ${a} was configured. Sentry will use ${xs} instead.`),a=xs),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Kb(u)?u.target:u;s=$e(l,{keyAttrs:o,maxStringLength:a}),i=Yl(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Zt(c,{event:r.event,name:r.name,global:r.global})}}function Wb(e){return function(n){if(X()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Gd(n.level),message:Ec(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ec(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Zt(r,{input:n.args,level:n.level})}}function qb(e){return function(n){if(X()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[dn];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:l,type:"http",level:Jd(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),Zt(f,d)}}function Vb(e){return function(n){if(X()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Zt(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:Jd(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Zt(c,a)}}}function Gb(e){return function(n){if(X()!==e)return;let r=n.from,s=n.to;const i=xn(J.location.href);let o=r?xn(r):void 0;const a=xn(s);o!=null&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Zt({category:"navigation",data:{from:r,to:s}})}}function Kb(e){return!!e&&!!e.target}const Yb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Jb="BrowserApiErrors",Xb=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Jb,setupOnce(){t.setTimeout&&je(J,"setTimeout",fu),t.setInterval&&je(J,"setInterval",fu),t.requestAnimationFrame&&je(J,"requestAnimationFrame",Zb),t.XMLHttpRequest&&"XMLHttpRequest"in J&&je(XMLHttpRequest.prototype,"send",eE);const n=t.eventTarget;n&&(Array.isArray(n)?n:Yb).forEach(s=>tE(s,t))}}},Qb=Xb;function fu(e){return function(...t){const n=t[0];return t[0]=ar(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ct(e)}`}}),e.apply(this,t)}}function Zb(e){return function(t){return e.apply(this,[ar(t,{mechanism:{data:{handler:Ct(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function eE(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&je(n,s,function(i){const o={mechanism:{data:{handler:Ct(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=aa(i);return a&&(o.mechanism.data.handler=Ct(a)),ar(i,o)})}),e.apply(this,t)}}function tE(e,t){var s,i;const r=(s=J[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(je(r,"addEventListener",function(o){return function(a,c,u){try{nE(c)&&(c.handleEvent=ar(c.handleEvent,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&rE(this,a,c),o.apply(this,[a,ar(c,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),je(r,"removeEventListener",function(o){return function(a,c,u){try{const l=c.__sentry_wrapped__;l&&o.call(this,a,l,u)}catch{}return o.call(this,a,c,u)}}))}function nE(e){return typeof e.handleEvent=="function"}function rE(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const sE=(e={})=>{const t=e.lifecycle??"route";return{name:"BrowserSession",setupOnce(){if(typeof J.document>"u"){ze&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Hc({ignoreDuration:!0}),zc(),t==="route"&&_i(({from:n,to:r})=>{n!==void 0&&n!==r&&(Hc({ignoreDuration:!0}),zc())})}}},iE="CultureContext",oE=()=>({name:iE,preprocessEvent(e){var n;const t=cE();t&&(e.contexts={...e.contexts,culture:{...t,...(n=e.contexts)==null?void 0:n.culture}})}}),aE=oE;function cE(){try{const e=J.Intl;if(!e)return;const t=e.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone,calendar:t.calendar}}catch{return}}const uE="GlobalHandlers",lE=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:uE,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(fE(n),pu("onerror")),t.onunhandledrejection&&(pE(n),pu("onunhandledrejection"))}}},dE=lE;function fE(e){Wl(t=>{const{stackParser:n,attachStacktrace:r}=Tf();if(X()!==e||Zd())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=gE(Ta(n,c||s,void 0,r,!1),i,o,a);u.level="error",Td(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function pE(e){ql(t=>{const{stackParser:n,attachStacktrace:r}=Tf();if(X()!==e||Zd())return;const s=hE(t),i=nr(s)?mE(s):Ta(n,s,void 0,r,!0);i.level="error",Td(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function hE(e){if(nr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function mE(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function gE(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=yE(t)??mr();return c.length===0&&c.push({colno:u,filename:d,function:Tn,in_app:!0,lineno:l}),e}function pu(e){ze&&O.log(`Global Handler attached: ${e}`)}function Tf(){const e=X();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function yE(e){if(!(!Tt(e)||e.length===0))return e.startsWith("data:")?`<${Gt(e,!1)}>`:e}const _E=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!J.navigator&&!J.location&&!J.document)return;const t=va(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),SE="cause",bE=5,EE="LinkedErrors",vE=(e={})=>{const t=e.limit||bE,n=e.key||SE;return{name:EE,preprocessEvent(r,s,i){const o=i.getOptions();g_(xa,o.stackParser,n,t,r,s)}}},xE=vE;function wE(){return TE()?(ze&&On(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function TE(){var i;if(typeof J.window>"u")return!1;const e=J;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=mr(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(J===J.top&&r.some(o=>n.startsWith(`${o}://`)))}function IE(e){return[c_(),s_(),R_(),Qb(),$b(),dE(),xE(),E_(),_E(),aE(),sE()]}function RE(e={}){const t=!e.skipBrowserExtensionCheck&&wE();let n=e.defaultIntegrations==null?IE():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:um(e.stackParser||jb),integrations:Ey({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||wb};return zy(sS,r)}function hu(e={}){const t=J.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){ze&&O.error("[showReportDialog] Global document not defined");return}const r=ae(),s=X(),i=s==null?void 0:s.getDsn();if(!i){ze&&O.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||fy()},a=J.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Sy(i,o);const{onLoad:c,onClose:u}=o;if(c&&(a.onload=c),u){const l=d=>{if(d.data==="__sentry_reportdialog_closed__")try{u()}finally{J.removeEventListener("message",l)}};J.addEventListener("message",l)}n.appendChild(a)}const de=ee,Oa="sentryReplaySession",kE="replay_event",Pa="Unable to send Replay",CE=3e5,AE=9e5,OE=5e3,PE=5500,ME=6e4,NE=5e3,LE=3,mu=15e4,ws=5e3,DE=3e3,FE=300,Ma=2e7,jE=4999,BE=5e4,gu=36e5;var UE=Object.defineProperty,$E=(e,t,n)=>t in e?UE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yu=(e,t,n)=>$E(e,typeof t!="symbol"?t+"":t,n),Se=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Se||{});function HE(e){return e.nodeType===e.ELEMENT_NODE}function Cr(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Ar(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function zE(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function WE(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Zs(e){try{const t=e.rules||e.cssRules;return t?zE(Array.from(t,If).join("")):null}catch{return null}}function qE(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function If(e){let t;if(GE(e))try{t=Zs(e.styleSheet)||WE(e)}catch{}else if(KE(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=qE(e)),r&&(n=VE(n)),r||s)return n}return t||e.cssText}function VE(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function GE(e){return"styleSheet"in e}function KE(e){return"selectorText"in e}class Rf{constructor(){yu(this,"idNodeMap",new Map),yu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function YE(){return new Rf}function Si({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function jr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function cr(e){return e.toLowerCase()}function Lo(e){return e.toUpperCase()}const _u="__rrweb_original__";function JE(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=_u in i?i[_u]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Na(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?cr(t):null}function ei(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function kf(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const Su={};function Cf(e){const t=Su[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Su[e]=r.bind(window)}function Do(...e){return Cf("setTimeout")(...e)}function Af(...e){return Cf("clearTimeout")(...e)}function Of(e){try{return e.contentDocument}catch{}}let XE=1;const QE=new RegExp("[^a-z0-9-_:]"),Br=-2;function La(){return XE++}function ZE(e){if(e instanceof HTMLFormElement)return"form";const t=cr(e.tagName);return QE.test(t)?"div":t}function ev(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let jn,bu;const tv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,nv=/^(?:[a-z+]+:)?\/\//i,rv=/^www\..*/i,sv=/^(data:)([^,]*),(.*)/i;function iv(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function ti(e,t){return(e||"").replace(tv,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(nv.test(c)||rv.test(c))return`url(${u}${c}${u})`;if(sv.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${ev(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const ov=/^[^ \t\n\r\u000c]+/,av=/^[, \t\n\r\u000c]+/;function cv(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(av),!(n>=t.length);){let i=r(ov);if(i.slice(-1)===",")i=Hn(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Hn(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}const Eu=new WeakMap;function Hn(e,t){return!t||t.trim()===""?t:bi(e,t)}function uv(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function bi(e,t){let n=Eu.get(e);if(n||(n=e.createElement("a"),Eu.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Pf(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return Hn(e,r);if(n==="xlink:href"&&r[0]!=="#")return Hn(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return Hn(e,r);if(n==="srcset")return cv(e,r);if(n==="style"){let a=ti(r,bi(e));return o&&o.size>0&&(a=iv(a,o)),a}else if(t==="object"&&n==="data")return Hn(e,r);return typeof i=="function"?i(n,r,s):r}function Mf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function lv(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function dv(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function fn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:fn(e.parentNode,t,n,r+1)}function zn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(dv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function ur(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=fn(o,zn(r,s)),c<0)return!0;a=fn(o,zn(t,n),c>=0?c:1/0)}else{if(a=fn(o,zn(t,n)),a<0)return!1;c=fn(o,zn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function fv(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=Do(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Af(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Do(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function pv(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=Do(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Af(i),r=!0,t()})}function hv(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:y,dataURLOptions:_={},inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:M=!1,ignoreCSSAttributes:k}=t,v=mv(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Se.Document,childNodes:[],compatMode:e.compatMode}:{type:Se.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Se.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return yv(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:_,inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:M,rootId:v,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:k});case e.TEXT_NODE:return gv(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:y,rootId:v});case e.CDATA_SECTION_NODE:return{type:Se.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:Se.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function mv(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function gv(e,t){var _;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const m=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||(_=e.parentNode.sheet)!=null&&_.cssRules&&(f=Zs(e.parentNode.sheet))}catch(T){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`,e)}f=ti(f,bi(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const y=ur(e,r,i,s,o,n);if(!m&&!h&&!g&&f&&y&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const T=Si({type:null,tagName:d,maskInputOptions:c});f=jr({isMasked:ur(e,r,i,s,o,T),element:e,value:f,maskInputFn:u})}return{type:Se.Text,textContent:f||"",isStyle:m,rootId:l}}function yv(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:T,unmaskTextSelector:I,ignoreCSSAttributes:w}=t,M=lv(e,r,s,i),k=ZE(e);let v={};const A=e.attributes.length;for(let E=0;E<A;E++){const P=e.attributes[E];P.name&&!Mf(k,P.name,P.value)&&(v[P.name]=Pf(n,k,cr(P.name),P.value,e,c,w))}if(k==="link"&&o){const E=Array.from(n.styleSheets).find(N=>N.href===e.href);let P=null;E&&(P=Zs(E)),P&&(v.rel=null,v.href=null,v.crossorigin=null,v._cssText=ti(P,E.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=Zs(e.sheet);E&&(v._cssText=ti(E,bi(n)))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){const E=e,P=Na(E),N=ei(E,Lo(k),P),B=E.checked;if(P!=="submit"&&P!=="button"&&N){const F=ur(E,y,T,_,I,Si({type:P,tagName:Lo(k),maskInputOptions:a}));v.value=jr({isMasked:F,element:E,value:N,maskInputFn:u})}B&&(v.checked=B)}if(k==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),k==="canvas"&&f){if(e.__context==="2d")JE(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const E=e.toDataURL(l.type,l.quality),P=n.createElement("canvas");P.width=e.width,P.height=e.height;const N=P.toDataURL(l.type,l.quality);E!==N&&(v.rr_dataURL=E)}}if(k==="img"&&d){jn||(jn=n.createElement("canvas"),bu=jn.getContext("2d"));const E=e,P=E.currentSrc||E.getAttribute("src")||"<unknown-src>",N=E.crossOrigin,B=()=>{E.removeEventListener("load",B);try{jn.width=E.naturalWidth,jn.height=E.naturalHeight,bu.drawImage(E,0,0),v.rr_dataURL=jn.toDataURL(l.type,l.quality)}catch(F){if(E.crossOrigin!=="anonymous"){E.crossOrigin="anonymous",E.complete&&E.naturalWidth!==0?B():E.addEventListener("load",B);return}else console.warn(`Cannot inline img src=${P}! Error: ${F}`)}E.crossOrigin==="anonymous"&&(N?v.crossOrigin=N:E.removeAttribute("crossorigin"))};E.complete&&E.naturalWidth!==0?B():E.addEventListener("load",B)}if((k==="audio"||k==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),M){const{width:E,height:P}=e.getBoundingClientRect();v={class:v.class,rr_width:`${E}px`,rr_height:`${P}px`}}k==="iframe"&&!m(v.src)&&(!M&&!Of(e)&&(v.rr_src=v.src),delete v.src);let D;try{customElements.get(k)&&(D=!0)}catch{}return{type:Se.Element,tagName:k,attributes:v,childNodes:[],isSVG:uv(e)||void 0,needBlock:M,rootId:g,isCustom:D}}function le(e){return e==null?"":e.toLowerCase()}function _v(e,t){if(t.comment&&e.type===Se.Comment)return!0;if(e.type===Se.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&kf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||le(e.attributes.name)==="application-name"||le(e.attributes.rel)==="icon"||le(e.attributes.rel)==="apple-touch-icon"||le(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||le(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(le(e.attributes.name)==="robots"||le(e.attributes.name)==="googlebot"||le(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(le(e.attributes.name)==="author"||le(e.attributes.name)==="generator"||le(e.attributes.name)==="framework"||le(e.attributes.name)==="publisher"||le(e.attributes.name)==="progid"||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(le(e.attributes.name)==="google-site-verification"||le(e.attributes.name)==="yandex-verification"||le(e.attributes.name)==="csrf-token"||le(e.attributes.name)==="p:domain_verify"||le(e.attributes.name)==="verify-v1"||le(e.attributes.name)==="verification"||le(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Wn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I={},inlineImages:w=!1,recordCanvas:M=!1,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A=5e3,onBlockedImageLoad:D,onStylesheetLoad:E,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:B=!1,ignoreCSSAttributes:F}=t;let{preserveWhiteSpace:ce=!0}=t;const V=hv(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,dataURLOptions:I,inlineImages:w,recordCanvas:M,keepIframeSrcFn:N,newlyAddedElement:B,ignoreCSSAttributes:F});if(!V)return console.warn(e,"not serialized"),null;let Z;r.hasNode(e)?Z=r.getId(e):_v(V,T)||!ce&&V.type===Se.Text&&!V.isStyle&&!V.textContent.replace(/^\s+|\s+$/gm,"").length?Z=Br:Z=La();const C=Object.assign(V,{id:Z});if(r.add(e,C),Z===Br)return null;k&&k(e);let K=!f;if(C.type===Se.Element){K=K&&!C.needBlock;const L=e.shadowRoot;L&&Ar(L)&&(C.isShadowHost=!0)}if((C.type===Se.Document||C.type===Se.Element)&&K){T.headWhitespace&&C.type===Se.Element&&C.tagName==="head"&&(ce=!1);const L={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onBlockedImageLoad:D,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F},G=e.childNodes?Array.from(e.childNodes):[];for(const Q of G){const ie=Wn(Q,L);ie&&C.childNodes.push(ie)}if(HE(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const ie=Wn(Q,L);ie&&(Ar(e.shadowRoot)&&(ie.isShadow=!0),C.childNodes.push(ie))}}if(e.parentNode&&Cr(e.parentNode)&&Ar(e.parentNode)&&(C.isShadow=!0),C.type===Se.Element&&C.tagName==="iframe"&&!C.needBlock&&fv(e,()=>{const L=Of(e);if(L&&v){const G=Wn(L,{doc:L,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F});G&&v(e,G)}},A),C.type===Se.Element&&C.tagName==="img"&&!e.complete&&C.needBlock){const L=e,G=()=>{if(L.isConnected&&!L.complete&&D)try{const Q=L.getBoundingClientRect();Q.width>0&&Q.height>0&&D(L,C,Q)}catch{}L.removeEventListener("load",G)};L.isConnected&&L.addEventListener("load",G)}return C.type===Se.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&kf(C.attributes.href)==="css")&&pv(e,()=>{if(E){const L=Wn(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F});L&&E(e,L)}},P),C.type===Se.Element&&delete C.needBlock,C}function Sv(e,t){const{mirror:n=new Rf,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOM:T=!1,dataURLOptions:I,preserveWhiteSpace:w,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:v,onBlockedImageLoad:A,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:N=new Set([])}=t||{};return Wn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:I,inlineImages:f,recordCanvas:m,preserveWhiteSpace:w,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:v,onBlockedImageLoad:A,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:P,newlyAddedElement:!1,ignoreCSSAttributes:N})}function Me(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Bn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let vu={map:{},getId(){return console.error(Bn),-1},getNode(){return console.error(Bn),null},removeNodeFromMap(){console.error(Bn)},has(){return console.error(Bn),!1},reset(){console.error(Bn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(vu=new Proxy(vu,{get(e,t,n){return t==="map"&&console.error(Bn),Reflect.get(e,t,n)}}));function Ur(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(Iv(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=Ei(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Nf(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Ei(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Nf(e,t,i||{},!0)}function Da(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let ni=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ni=()=>new Date().getTime());function Lf(e){var n,r,s,i,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Df(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ff(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function jf(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function qe(e,t,n,r,s){if(!e)return!1;const i=jf(e);if(!i)return!1;const o=zn(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=fn(i,o);let c=-1;return a<0?!1:(r&&(c=fn(i,zn(null,r))),a>-1&&c<0?!0:a<c)}function bv(e,t){return t.getId(e)!==-1}function Xi(e,t){return t.getId(e)===Br}function Bf(e,t){if(Cr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Bf(e.parentNode,t):!0:!0}function Fo(e){return!!e.changedTouches}function Ev(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Uf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function $f(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function jo(e){return!!(e!=null&&e.shadowRoot)}class vv{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Hf(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function xv(e){let t=e,n;for(;n=Hf(t);)t=n;return t}function wv(e){const t=e.ownerDocument;if(!t)return!1;const n=xv(e);return t.contains(n)}function zf(e){const t=e.ownerDocument;return t?t.contains(e)||wv(e):!1}const xu={};function Fa(e){const t=xu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return xu[e]=r.bind(window)}function Tv(...e){return Fa("requestAnimationFrame")(...e)}function Ei(...e){return Fa("setTimeout")(...e)}function Iv(...e){return Fa("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),q=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(q||{}),Oe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Oe||{}),xt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(xt||{}),Un=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Un||{});function ja(e){try{return e.contentDocument}catch{}}function Rv(e){try{return e.contentWindow}catch{}}function wu(e){return"__ln"in e}class kv{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&wu(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&wu(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Tu=(e,t)=>`${e}@${t}`;class Cv{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new kv,s=c=>{let u=c,l=Br;for(;l===Br;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!zf(c))return;const u=Cr(c.parentNode)?this.mirror.getId(Hf(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Wn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Uf(f,this.mirror)&&!qe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),$f(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),jo(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{qe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,m),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)},onBlockedImageLoad:(f,m,{width:h,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:m.id,attributes:{style:{width:`${h}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Iu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Ru(this.droppedSet,c)&&!Iu(this.removes,c,this.mirror)||Ru(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Xi(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!qe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:ur(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,jf(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=Na(n),a=n.tagName;s=ei(n,a,o);const c=Si({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=ur(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=jr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(qe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!ja(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Mf(n.tagName,r)&&(i.attributes[r]=Pf(this.doc,cr(n.tagName),cr(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(qe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Cr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);qe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Xi(n,this.mirror)||!bv(n,this.mirror)||(this.addedSet.has(n)?(Bo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Bf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Tu(r,s)]?Bo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Cr(t.target)&&Ar(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Xi(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Tu(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);qe(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),jo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Bo(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Bo(e,r))}function Iu(e,t,n){return e.length===0?!1:Av(e,t,n)}function Av(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function Ru(e,t){return e.size===0?!1:Wf(e,t)}function Wf(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Wf(e,n):!1}let Or;function Ov(e){Or=e}function Pv(){Or=void 0}const re=e=>Or?(...n)=>{try{return e(...n)}catch(r){if(Or&&Or(r)===!0)return()=>{};throw r}}:e,qn=[];function cs(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function qf(e,t){var o,a;const n=new Cv;qn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(re(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Mv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Ur(re(d=>{const f=Date.now()-a;e(o.map(m=>(m.timeOffset-=f,m)),d),o=[],a=null}),i),u=re(Ur(re(d=>{const f=cs(d),{clientX:m,clientY:h}=Fo(d)?d.changedTouches[0]:d;a||(a=ni()),o.push({x:m,y:h,id:r.getId(f),timeOffset:ni()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?q.Drag:d instanceof MouseEvent?q.MouseMove:q.TouchMove)}),s,{trailing:!1})),l=[Me("mousemove",u,n),Me("touchmove",u,n),Me("drag",u,n)];return re(()=>{l.forEach(d=>d())})}function Nv({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const m=cs(f);if(qe(m,r,s,i,!0))return;let h=null,g=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=xt.Mouse;break;case"touch":h=xt.Touch;break;case"pen":h=xt.Pen;break}h===xt.Touch?Oe[d]===Oe.MouseDown?g="TouchStart":Oe[d]===Oe.MouseUp&&(g="TouchEnd"):xt.Pen}else Fo(f)&&(h=xt.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===xt.Touch||g.startsWith("Mouse")&&h===xt.Mouse)&&(h=null)):Oe[d]===Oe.Click&&(h=u,u=null);const y=Fo(f)?f.changedTouches[0]:f;if(!y)return;const _=n.getId(m),{clientX:T,clientY:I}=y;re(e)({type:Oe[g],id:_,x:T,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Oe).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=cr(d);const m=l(d);if(window.PointerEvent)switch(Oe[d]){case Oe.MouseDown:case Oe.MouseUp:f=f.replace("mouse","pointer");break;case Oe.TouchStart:case Oe.TouchEnd:return}c.push(Me(f,m,t))}),re(()=>{c.forEach(d=>d())})}function Vf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=re(Ur(re(c=>{const u=cs(c);if(!u||qe(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=Lf(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return Me("scroll",a,t)}function Lv({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=re(Ur(re(()=>{const i=Df(),o=Ff();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return Me("resize",s,t)}const Dv=["INPUT","TEXTAREA","SELECT"],ku=new WeakMap;function Fv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function y(v){let A=cs(v);const D=v.isTrusted,E=A&&Lo(A.tagName);if(E==="OPTION"&&(A=A.parentElement),!A||!E||Dv.indexOf(E)<0||qe(A,r,s,i,!0))return;const P=A;if(P.classList.contains(o)||a&&P.matches(a))return;const N=Na(A);let B=ei(P,E,N),F=!1;const ce=Si({maskInputOptions:c,tagName:E,type:N}),V=ur(A,f,h,m,g,ce);(N==="radio"||N==="checkbox")&&(F=A.checked),B=jr({isMasked:V,element:A,value:B,maskInputFn:u}),_(A,d?{text:B,isChecked:F,userTriggered:D}:{text:B,isChecked:F});const Z=A.name;N==="radio"&&Z&&F&&t.querySelectorAll(`input[type="radio"][name="${Z}"]`).forEach(C=>{if(C!==A){const K=jr({isMasked:V,element:C,value:ei(C,E,N),maskInputFn:u});_(C,d?{text:K,isChecked:!F,userTriggered:!1}:{text:K,isChecked:!F})}})}function _(v,A){const D=ku.get(v);if(!D||D.text!==A.text||D.isChecked!==A.isChecked){ku.set(v,A);const E=n.getId(v);re(e)({...A,id:E})}}const I=(l.input==="last"?["change"]:["input","change"]).map(v=>Me(v,re(y),t)),w=t.defaultView;if(!w)return()=>{I.forEach(v=>v())};const M=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),k=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&I.push(...k.map(v=>Nf(v[0],v[1],{set(){re(y)({target:this,isTrusted:!1})}},!1,w))),re(()=>{I.forEach(v=>v())})}function ri(e){const t=[];function n(r,s){if(Ts("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Ts("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Ts("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Ts("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Ft(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function jv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:re((l,d,f)=>{const[m,h]=f,{id:g,styleId:y}=Ft(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:m,index:h}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),l.apply(d,f)})}));const c={};Is("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Is("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Is("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Is("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:re((f,m,h)=>{const[g,y]=h,{id:_,styleId:T}=Ft(m.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||T&&T!==-1)&&e({id:_,styleId:T,adds:[{rule:g,index:[...ri(m),y||0]}]}),f.apply(m,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:re((f,m,h)=>{const[g]=h,{id:y,styleId:_}=Ft(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||_&&_!==-1)&&e({id:y,styleId:_,removes:[{index:[...ri(m),g]}]}),f.apply(m,h)})})}),re(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Gf({mirror:e,stylesheetManager:t},n){var o,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var u;return(u=i.get)==null?void 0:u.call(this)},set(u){var d;const l=(d=i.set)==null?void 0:d.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return l}}),re(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Bv({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:re((a,c,u)=>{var g;const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:m,styleId:h}=Ft((g=c.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:d,priority:f},index:ri(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:re((a,c,u)=>{var m;const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=Ft((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:ri(c.parentRule)}),a.apply(c,u)})}),re(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Uv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=re(u=>Ur(re(l=>{const d=cs(l);if(!d||qe(d,t,n,r,!0))return;const{currentTime:f,volume:m,muted:h,playbackRate:g}=d;e({type:u,id:s.getId(d),currentTime:f,volume:m,muted:h,playbackRate:g})}),i.media||500)),c=[Me("play",a(Un.Play),o),Me("pause",a(Un.Pause),o),Me("seeked",a(Un.Seeked),o),Me("volumechange",a(Un.VolumeChange),o),Me("ratechange",a(Un.RateChange),o)];return re(()=>{c.forEach(u=>u())})}function $v({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Da(t.fonts,"add",function(a){return function(c){return Ei(re(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),re(()=>{r.forEach(a=>a())})}function Hv(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=re(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const m=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:y,endOffset:_}=m;qe(h,r,s,i,!0)||qe(y,r,s,i,!0)||l.push({start:n.getId(h),startOffset:g,end:n.getId(y),endOffset:_})}o({ranges:l})});return c(),Me("selectionchange",c)}function zv({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Da(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Wv(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=qf(e,e.doc));const s=Mv(e),i=Nv(e),o=Vf(e),a=Lv(e,{win:n}),c=Fv(e),u=Uv(e);let l=()=>{},d=()=>{},f=()=>{},m=()=>{};e.recordDOM&&(l=jv(e,{win:n}),d=Gf(e,e.doc),f=Bv(e,{win:n}),e.collectFonts&&(m=$v(e)));const h=Hv(e),g=zv(e),y=[];for(const _ of e.plugins)y.push(_.observer(_.callback,n,_.options));return re(()=>{qn.forEach(_=>_.reset()),r==null||r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),m(),h(),g(),y.forEach(_=>_())})}function Ts(e){return typeof window[e]<"u"}function Is(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Uo{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class qv{constructor(){this.crossOriginIframeMirror=new Uo(La),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Vv{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Uo(La),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Uo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=ja(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:q.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case q.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case q.Drag:case q.TouchMove:case q.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case q.ViewportResize:return!1;case q.MediaInteraction:case q.MouseInteraction:case q.Scroll:case q.CanvasMutation:case q.Input:return this.replaceIds(n.data,t,["id"]),n;case q.StyleSheetRule:case q.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case q.Font:return n;case q.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case q.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Se.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Gv{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Kv{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Ar(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=qf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Vf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Ei(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Gf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=ja(t),r=Rv(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Da(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&zf(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rs=0;Rs<Cu.length;Rs++)Yv[Cu.charCodeAt(Rs)]=Rs;class Au{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Jv{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new vv,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:If(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Xv{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Tv(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let pe,si;var Al;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Al=e.contentWindow)==null?void 0:Al.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const rt=YE();function kt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,maxCanvasSize:M=null,packFn:k,sampling:v={},dataURLOptions:A={},mousemoveWait:D,recordDOM:E=!0,recordCanvas:P=!1,recordCrossOriginIframes:N=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:F=!1,collectFonts:ce=!1,inlineImages:V=!1,plugins:Z,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:L,onMutation:G,getCanvasManager:Q}=e;Ov(L);const ie=N?window.parent===window:!0;let fe=!1;if(!ie)try{window.parent.document&&(fe=!1)}catch{fe=!0}if(ie&&!t)throw new Error("emit function is required");if(!ie&&!fe)return()=>{};D!==void 0&&v.mousemove===void 0&&(v.mousemove=D),rt.reset();const be=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},_t=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};Ev();let Le,St=0;const Ln=oe=>{for(const et of Z||[])et.eventProcessor&&(oe=et.eventProcessor(oe));return k&&!fe&&(oe=k(oe)),oe};pe=(oe,et)=>{var De;const te=oe;if(te.timestamp=ni(),(De=qn[0])!=null&&De.isFrozen()&&te.type!==Y.FullSnapshot&&!(te.type===Y.IncrementalSnapshot&&te.data.source===q.Mutation)&&qn.forEach(Ke=>Ke.unfreeze()),ie)t==null||t(Ln(te),et);else if(fe){const Ke={type:"rrweb",event:Ln(te),origin:window.location.origin,isCheckout:et};window.parent.postMessage(Ke,"*")}if(te.type===Y.FullSnapshot)Le=te,St=0;else if(te.type===Y.IncrementalSnapshot){if(te.data.source===q.Mutation&&te.data.isAttachIframe)return;St++;const Ke=r&&St>=r,ue=n&&Le&&te.timestamp-Le.timestamp>n;(Ke||ue)&&Li(!0)}};const bt=oe=>{pe({type:Y.IncrementalSnapshot,data:{source:q.Mutation,...oe}})},nc=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.Scroll,...oe}}),nh=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...oe}}),rh=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.AdoptedStyleSheet,...oe}}),an=new Jv({mutationCb:bt,adoptedStyleSheetCb:rh}),cn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new qv:new Vv({mirror:rt,mutationCb:bt,stylesheetManager:an,recordCrossOriginIframes:N,wrappedEmit:pe});for(const oe of Z||[])oe.getMirror&&oe.getMirror({nodeMirror:rt,crossOriginIframeMirror:cn.crossOriginIframeMirror,crossOriginIframeStyleMirror:cn.crossOriginIframeStyleMirror});const Mi=new Xv,Ni=Zv(Q,{mirror:rt,win:window,mutationCb:oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...oe}}),recordCanvas:P,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:M,sampling:v.canvas,dataURLOptions:A,errorHandler:L}),ms=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Gv:new Kv({mutationCb:bt,scrollCb:nc,bypassOptions:{onMutation:G,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:be,dataURLOptions:A,maskAttributeFn:T,maskTextFn:w,maskInputFn:I,recordCanvas:P,inlineImages:V,sampling:v,slimDOMOptions:_t,iframeManager:cn,stylesheetManager:an,canvasManager:Ni,keepIframeSrcFn:C,processedNodeManager:Mi,ignoreCSSAttributes:K},mirror:rt}),Li=(oe=!1)=>{if(!E)return;pe({type:Y.Meta,data:{href:window.location.href,width:Ff(),height:Df()}},oe),an.reset(),ms.init(),qn.forEach(te=>te.lock());const et=Sv(document,{mirror:rt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:be,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,slimDOM:_t,dataURLOptions:A,recordCanvas:P,inlineImages:V,onSerialize:te=>{Uf(te,rt)&&cn.addIframe(te),$f(te,rt)&&an.trackLinkElement(te),jo(te)&&ms.addShadowRoot(te.shadowRoot,document)},onIframeLoad:(te,De)=>{cn.attachIframe(te,De),te.contentWindow&&Ni.addWindow(te.contentWindow),ms.observeAttachShadow(te)},onStylesheetLoad:(te,De)=>{an.attachLinkElement(te,De)},onBlockedImageLoad:(te,De,{width:Ke,height:ue})=>{bt({adds:[],removes:[],texts:[],attributes:[{id:De.id,attributes:{style:{width:`${Ke}px`,height:`${ue}px`}}}]})},keepIframeSrcFn:C,ignoreCSSAttributes:K});if(!et)return console.warn("Failed to snapshot the document");pe({type:Y.FullSnapshot,data:{node:et,initialOffset:Lf(window)}}),qn.forEach(te=>te.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&an.adoptStyleSheets(document.adoptedStyleSheets,rt.getId(document))};si=Li;try{const oe=[],et=De=>{var Ke;return re(Wv)({onMutation:G,mutationCb:bt,mousemoveCb:(ue,Di)=>pe({type:Y.IncrementalSnapshot,data:{source:Di,positions:ue}}),mouseInteractionCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.MouseInteraction,...ue}}),scrollCb:nc,viewportResizeCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.ViewportResize,...ue}}),inputCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.Input,...ue}}),mediaInteractionCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.MediaInteraction,...ue}}),styleSheetRuleCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.StyleSheetRule,...ue}}),styleDeclarationCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.StyleDeclaration,...ue}}),canvasMutationCb:nh,fontCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.Font,...ue}}),selectionCb:ue=>{pe({type:Y.IncrementalSnapshot,data:{source:q.Selection,...ue}})},customElementCb:ue=>{pe({type:Y.IncrementalSnapshot,data:{source:q.CustomElement,...ue}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:be,inlineStylesheet:h,sampling:v,recordDOM:E,recordCanvas:P,inlineImages:V,userTriggeredOnInput:F,collectFonts:ce,doc:De,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,keepIframeSrcFn:C,blockSelector:i,unblockSelector:o,slimDOMOptions:_t,dataURLOptions:A,mirror:rt,iframeManager:cn,stylesheetManager:an,shadowDomManager:ms,processedNodeManager:Mi,canvasManager:Ni,ignoreCSSAttributes:K,plugins:((Ke=Z==null?void 0:Z.filter(ue=>ue.observer))==null?void 0:Ke.map(ue=>({observer:ue.observer,options:ue.options,callback:Di=>pe({type:Y.Plugin,data:{plugin:ue.name,payload:Di}})})))||[]},{})};cn.addLoadListener(De=>{try{oe.push(et(De.contentDocument))}catch(Ke){console.warn(Ke)}});const te=()=>{Li(),oe.push(et(document))};return document.readyState==="interactive"||document.readyState==="complete"?te():(oe.push(Me("DOMContentLoaded",()=>{pe({type:Y.DomContentLoaded,data:{}}),B==="DOMContentLoaded"&&te()})),oe.push(Me("load",()=>{pe({type:Y.Load,data:{}}),B==="load"&&te()},window))),()=>{oe.forEach(De=>De()),Mi.destroy(),si=void 0,Pv()}}catch(oe){console.warn(oe)}}function Qv(e){if(!si)throw new Error("please take full snapshot after start recording");si(e)}kt.mirror=rt;kt.takeFullSnapshot=Qv;function Zv(e,t){try{return e?e(t):new Au}catch{return console.warn("Unable to initialize CanvasManager"),new Au}}var Ou;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ou||(Ou={}));const ex=3,tx=5;function Ba(e){return e>9999999999?e:e*1e3}function Qi(e){return e>9999999999?e/1e3:e}function us(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:at(t,10,1e3)}}),t.category==="console")))}const nx="button,a";function Kf(e){return e.closest(nx)||e}function Yf(e){const t=Jf(e);return!t||!(t instanceof Element)?t:Kf(t)}function Jf(e){return rx(e)?e.target:e}function rx(e){return typeof e=="object"&&!!e&&"target"in e}let jt;function sx(e){return jt||(jt=[],ix()),jt.push(e),()=>{const t=jt?jt.indexOf(e):-1;t>-1&&jt.splice(t,1)}}function ix(){je(de,"open",function(e){return function(...t){if(jt)try{jt.forEach(n=>n())}catch{}return e.apply(de,t)}})}const ox=new Set([q.Mutation,q.StyleSheetRule,q.StyleDeclaration,q.AdoptedStyleSheet,q.CanvasMutation,q.Selection,q.MediaInteraction]);function ax(e,t,n){e.handleClick(t,n)}class cx{constructor(t,n,r=us){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=sx(()=>{this._lastMutation=Pu()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(lx(n,this._ignoreSelector)||!dx(t))return;const r={timestamp:Qi(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Qi(t)}registerScroll(t=Date.now()){this._lastScroll=Qi(t)}registerClick(t){const n=Kf(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Pu();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=as(()=>this._checkClicks(),1e3)}}const ux=["A","BUTTON","INPUT"];function lx(e,t){return!!(!ux.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function dx(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Pu(){return Date.now()/1e3}function fx(e,t){try{if(!px(t))return;const{source:n}=t.data;if(ox.has(n)&&e.registerMutation(t.timestamp),n===q.Scroll&&e.registerScroll(t.timestamp),hx(t)){const{type:r,id:s}=t.data,i=kt.mirror.getNode(s);i instanceof HTMLElement&&r===Oe.Click&&e.registerClick(i)}}catch{}}function px(e){return e.type===ex}function hx(e){return e.data.source===q.MouseInteraction}function gt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ua=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ua||{});const mx=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function gx(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(mx.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const yx=e=>t=>{if(!e.isEnabled())return;const n=_x(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&ax(e.clickDetector,n,Yf(t.event)),us(e,n)};function Xf(e,t){const n=kt.mirror.getId(e),r=n&&kt.mirror.getNode(n),s=r&&kt.mirror.getMeta(r),i=s&&bx(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Ua.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:gx(i.attributes)}}:{}}}function _x(e){const{target:t,message:n}=Sx(e);return gt({category:`ui.${e.name}`,...Xf(t,n)})}function Sx(e){const t=e.name==="click";let n,r=null;try{r=t?Yf(e.event):Jf(e.event),n=$e(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function bx(e){return e.type===Ua.Element}function Ex(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=vx(t);n&&us(e,n)}function vx(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||xx(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=$e(o,{maxStringLength:200})||"<unknown>",l=Xf(o,u);return gt({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function xx(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const wx={resource:Cx,paint:Rx,navigation:kx};function Zi(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Tx(e){return e.map(Ix).filter(Boolean)}function Ix(e){const t=wx[e.entryType];return t?t(e):null}function lr(e){return((We()||de.performance.timeOrigin)+e)/1e3}function Rx(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=lr(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function kx(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:m,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:lr(m),end:lr(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function Cx(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:lr(i),end:lr(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Ax(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return $a(e,"largest-contentful-paint",n)}function Ox(e){return e.sources!==void 0}function Px(e){const t=[],n=[];for(const r of e.entries)if(Ox(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=kt.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return $a(e,"cumulative-layout-shift",n,t)}function Mx(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return $a(e,"interaction-to-next-paint",n)}function $a(e,t,n,r){const s=e.value,i=e.rating,o=lr(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>kt.mirror.getId(a)):void 0,attributions:r}}}function Nx(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(kn(s,n))}),r.push(Ca(Zi(Ax,e)),ka(Zi(Px,e)),df(Zi(Mx,e))),()=>{r.forEach(s=>s())}}const U=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Lx='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Dx(){const e=new Blob([Lx]);return URL.createObjectURL(e)}const Mu=["log","warn","error"],Bs="[Replay] ";function eo(e,t="info"){Zt({category:"console",data:{logger:"replay"},level:t,message:`${Bs}${e}`},{level:t})}function Fx(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return U?(Mu.forEach(r=>{n[r]=(...s)=>{O[r](Bs,...s),t&&eo(s.join(""),Gd(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),O.error(Bs,r),e?mi(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&eo(r,"error")},n.infoTick=(...r)=>{O.log(Bs,...r),t&&setTimeout(()=>eo(r[0]),0)}):Mu.forEach(r=>{n[r]=()=>{}}),n}const $=Fx();class Ha extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ma}.`)}}class Qf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ma)throw new Ha;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Ba(t):null}}class jx{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():(U&&$.warn("Received worker message with unsuccessful status",r),n(new Error("Received worker message with unsuccessful status")))},{once:!0}),this._worker.addEventListener("error",r=>{U&&$.warn("Failed to load Replay compression worker",r),n(new Error(`Failed to load Replay compression worker: ${r instanceof ErrorEvent&&r.message?r.message:"Unknown error. This can happen due to CSP policy restrictions, network issues, or the worker script failing to load."}`))},{once:!0})}),this._ensureReadyPromise)}destroy(){U&&$.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){U&&$.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Bx{constructor(t){this._worker=new jx(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Ba(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Ma?Promise.reject(new Ha):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{U&&$.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Ux{constructor(t){this._fallback=new Qf,this._compression=new Bx(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){U&&$.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){U&&$.exception(i,"Failed to add events when switching buffers.")}}}function $x({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Hx(t);if(n)return n}return U&&$.log("Using simple buffer"),new Qf}function Hx(e){try{const t=e||zx();if(!t)return;U&&$.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Ux(n)}catch(t){U&&$.exception(t,"Failed to create compression worker")}}function zx(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Dx():""}function za(){try{return"sessionStorage"in de&&!!de.sessionStorage}catch{return!1}}function Wx(e){qx(),e.session=void 0}function qx(){if(za())try{de.sessionStorage.removeItem(Oa)}catch{}}function Zf(e){return e===void 0?!1:Math.random()<e}function vi(e){if(za())try{de.sessionStorage.setItem(Oa,JSON.stringify(e))}catch{}}function ep(e){const t=Date.now(),n=e.id||Ge(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a,dirty:c}}function Vx(e,t){return Zf(e)?"session":t?"buffer":!1}function Nu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Vx(e,t),i=ep({sampled:s,previousSessionId:r});return n&&vi(i),i}function Gx(){if(!za())return null;try{const e=de.sessionStorage.getItem(Oa);if(!e)return null;const t=JSON.parse(e);return U&&$.infoTick("Loading existing session"),ep(t)}catch{return null}}function $o(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function tp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return $o(e.started,t,r)||$o(e.lastActivity,n,r)}function np(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!tp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function to({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Gx();return s?np(s,{sessionIdleExpire:e,maxReplayDuration:t})?(U&&$.infoTick("Session in sessionStorage is expired, creating new one..."),Nu(r,{previousSessionId:s.id})):s:(U&&$.infoTick("Creating new session"),Nu(r,{previousSessionId:n}))}function Kx(e){return e.type===Y.Custom}function Wa(e,t,n){return sp(e,t)?(rp(e,t,n),!0):!1}function Yx(e,t,n){return sp(e,t)?rp(e,t,n):Promise.resolve(null)}async function rp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=Jx(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof Ha,a=o?"addEventSizeExceeded":"addEvent",c=X();if(c){const u=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a})}}function sp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Ba(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(U&&$.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Jx(e,t){try{if(typeof t=="function"&&Kx(e))return t(e)}catch(n){return U&&$.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function qa(e){return!e.type}function Ho(e){return e.type==="transaction"}function Xx(e){return e.type==="replay_event"}function Lu(e){return e.type==="feedback"}function Qx(e){return(t,n)=>{if(!e.isEnabled()||!qa(t)&&!Ho(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Ho(t)){Zx(e,t);return}ew(e,t)}}}function Zx(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function ew(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||as(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function tw(e){return t=>{!e.isEnabled()||!qa(t)||nw(e,t)}}function nw(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=gt({category:"replay.hydrate-error",data:{url:mr()}});us(e,o)}}function rw(e){const t=X();t&&t.on("beforeAddBreadcrumb",n=>sw(e,n))}function sw(e,t){if(!e.isEnabled()||!ip(t))return;const n=iw(t);n&&us(e,n)}function iw(e){return!ip(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?ow(e):gt(e)}function ow(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return gt(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>ws?(n=!0,`${i.slice(0,ws)}`):i;if(typeof i=="object")try{const o=at(i,7);return JSON.stringify(o).length>ws?(n=!0,`${JSON.stringify(o,null,2).slice(0,ws)}`):o}catch{}return i});return gt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function ip(e){return!!e.category}function aw(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function op(){const e=ae().getPropagationContext().dsc;e&&delete e.replay_id;const t=Ne();if(t){const n=Mt(t);delete n.replay_id}}function cw(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function uw(e,t){return e.recordingMode!=="buffer"||t.message===Pa||!t.exception||t.type?!1:Zf(e.getOptions().errorSampleRate)}function lw(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(Xx(t))return delete t.breadcrumbs,t;if(!qa(t)&&!Ho(t)&&!Lu(t))return t;if(!e.checkAndHandleExpiredSession())return op(),t;if(Lu(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),cw(e,t),t;if(aw(t,n)&&!e.getOptions()._experiments.captureExceptions)return U&&$.log("Ignoring error from rrweb internals",t),null;const s=uw(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const a=e.session;a.dirty=!0,e.getOptions().stickySession&&vi(a)}return t},{id:"Replay"})}function xi(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function dw(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function fw(e){return t=>{if(!e.isEnabled())return;const n=dw(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(xi(e,[n]),!1)))}}function pw(e,t){return U&&e.getOptions()._experiments.traceInternals?!1:Ky(t,X())}function ap(e,t){e.isEnabled()&&t!==null&&(pw(e,t.name)||e.addUpdate(()=>(xi(e,[t]),!0)))}function wi(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=bf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function cp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ii(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function up(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:c}}}function $r(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Yt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=hw(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function zo(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function hw(e){if(!e||typeof e!="string")return{body:e};const t=e.length>mu,n=mw(e);if(t){const r=e.slice(0,mu);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function mw(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function oi(e,t){const n=gw(e);return It(n,t)}function gw(e,t=de.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(de.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function yw(e,t,n){try{const r=await Sw(e,t,n),s=up("resource.fetch",r);ap(n.replay,s)}catch(r){U&&$.exception(r,"Failed to capture fetch breadcrumb")}}function _w(e,t){const{input:n,response:r}=t,s=n?vf(n):void 0,i=wi(s),o=r?cp(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function Sw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=oi(o,n.networkDetailAllowUrls)&&!oi(o,n.networkDetailDenyUrls),f=d?bw(n,t.input,u):$r(u),m=await Ew(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:m}}function bw({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?ww(n,t):{};if(!e)return Yt(s,r,void 0);const i=vf(n),[o,a]=Ef(i,$),c=Yt(s,r,o);return a?ii(c,a):c}async function Ew(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return $r(s);const i=r?lp(r.headers,n):{};if(!r||!t&&s!==void 0)return Yt(i,s,void 0);const[o,a]=await xw(r),c=vw(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?ii(c,a):c}function vw(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?wi(e):n;return r?t?Yt(s,i,e):Yt(s,i,void 0):$r(i)}catch(i){return U&&$.exception(i,"Failed to serialize response body"),Yt(s,n,void 0)}}async function xw(e){const t=Tw(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Iw(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(U&&$.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(U&&$.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function lp(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function ww(e,t){return e.length===1&&typeof e[0]!="string"?Du(e[0],t):e.length===2?Du(e[1],t):{}}function Du(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?lp(n,t):Array.isArray(n)?{}:zo(n,t):{}}function Tw(e){try{return e.clone()}catch(t){U&&$.exception(t,"Failed to clone response body")}}function Iw(e){return new Promise((t,n)=>{const r=as(()=>n(new Error("Timeout while trying to read response body")),500);Rw(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Rw(e){return await e.text()}async function kw(e,t,n){try{const r=Aw(e,t,n),s=up("resource.xhr",r);ap(n.replay,s)}catch(r){U&&$.exception(r,"Failed to capture xhr breadcrumb")}}function Cw(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=wi(r),i=n.getResponseHeader("content-length")?cp(n.getResponseHeader("content-length")):Mw(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function Aw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!oi(c,n.networkDetailAllowUrls)||oi(c,n.networkDetailDenyUrls)){const k=$r(d),v=$r(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:k,response:v}}const m=a[dn],h=m?zo(m.request_headers,n.networkRequestHeaders):{},g=zo(xf(a),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?Ef(o,$):[void 0],[T,I]=n.networkCaptureBodies?Ow(a):[void 0],w=Yt(h,d,y),M=Yt(g,f,T);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:_?ii(w,_):w,response:I?ii(M,I):M}}function Ow(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Pw(e.response,e.responseType)}catch(n){t.push(n)}return U&&$.warn("Failed to get xhr response body",...t),[void 0]}function Pw(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return U&&$.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&$.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Mw(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return wi(n)}catch{return}}function Nw(e){const t=X();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>Lw(a,c,u))}catch{}}function Lw(e,t,n){if(t.data)try{Dw(t)&&jw(n)&&(Cw(t,n),kw(t,n,e)),Fw(t)&&Bw(n)&&(_w(t,n),yw(t,n,e))}catch(r){U&&$.exception(r,"Error when enriching network breadcrumb")}}function Dw(e){return e.category==="xhr"}function Fw(e){return e.category==="fetch"}function jw(e){return e==null?void 0:e.xhr}function Bw(e){return e==null?void 0:e.response}function Uw(e){const t=X();yf(yx(e)),_i(fw(e)),rw(e),Nw(e);const n=lw(e);hy(n),t&&(t.on("beforeSendEvent",tw(e)),t.on("afterSendEvent",Qx(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function $w(e){try{return Promise.all(xi(e,[Hw(de.performance.memory)]))}catch{return[]}}function Hw(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function zw(e,t,n){return e_(e,t,{...n,setTimeoutImpl:as})}const Je=ee.navigator;function Ww(){return/iPhone|iPad|iPod/i.test((Je==null?void 0:Je.userAgent)??"")||/Macintosh/i.test((Je==null?void 0:Je.userAgent)??"")&&(Je!=null&&Je.maxTouchPoints)&&(Je==null?void 0:Je.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function qw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){U&&$.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&fx(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Wa(e,n,s))return!0;if(!s)return!1;const i=e.session;if(Gw(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(U&&$.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&vi(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Vw(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Gw(e,t){!t||!e.session||e.session.segmentId!==0||Wa(e,Vw(e),!1)}function Kw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Yw(e,t,n,r){return sn(_d(e,ha(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Jw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function Xw({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await wd(e.getOptions(),r,i,t,e,Ze());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:l}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:l},o}async function Qw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Jw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=X(),f=ae(),m=d==null?void 0:d.getTransport(),h=d==null?void 0:d.getDsn();if(!d||!m||!h||!i.sampled)return Promise.resolve({});const g={type:kE,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await Xw({scope:f,client:d,replayId:t,event:g});if(!y)return d.recordDroppedEvent("event_processor","replay"),U&&$.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const _=Yw(y,o,h,d.getOptions().tunnel);let T;try{T=await m.send(_)}catch(w){const M=new Error(Pa);try{M.cause=w}catch{}throw M}const I=Fd({},T);if(Dd(I,"replay"))throw new Va(I);if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new dp(T.statusCode);return T}class dp extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Va extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class Fu extends Error{constructor(){super("Session is too long, not sending replay")}}async function fp(e,t={count:0,interval:NE}){const{recordingData:n,onError:r}=e;if(n.length)try{return await Qw(e),!0}catch(s){if(s instanceof dp||s instanceof Va)throw s;if(Id("Replays",{_retryCount:t.count}),r&&r(s),t.count>=LE){const i=new Error(`${Pa} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{as(async()=>{try{await fp(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const pp="__THROTTLED",Zw="__SKIPPED";function e0(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?Zw:pp}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class t0{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:CE,sessionIdleExpire:AE},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=zw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=e0((o,a)=>Yx(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(DE,r),timeout:r,scrollTimeout:FE,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new cx(this,i)),U){const o=t._experiments;$.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{de.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=gt({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=gt({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{Ex(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){U&&$.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){U&&$.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",U&&$.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){U&&$.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){U&&$.log("Buffering is in progress, call `flush()` to save the replay");return}U&&$.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=to({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){U&&$.log("Buffering is in progress, call `flush()` to save the replay");return}U&&$.infoTick("Starting replay in buffer mode");const t=to({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=kt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:ME}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:qw(this),...Ww(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{U&&$.log(`Stopping Replay${n?` triggered by ${n}`:""}`),op(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,Wx(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),U&&$.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),U&&$.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();U&&$.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&$o(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${de.location.pathname}${de.location.hash}${de.location.search}`,n=`${de.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===pp){const s=gt({category:"replay.throttled"});this.addUpdate(()=>!Wa(this,{type:tx,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Ne(),n=t&&Ce(t),s=(n&&se(n).data||{})[ut];if(!(!n||!s||!["route","custom"].includes(s)))return se(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=$x({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=to({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return np(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{de.document.addEventListener("visibilitychange",this._handleVisibilityChange),de.addEventListener("blur",this._handleWindowBlur),de.addEventListener("focus",this._handleWindowFocus),de.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Uw(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Nx(this)}_removeListeners(){try{de.document.removeEventListener("visibilitychange",this._handleVisibilityChange),de.removeEventListener("blur",this._handleWindowBlur),de.removeEventListener("focus",this._handleWindowFocus),de.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||tp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){U&&$.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Tx(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(xi(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){U&&$.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await $w(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Fu;const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await fp({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=X();if(s){let i;r instanceof Va?i="ratelimit_backoff":r instanceof Fu?i="invalid":i="send_error",s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){U&&$.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){U&&$.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&U&&$.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&vi(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=Kw(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const a=gt({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Ir(e,t){return[...e,...t].join(",")}function n0({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=Ir(e,[".sentry-mask","[data-sentry-mask]"]),a=Ir(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Ir(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Ir(r,[]),ignoreSelector:Ir(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function r0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const ju='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',s0=["content-length","content-type","accept"],i0=Symbol.for("sentry__originalRequestBody");let Bu=!1,Uu=!1;function o0(){if(typeof Request>"u"||Uu)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[i0]=r.body),s};t.prototype=e.prototype,ee.Request=t,Uu=!0}catch{}}const a0=e=>new c0(e);class c0{constructor({flushMinDelay:t=OE,flushMaxDelay:n=PE,minReplayDuration:r=jE,maxReplayDuration:s=gu,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:l=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:m=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:T=!0,networkRequestHeaders:I=[],networkResponseHeaders:w=[],mask:M=[],maskAttributes:k=["title","placeholder","aria-label"],unmask:v=[],block:A=[],unblock:D=[],ignore:E=[],maskFn:P,beforeAddRecordingEvent:N,beforeErrorSampling:B,onError:F,attachRawBodyFromRequest:ce=!1}={}){this.name="Replay";const V=n0({mask:M,unmask:v,block:A,unblock:D,ignore:E});if(this._recordingOptions={maskAllInputs:l,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(Z,C,K)=>r0({maskAttributes:k,maskAllText:u,privacyOptions:V,key:Z,value:C,el:K}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Z=>{try{Z.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,BE),maxReplayDuration:Math.min(s,gu),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:d,maskAllInputs:l,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:m,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:T,networkRequestHeaders:$u(I),networkResponseHeaders:$u(w),beforeAddRecordingEvent:N,beforeErrorSampling:B,onError:F,attachRawBodyFromRequest:ce,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ju}`:ju,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Io())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Bu}set _isInitialized(t){Bu=t}afterAllSetup(t){!Io()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&o0(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=u0(this._initialOptions,t);this._replay=new t0({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function u0(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=In(n.replaysSessionSampleRate),i=In(n.replaysOnErrorSampleRate);return s==null&&i==null&&On(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function $u(e){return[...s0,...e.map(t=>t.toLowerCase())]}function l0(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function hp(e){try{return new URL(e,J.location.origin).href}catch{return}}function d0(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function mp(e){try{return new Headers(e)}catch{return}}const Hu=new WeakMap,no=new Map,gp={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function f0(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...gp,...t},l=typeof i=="function"?i:h=>!0,d=h=>p0(h,a),f={},m=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const y=no.get(g.span_id);y&&(g.timestamp=y/1e3,no.delete(g.span_id))}}),h)),s&&F_(h=>{if(h.response){const g=Hu.get(h.response);g&&h.endTimestamp&&no.set(g,h.endTimestamp)}}),Xd(h=>{const g=k_(h,l,d,f,{propagateTraceparent:m,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&Hu.set(h.response,h.fetchData.__span),g){const y=hp(h.fetchData.url),_=y?xn(y).host:void 0;g.setAttributes({"http.url":y?Gt(y):void 0,"server.address":_}),o&&zu(g),c==null||c(g,{headers:h.headers})}})),r&&Sf(h=>{var y;const g=h0(h,l,d,f,m,u);g&&(o&&zu(g),c==null||c(g,{headers:mp((y=h.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function zu(e){const{url:t}=se(e).data;if(!t||typeof t!="string")return;const n=kn("resource",({entries:r})=>{r.forEach(s=>{d0(s)&&s.name.endsWith(t)&&(e.setAttributes(gf(s)),setTimeout(n))})})}function p0(e,t){const n=mr();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?It(r.toString(),t)||i&&It(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?It(e,t):r}}function h0(e,t,n,r,s,i){const o=e.xhr,a=o==null?void 0:o[dn];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=lt()&&t(c);if(e.endTimestamp&&l){const _=o.__sentry_xhr_span_id__;if(!_)return;const T=r[_];T&&a.status_code!==void 0&&(td(T,a.status_code),T.end(),i==null||i(T,{headers:mp(xf(o)),error:e.error}),delete r[_]);return}const d=hp(c),f=xn(d||c),m=Gt(Gy(c)),h=!!Ne(),g=l&&h?Sr({name:`${u} ${m}`,attributes:{url:Gt(c),type:"xhr","http.method":u,"http.url":d?Gt(d):void 0,"server.address":f==null?void 0:f.host,[ve]:"auto.http.browser",[Pt]:"http.client",...(f==null?void 0:f.search)&&{"http.query":f==null?void 0:f.search},...(f==null?void 0:f.hash)&&{"http.fragment":f==null?void 0:f.hash}}}):new Qt;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(c)&&m0(o,lt()&&h?g:void 0,s);const y=X();return y&&y.emit("beforeOutgoingRequestSpan",g,e),g}function m0(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=qd({span:t,propagateTraceparent:n});r&&g0(e,r,s,i)}function g0(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!l0(o))&&e.setRequestHeader("baggage",n)}}catch{}}function y0(){J.document?J.document.addEventListener("visibilitychange",()=>{const e=Ne();if(!e)return;const t=Ce(e);if(J.document.hidden&&t){const n="cancelled",{op:r,status:s}=se(t);ze&&O.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Ee,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ze&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const _0=3600,yp="sentry_previous_trace",S0="sentry.previous_trace";function b0(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?x0():void 0;e.on("spanStart",o=>{if(Ce(o)!==o)return;const a=ae().getPropagationContext();s=E0(s,o,a),r&&v0(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=ae(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Wo(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=Wo(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[ed]:s.sampleRate}})}function E0(e,t,n){const r=se(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[ca])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=_0&&(ze&&O.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Fm]:"previous_trace"}}),t.setAttribute(S0,`${o.traceId}-${o.spanId}-${Wo(o)?1:0}`)),i)}function v0(e){try{J.sessionStorage.setItem(yp,JSON.stringify(e))}catch(t){ze&&O.warn("Could not store previous trace in sessionStorage",t)}}function x0(){var e;try{const t=(e=J.sessionStorage)==null?void 0:e.getItem(yp);return JSON.parse(t)}catch{return}}function Wo(e){return e.traceFlags===1}const w0="BrowserTracing",T0={...Ms,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...gp},I0=(e={})=>{const t={name:void 0,source:void 0},n=J.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:f,childSpanTimeout:m,markBackgroundSpan:h,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:T,enableHTTPTimings:I,ignoreResourceSpans:w,ignorePerformanceApiSpans:M,instrumentPageLoad:k,instrumentNavigation:v,detectRedirects:A,linkPreviousTrace:D,consistentTraceSampling:E,enableReportPageLoaded:P,onRequestSpanStart:N,onRequestSpanEnd:B}={...T0,...e};let F,ce,V;function Z(C,K,L=!0){const G=K.op==="pageload",Q=K.name,ie=l?l(K):K,fe=ie.attributes||{};if(Q!==ie.name&&(fe[ut]="custom",ie.attributes=fe),!L){const Le=Pn();Sr({...ie,startTime:Le}).end(Le);return}t.name=ie.name,t.source=fe[ut];const be=xd(ie,{idleTimeout:d,finalTimeout:f,childSpanTimeout:m,disableAutoFinish:G,beforeSpanEnd:Le=>{F==null||F(),GS(Le,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:M}),Vu(C,void 0);const St=ae(),Ln=St.getPropagationContext();St.setPropagationContext({...Ln,traceId:be.spanContext().traceId,sampled:rn(be),dsc:Mt(Le)}),G&&(V=void 0)},trimIdleSpanEndTimestamp:!P});G&&P&&(V=be),Vu(C,be);function _t(){n&&["interactive","complete"].includes(n.readyState)&&C.emit("idleSpanEnableAutoFinish",be)}G&&!P&&n&&(n.addEventListener("readystatechange",()=>{_t()}),_t())}return{name:w0,setup(C){if(fg(),F=US({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:C}),r&&Sb(),s&&ib(),o&&ee.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?HS():i&&$S(),a&&zS(),A&&n){const L=()=>{ce=Te()};addEventListener("click",L,{capture:!0}),addEventListener("keydown",L,{capture:!0,passive:!0})}function K(){const L=Hr(C);L&&!se(L).timestamp&&(ze&&O.log(`[Tracing] Finishing current active span with op: ${se(L).op}`),L.setAttribute(Lr,"cancelled"),L.end())}C.on("startNavigationSpan",(L,G)=>{if(X()!==C)return;if(G!=null&&G.isRedirect){ze&&O.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Z(C,{op:"navigation.redirect",...L},!1);return}ce=void 0,K(),Ze().setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:Rt()});const Q=ae();Q.setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:Rt()}),Q.setSDKProcessingMetadata({normalizedRequest:void 0}),Z(C,{op:"navigation",...L,parentSpan:null,forceTransaction:!0})}),C.on("startPageLoadSpan",(L,G={})=>{if(X()!==C)return;K();const Q=G.sentryTrace||Wu("sentry-trace")||qu("sentry-trace"),ie=G.baggage||Wu("baggage")||qu("baggage"),fe=rg(Q,ie),be=ae();be.setPropagationContext(fe),lt()||(be.getPropagationContext().propagationSpanId=Rt()),be.setSDKProcessingMetadata({normalizedRequest:va()}),Z(C,{op:"pageload",...L})}),C.on("endPageloadSpan",()=>{P&&V&&(V.setAttribute(Lr,"reportPageLoaded"),V.end())})},afterAllSetup(C){let K=mr();if(D!=="off"&&b0(C,{linkPreviousTrace:D,consistentTraceSampling:E}),J.location){if(k){const L=We();R0(C,{name:J.location.pathname,startTime:L?L/1e3:void 0,attributes:{[ut]:"url",[ve]:"auto.pageload.browser"}})}v&&_i(({to:L,from:G})=>{if(G===void 0&&(K==null?void 0:K.indexOf(L))!==-1){K=void 0;return}K=void 0;const Q=Ea(L),ie=Hr(C),fe=ie&&A&&A0(ie,ce);k0(C,{name:(Q==null?void 0:Q.pathname)||J.location.pathname,attributes:{[ut]:"url",[ve]:"auto.navigation.browser"}},{url:L,isRedirect:fe})})}h&&y0(),a&&C0(C,d,f,m,t),r&&vb(),f0(C,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:_,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:I,onRequestSpanStart:N,onRequestSpanEnd:B})}}};function R0(e,t,n){e.emit("startPageLoadSpan",t,n),ae().setTransactionName(t.name);const r=Hr(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function k0(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=ae();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...va(),url:r}}),Hr(e)}function Wu(e){const t=J.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function qu(e){var r,s,i;const t=(s=(r=J.performance)==null?void 0:r.getEntriesByType)==null?void 0:s.call(r,"navigation")[0],n=(i=t==null?void 0:t.serverTiming)==null?void 0:i.find(o=>o.name===e);return n==null?void 0:n.description}function C0(e,t,n,r,s){const i=J.document;let o;const a=()=>{const c="ui.action.click",u=Hr(e);if(u){const l=se(u).op;if(["navigation","pageload"].includes(l)){ze&&O.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Lr,"interactionInterrupted"),o.end(),o=void 0),!s.name){ze&&O.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=xd({name:s.name,op:c,attributes:{[ut]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const _p="_sentry_idleSpan";function Hr(e){return e[_p]}function Vu(e,t){He(e,_p,t)}const Gu=1.5;function A0(e,t){const n=se(e),r=Pn(),s=n.start_timestamp;return!(r-s>Gu||t&&r-t<=Gu)}function O0(e){const t={...e};return Wd(t,"react"),Id("react",{version:S.version}),RE(t)}function P0(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function M0(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function N0(e,{componentStack:t},n){if(P0(S.version)&&Kr(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,M0(e,r)}return yr(r=>(r.setContext("react",{componentStack:t}),mi(e,n)))}const L0=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ro={componentStack:null,error:null,eventId:null};let D0=class extends S.Component{constructor(t){super(t),this.state=ro,this._openFallbackReportDialog=!0;const n=X();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&hu({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;yr(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,l=N0(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});i&&i(t,r,l),o&&(this._lastEventId=l,this._openFallbackReportDialog&&hu({...a,eventId:l})),this.setState({error:t,componentStack:r,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===ro?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(ro)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?S.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return S.isValidElement(s)?s:(t&&L0&&O.warn("fallback did not produce a valid ReactElement"),null)}};const F0="modulepreload",j0=function(e){return"/"+e},Ku={},xe=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=j0(c),c in Ku)return;Ku[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":F0,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},R={purplePrimary:"#1d1a3b",purpleBright:"#1d1a3b",purpleAccent:"#1d1a3b",purpleHover:"#2a2660",purpleGlow:"transparent",bgDeep:"#f3f3f3",bgCoolWhite:"#f9f9fb",bgPanel:"rgba(0,0,0,0.018)",accentGreen:"#2e844a",accentAmber:"#dd7a01",accentBlue:"#0176d3",accentRed:"#ea001b",textPrimary:"#181818",textSecondary:"#444444",textTertiary:"#666666",textDim:"#8a909c",cardSurface:"#ffffff",borderGlass:"#dddbda",borderSubtle:"#e8e8e8",hairline:"#c9c7c5",hairline2:"#b8b6b4",glassBg:"rgba(255,255,255,0.92)",glassBorder:"#dddbda",glassInset:"rgba(255,255,255,0.70)",glassShadow1:"rgba(0,0,0,0.04)",glassShadow2:"rgba(0,0,0,0.06)",frostChrome:"blur(18px) saturate(1.2)",frostPanel:"blur(14px) saturate(1.1)",frostGlass:"blur(22px) saturate(1.3)",frostModal:"blur(18px) saturate(1.2)",frostOverlay:"blur(6px)",frostToast:"blur(10px)",serif:"Georgia, 'Source Serif 4', serif",mono:"'IBM Plex Mono', Consolas, monospace",sans:"'Inter', system-ui, sans-serif",spacing:{xs:"4px",small:"8px",medium:"16px",large:"24px",xl:"32px",xxl:"48px"},statusGreen:{border:"rgba(46,132,74,.25)",text:"#2e844a",bg:"rgba(46,132,74,.06)"},statusAmber:{border:"rgba(221,122,1,.28)",text:"#dd7a01",bg:"rgba(221,122,1,.07)"},statusRed:{border:"rgba(234,0,27,.22)",text:"#ea001b",bg:"rgba(234,0,27,.05)"},transitionFast:"all 0.12s ease",transitionBase:"all 0.18s ease",transitionSlow:"all 0.28s ease"};class B0 extends Xt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?p.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:R.bgDeep,padding:"24px"},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:440},children:[p.jsx("div",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:9,letterSpacing:2.5,textTransform:"uppercase",color:"rgba(180,52,52,0.6)",marginBottom:12},children:"System Error"}),p.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:28,fontWeight:200,color:R.textPrimary,marginBottom:8},children:"Something went wrong"}),p.jsx("p",{style:{fontFamily:"Consolas, monospace",fontSize:12,color:"rgba(15,18,30,.56)",lineHeight:1.6,marginBottom:24},children:"An unexpected error occurred. Your data is safe."}),p.jsx("button",{onClick:()=>window.location.reload(),style:{appearance:"none",background:"transparent",border:"1px solid rgba(29,26,59,0.25)",color:R.purpleBright,padding:"12px 24px",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2.5,textTransform:"uppercase",cursor:"pointer"},children:"Reload"})]})}):this.props.children}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const Yu="popstate";function U0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return qo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ai(s)}return H0(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ga(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $0(){return Math.random().toString(36).substr(2,8)}function Ju(e,t){return{usr:e.state,key:e.key,idx:t}}function qo(e,t,n,r){return n===void 0&&(n=null),zr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vr(t):t,{state:n,key:t&&t.key||r||$0()})}function ai(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qt.Pop,c=null,u=l();u==null&&(u=0,o.replaceState(zr({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=qt.Pop;let y=l(),_=y==null?null:y-u;u=y,c&&c({action:a,location:g.location,delta:_})}function f(y,_){a=qt.Push;let T=qo(g.location,y,_);u=l()+1;let I=Ju(T,u),w=g.createHref(T);try{o.pushState(I,"",w)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(w)}i&&c&&c({action:a,location:g.location,delta:1})}function m(y,_){a=qt.Replace;let T=qo(g.location,y,_);u=l();let I=Ju(T,u),w=g.createHref(T);o.replaceState(I,"",w),i&&c&&c({action:a,location:g.location,delta:0})}function h(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof y=="string"?y:ai(y);return T=T.replace(/ $/,"%20"),ye(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let g={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yu,d),c=y,()=>{s.removeEventListener(Yu,d),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let _=h(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var Xu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xu||(Xu={}));function z0(e,t,n){return n===void 0&&(n="/"),W0(e,t,n)}function W0(e,t,n,r){let s=typeof t=="string"?vr(t):t,i=Ka(s.pathname||"/",n);if(i==null)return null;let o=Sp(e);q0(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=rT(i);a=eT(o[c],u)}return a}function Sp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jt([r,c.relativePath]),l=n.concat(c);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sp(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Q0(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of bp(i.path))s(i,o,c)}),t}function bp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=bp(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function q0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V0=/^:[\w-]+$/,G0=3,K0=2,Y0=1,J0=10,X0=-2,Qu=e=>e==="*";function Q0(e,t){let n=e.split("/"),r=n.length;return n.some(Qu)&&(r+=X0),t&&(r+=K0),n.filter(s=>!Qu(s)).reduce((s,i)=>s+(V0.test(i)?G0:i===""?Y0:J0),r)}function Z0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function eT(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,l=i==="/"?t:t.slice(i.length)||"/",d=tT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),f=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Jt([i,d.pathname]),pathnameBase:cT(Jt([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Jt([i,d.pathnameBase]))}return o}function tT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:f,isOptional:m}=l;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[d];return m&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function nT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ga(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function rT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ga(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=e=>sT.test(e);function oT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?vr(e):e,i;if(n)if(iT(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Ga(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Zu(n.substring(1),"/"):i=Zu(n,t)}else i=t;return{pathname:i,search:uT(r),hash:lT(s)}}function Zu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function so(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ya(e,t){let n=aT(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ja(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=vr(e):(s=zr({},e),ye(!s.pathname||!s.pathname.includes("?"),so("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),so("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),so("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=oT(s,a),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),cT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ep=["post","put","patch","delete"];new Set(Ep);const fT=["get",...Ep];new Set(fT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}const Xa=S.createContext(null),pT=S.createContext(null),on=S.createContext(null),Ti=S.createContext(null),Nt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),vp=S.createContext(null);function hT(e,t){let{relative:n}=t===void 0?{}:t;xr()||ye(!1);let{basename:r,navigator:s}=S.useContext(on),{hash:i,pathname:o,search:a}=wp(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jt([r,o])),s.createHref({pathname:c,search:a,hash:i})}function xr(){return S.useContext(Ti)!=null}function Nn(){return xr()||ye(!1),S.useContext(Ti).location}function xp(e){S.useContext(on).static||S.useLayoutEffect(e)}function Ii(){let{isDataRoute:e}=S.useContext(Nt);return e?RT():mT()}function mT(){xr()||ye(!1);let e=S.useContext(Xa),{basename:t,future:n,navigator:r}=S.useContext(on),{matches:s}=S.useContext(Nt),{pathname:i}=Nn(),o=JSON.stringify(Ya(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return xp(()=>{a.current=!0}),S.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Ja(u,JSON.parse(o),i,l.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Jt([t,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[t,r,o,i,e])}function rk(){let{matches:e}=S.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function wp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(on),{matches:s}=S.useContext(Nt),{pathname:i}=Nn(),o=JSON.stringify(Ya(s,r.v7_relativeSplatPath));return S.useMemo(()=>Ja(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function gT(e,t){return yT(e,t)}function yT(e,t,n,r){xr()||ye(!1);let{navigator:s}=S.useContext(on),{matches:i}=S.useContext(Nt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Nn(),l;if(t){var d;let y=typeof t=="string"?vr(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||ye(!1),l=y}else l=u;let f=l.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=z0(e,{pathname:m}),g=vT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Jt([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Jt([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?S.createElement(Ti.Provider,{value:{location:Wr({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:qt.Pop}},g):g}function _T(){let e=IT(),t=dT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const ST=S.createElement(_T,null);class bT extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Nt.Provider,{value:this.props.routeContext},S.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ET(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(Xa);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Nt.Provider,{value:t},r)}function vT(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||ye(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:f,errors:m}=n,h=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,f)=>{let m,h=!1,g=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||ST,c&&(u<0&&f===0?(kT("route-fallback"),h=!0,y=null):u===f&&(h=!0,y=d.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,f+1)),T=()=>{let I;return m?I=g:h?I=y:d.route.Component?I=S.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=l,S.createElement(ET,{match:d,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(bT,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var Tp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tp||{}),Ip=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ip||{});function xT(e){let t=S.useContext(Xa);return t||ye(!1),t}function wT(e){let t=S.useContext(pT);return t||ye(!1),t}function TT(e){let t=S.useContext(Nt);return t||ye(!1),t}function Rp(e){let t=TT(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function IT(){var e;let t=S.useContext(vp),n=wT(),r=Rp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function RT(){let{router:e}=xT(Tp.UseNavigateStable),t=Rp(Ip.UseNavigateStable),n=S.useRef(!1);return xp(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wr({fromRouteId:t},i)))},[e,t])}const el={};function kT(e,t,n){el[e]||(el[e]=!0)}function CT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ln(e){let{to:t,replace:n,state:r,relative:s}=e;xr()||ye(!1);let{future:i,static:o}=S.useContext(on),{matches:a}=S.useContext(Nt),{pathname:c}=Nn(),u=Ii(),l=Ja(t,Ya(a,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(l);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function he(e){ye(!1)}function AT(e){let{basename:t="/",children:n=null,location:r,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=e;xr()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:Wr({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=vr(r));let{pathname:l="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,g=S.useMemo(()=>{let y=Ka(l,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:h},navigationType:s}},[c,l,d,f,m,h,s]);return g==null?null:S.createElement(on.Provider,{value:u},S.createElement(Ti.Provider,{children:n,value:g}))}function OT(e){let{children:t,location:n}=e;return gT(Vo(t),n)}new Promise(()=>{});function Vo(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,Vo(r.props.children,i));return}r.type!==he&&ye(!1),!r.props.index||!r.props.children||ye(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}function PT(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function MT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NT(e,t){return e.button===0&&(!t||t==="_self")&&!MT(e)}function Ko(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function LT(e,t){let n=Ko(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const DT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FT="6";try{window.__reactRouterVersion=FT}catch{}const jT="startTransition",tl=sh[jT];function BT(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=U0({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},l=S.useCallback(d=>{u&&tl?tl(()=>c(d)):c(d)},[c,u]);return S.useLayoutEffect(()=>o.listen(l),[o,l]),S.useEffect(()=>CT(r),[r]),S.createElement(AT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const UT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nl=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:l,viewTransition:d}=t,f=PT(t,DT),{basename:m}=S.useContext(on),h,g=!1;if(typeof u=="string"&&$T.test(u)&&(h=u,UT))try{let I=new URL(window.location.href),w=u.startsWith("//")?new URL(I.protocol+u):new URL(u),M=Ka(w.pathname,m);w.origin===I.origin&&M!=null?u=M+w.search+w.hash:g=!0}catch{}let y=hT(u,{relative:s}),_=HT(u,{replace:o,state:a,target:c,preventScrollReset:l,relative:s,viewTransition:d});function T(I){r&&r(I),I.defaultPrevented||_(I)}return S.createElement("a",Go({},f,{href:h||y,onClick:g||i?r:T,ref:n,target:c}))});var rl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rl||(rl={}));var sl;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sl||(sl={}));function HT(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ii(),u=Nn(),l=wp(e,{relative:o});return S.useCallback(d=>{if(NT(d,n)){d.preventDefault();let f=r!==void 0?r:ai(u)===ai(l);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,l,r,s,n,e,i,o,a])}function sk(e){let t=S.useRef(Ko(e)),n=S.useRef(!1),r=Nn(),s=S.useMemo(()=>LT(r.search,n.current?null:t.current),[r.search]),i=Ii(),o=S.useCallback((a,c)=>{const u=Ko(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function ik(e,t){let{capture:n}={};S.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",e,r),()=>{window.removeEventListener("beforeunload",e,r)}},[e,n])}function kp(e,t){return function(){return e.apply(t,arguments)}}const{toString:zT}=Object.prototype,{getPrototypeOf:Qa}=Object,{iterator:Ri,toStringTag:Cp}=Symbol,ki=(e=>t=>{const n=zT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dt=e=>(e=e.toLowerCase(),t=>ki(t)===e),Ci=e=>t=>typeof t===e,{isArray:wr}=Array,dr=Ci("undefined");function ls(e){return e!==null&&!dr(e)&&e.constructor!==null&&!dr(e.constructor)&&Be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ap=dt("ArrayBuffer");function WT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ap(e.buffer),t}const qT=Ci("string"),Be=Ci("function"),Op=Ci("number"),ds=e=>e!==null&&typeof e=="object",VT=e=>e===!0||e===!1,Us=e=>{if(ki(e)!=="object")return!1;const t=Qa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cp in e)&&!(Ri in e)},GT=e=>{if(!ds(e)||ls(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},KT=dt("Date"),YT=dt("File"),JT=dt("Blob"),XT=dt("FileList"),QT=e=>ds(e)&&Be(e.pipe),ZT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Be(e.append)&&((t=ki(e))==="formdata"||t==="object"&&Be(e.toString)&&e.toString()==="[object FormData]"))},eI=dt("URLSearchParams"),[tI,nI,rI,sI]=["ReadableStream","Request","Response","Headers"].map(dt),iI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),wr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ls(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Pp(e,t){if(ls(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mp=e=>!dr(e)&&e!==pn;function Yo(){const{caseless:e,skipUndefined:t}=Mp(this)&&this||{},n={},r=(s,i)=>{const o=e&&Pp(n,i)||i;Us(n[o])&&Us(s)?n[o]=Yo(n[o],s):Us(s)?n[o]=Yo({},s):wr(s)?n[o]=s.slice():(!t||!dr(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&fs(arguments[s],r);return n}const oI=(e,t,n,{allOwnKeys:r}={})=>(fs(t,(s,i)=>{n&&Be(s)?Object.defineProperty(e,i,{value:kp(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),aI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},uI=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Qa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},dI=e=>{if(!e)return null;if(wr(e))return e;let t=e.length;if(!Op(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},fI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qa(Uint8Array)),pI=(e,t)=>{const r=(e&&e[Ri]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},hI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},mI=dt("HTMLFormElement"),gI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),il=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yI=dt("RegExp"),Np=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fs(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},_I=e=>{Np(e,(t,n)=>{if(Be(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Be(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},SI=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return wr(e)?r(e):r(String(e).split(t)),n},bI=()=>{},EI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vI(e){return!!(e&&Be(e.append)&&e[Cp]==="FormData"&&e[Ri])}const xI=e=>{const t=new Array(10),n=(r,s)=>{if(ds(r)){if(t.indexOf(r)>=0)return;if(ls(r))return r;if(!("toJSON"in r)){t[s]=r;const i=wr(r)?[]:{};return fs(r,(o,a)=>{const c=n(o,s+1);!dr(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},wI=dt("AsyncFunction"),TI=e=>e&&(ds(e)||Be(e))&&Be(e.then)&&Be(e.catch),Lp=((e,t)=>e?setImmediate:t?((n,r)=>(pn.addEventListener("message",({source:s,data:i})=>{s===pn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Be(pn.postMessage)),II=typeof queueMicrotask<"u"?queueMicrotask.bind(pn):typeof process<"u"&&process.nextTick||Lp,RI=e=>e!=null&&Be(e[Ri]),b={isArray:wr,isArrayBuffer:Ap,isBuffer:ls,isFormData:ZT,isArrayBufferView:WT,isString:qT,isNumber:Op,isBoolean:VT,isObject:ds,isPlainObject:Us,isEmptyObject:GT,isReadableStream:tI,isRequest:nI,isResponse:rI,isHeaders:sI,isUndefined:dr,isDate:KT,isFile:YT,isBlob:JT,isRegExp:yI,isFunction:Be,isStream:QT,isURLSearchParams:eI,isTypedArray:fI,isFileList:XT,forEach:fs,merge:Yo,extend:oI,trim:iI,stripBOM:aI,inherits:cI,toFlatObject:uI,kindOf:ki,kindOfTest:dt,endsWith:lI,toArray:dI,forEachEntry:pI,matchAll:hI,isHTMLForm:mI,hasOwnProperty:il,hasOwnProp:il,reduceDescriptors:Np,freezeMethods:_I,toObjectSet:SI,toCamelCase:gI,noop:bI,toFiniteNumber:EI,findKey:Pp,global:pn,isContextDefined:Mp,isSpecCompliantForm:vI,toJSONObject:xI,isAsyncFn:wI,isThenable:TI,setImmediate:Lp,asap:II,isIterable:RI};let H=class Dp extends Error{static from(t,n,r,s,i,o){const a=new Dp(t.message,n||t.code,r,s,i);return a.cause=t,a.name=t.name,o&&Object.assign(a,o),a}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}};H.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";H.ERR_BAD_OPTION="ERR_BAD_OPTION";H.ECONNABORTED="ECONNABORTED";H.ETIMEDOUT="ETIMEDOUT";H.ERR_NETWORK="ERR_NETWORK";H.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";H.ERR_DEPRECATED="ERR_DEPRECATED";H.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";H.ERR_BAD_REQUEST="ERR_BAD_REQUEST";H.ERR_CANCELED="ERR_CANCELED";H.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";H.ERR_INVALID_URL="ERR_INVALID_URL";const kI=null;function Jo(e){return b.isPlainObject(e)||b.isArray(e)}function Fp(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function ol(e,t,n){return e?e.concat(t).map(function(s,i){return s=Fp(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function CI(e){return b.isArray(e)&&!e.some(Jo)}const AI=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function Ai(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!b.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(b.isDate(h))return h.toISOString();if(b.isBoolean(h))return h.toString();if(!c&&b.isBlob(h))throw new H("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(h)||b.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function l(h,g,y){let _=h;if(h&&!y&&typeof h=="object"){if(b.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(b.isArray(h)&&CI(h)||(b.isFileList(h)||b.endsWith(g,"[]"))&&(_=b.toArray(h)))return g=Fp(g),_.forEach(function(I,w){!(b.isUndefined(I)||I===null)&&t.append(o===!0?ol([g],w,i):o===null?g:g+"[]",u(I))}),!1}return Jo(h)?!0:(t.append(ol(y,g,i),u(h)),!1)}const d=[],f=Object.assign(AI,{defaultVisitor:l,convertValue:u,isVisitable:Jo});function m(h,g){if(!b.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(h),b.forEach(h,function(_,T){(!(b.isUndefined(_)||_===null)&&s.call(t,_,b.isString(T)?T.trim():T,g,f))===!0&&m(_,g?g.concat(T):[T])}),d.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return m(e),t}function al(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Za(e,t){this._pairs=[],e&&Ai(e,this,t)}const jp=Za.prototype;jp.append=function(t,n){this._pairs.push([t,n])};jp.toString=function(t){const n=t?function(r){return t.call(this,r,al)}:al;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function OI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bp(e,t,n){if(!t)return e;const r=n&&n.encode||OI,s=b.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=b.isURLSearchParams(t)?t.toString():new Za(t,s).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class cl{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Up={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PI=typeof URLSearchParams<"u"?URLSearchParams:Za,MI=typeof FormData<"u"?FormData:null,NI=typeof Blob<"u"?Blob:null,LI={isBrowser:!0,classes:{URLSearchParams:PI,FormData:MI,Blob:NI},protocols:["http","https","file","blob","url","data"]},ec=typeof window<"u"&&typeof document<"u",Xo=typeof navigator=="object"&&navigator||void 0,DI=ec&&(!Xo||["ReactNative","NativeScript","NS"].indexOf(Xo.product)<0),FI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jI=ec&&window.location.href||"http://localhost",BI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ec,hasStandardBrowserEnv:DI,hasStandardBrowserWebWorkerEnv:FI,navigator:Xo,origin:jI},Symbol.toStringTag,{value:"Module"})),ke={...BI,...LI};function UI(e,t){return Ai(e,new ke.classes.URLSearchParams,{visitor:function(n,r,s,i){return ke.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function $I(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function HI(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function $p(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,c?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=HI(s[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,s)=>{t($I(r),s,n,0)}),n}return null}function zI(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ps={transitional:Up,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return s?JSON.stringify($p(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return UI(t,this.formSerializer).toString();if((a=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ai(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),zI(t)):t}],transformResponse:[function(t){const n=this.transitional||ps.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?H.from(a,H.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ke.classes.FormData,Blob:ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{ps.headers[e]={}});const WI=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qI=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&WI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ul=Symbol("internals");function Rr(e){return e&&String(e).trim().toLowerCase()}function $s(e){return e===!1||e==null?e:b.isArray(e)?e.map($s):String(e)}function VI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const GI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function io(e,t,n,r,s){if(b.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function KI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function YI(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Ue=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const l=Rr(c);if(!l)throw new Error("header name must be a non-empty string");const d=b.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=$s(a))}const o=(a,c)=>b.forEach(a,(u,l)=>i(u,l,c));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!GI(t))o(qI(t),n);else if(b.isObject(t)&&b.isIterable(t)){let a={},c,u;for(const l of t){if(!b.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?b.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Rr(t),t){const r=b.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return VI(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Rr(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||io(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Rr(o),o){const a=b.findKey(r,o);a&&(!n||io(r,r[a],a,n))&&(delete r[a],s=!0)}}return b.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||io(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=$s(s),delete n[i];return}const a=t?KI(i):String(i).trim();a!==i&&delete n[i],n[a]=$s(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ul]=this[ul]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Rr(o);r[a]||(YI(s,o),r[a]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}};Ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(Ue.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods(Ue);function oo(e,t){const n=this||ps,r=t||n,s=Ue.from(r.headers);let i=r.data;return b.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Hp(e){return!!(e&&e.__CANCEL__)}let hs=class extends H{constructor(t,n,r){super(t??"canceled",H.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function zp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new H("Request failed with status code "+n.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function XI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),n[s]=c,r[s]=u;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const m=l&&u-l;return m?Math.round(f*1e3/m):void 0}}function QI(e,t){let n=0,r=1e3/t,s,i;const o=(u,l=Date.now())=>{n=l,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),d=l-n;d>=r?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const ci=(e,t,n=3)=>{let r=0;const s=XI(50,250);return QI(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},ll=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},dl=e=>(...t)=>b.asap(()=>e(...t)),ZI=ke.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ke.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ke.origin),ke.navigator&&/(msie|trident)/i.test(ke.navigator.userAgent)):()=>!0,eR=ke.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];b.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),b.isString(r)&&a.push(`path=${r}`),b.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wp(e,t,n){let r=!tR(t);return e&&(r||n==!1)?nR(e,t):t}const fl=e=>e instanceof Ue?{...e}:e;function Cn(e,t){t=t||{};const n={};function r(u,l,d,f){return b.isPlainObject(u)&&b.isPlainObject(l)?b.merge.call({caseless:f},u,l):b.isPlainObject(l)?b.merge({},l):b.isArray(l)?l.slice():l}function s(u,l,d,f){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u,d,f)}else return r(u,l,d,f)}function i(u,l){if(!b.isUndefined(l))return r(void 0,l)}function o(u,l){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in t)return r(u,l);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(fl(u),fl(l),d,!0)};return b.forEach(Object.keys({...e,...t}),function(l){const d=c[l]||s,f=d(e[l],t[l],l);b.isUndefined(f)&&d!==a||(n[l]=f)}),n}const qp=e=>{const t=Cn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Ue.from(o),t.url=Bp(Wp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(n)){if(ke.hasStandardBrowserEnv||ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(ke.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(t)),r||r!==!1&&ZI(t.url))){const c=s&&i&&eR.read(i);c&&o.set(s,c)}return t},rR=typeof XMLHttpRequest<"u",sR=rR&&function(e){return new Promise(function(n,r){const s=qp(e);let i=s.data;const o=Ue.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,f,m,h;function g(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function _(){if(!y)return;const I=Ue.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:I,config:e,request:y};zp(function(v){n(v),g()},function(v){r(v),g()},M),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(r(new H("Request aborted",H.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const M=w&&w.message?w.message:"Network Error",k=new H(M,H.ERR_NETWORK,e,y);k.event=w||null,r(k),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||Up;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new H(w,M.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&b.forEach(o.toJSON(),function(w,M){y.setRequestHeader(M,w)}),b.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([f,h]=ci(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([d,m]=ci(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(l=I=>{y&&(r(!I||I.type?new hs(null,e,y):I),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const T=JI(s.url);if(T&&ke.protocols.indexOf(T)===-1){r(new H("Unsupported protocol "+T+":",H.ERR_BAD_REQUEST,e));return}y.send(i||null)})},iR=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof H?l:new hs(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new H(`timeout of ${t}ms exceeded`,H.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>b.asap(a),c}},oR=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},aR=async function*(e,t){for await(const n of cR(e))yield*oR(n,t)},cR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},pl=(e,t,n,r)=>{const s=aR(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(n){let f=i+=d;n(f)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},hl=64*1024,{isFunction:ks}=b,uR=(({Request:e,Response:t})=>({Request:e,Response:t}))(b.global),{ReadableStream:ml,TextEncoder:gl}=b.global,yl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lR=e=>{e=b.merge.call({skipUndefined:!0},uR,e);const{fetch:t,Request:n,Response:r}=e,s=t?ks(t):typeof fetch=="function",i=ks(n),o=ks(r);if(!s)return!1;const a=s&&ks(ml),c=s&&(typeof gl=="function"?(h=>g=>h.encode(g))(new gl):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=i&&a&&yl(()=>{let h=!1;const g=new n(ke.origin,{body:new ml,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),l=o&&a&&yl(()=>b.isReadableStream(new r("").body)),d={stream:l&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(g,y)=>{let _=g&&g[h];if(_)return _.call(g);throw new H(`Response type '${h}' is not supported`,H.ERR_NOT_SUPPORT,y)})});const f=async h=>{if(h==null)return 0;if(b.isBlob(h))return h.size;if(b.isSpecCompliantForm(h))return(await new n(ke.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(b.isArrayBufferView(h)||b.isArrayBuffer(h))return h.byteLength;if(b.isURLSearchParams(h)&&(h=h+""),b.isString(h))return(await c(h)).byteLength},m=async(h,g)=>{const y=b.toFiniteNumber(h.getContentLength());return y??f(g)};return async h=>{let{url:g,method:y,data:_,signal:T,cancelToken:I,timeout:w,onDownloadProgress:M,onUploadProgress:k,responseType:v,headers:A,withCredentials:D="same-origin",fetchOptions:E}=qp(h),P=t||fetch;v=v?(v+"").toLowerCase():"text";let N=iR([T,I&&I.toAbortSignal()],w),B=null;const F=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let ce;try{if(k&&u&&y!=="get"&&y!=="head"&&(ce=await m(A,_))!==0){let G=new n(g,{method:"POST",body:_,duplex:"half"}),Q;if(b.isFormData(_)&&(Q=G.headers.get("content-type"))&&A.setContentType(Q),G.body){const[ie,fe]=ll(ce,ci(dl(k)));_=pl(G.body,hl,ie,fe)}}b.isString(D)||(D=D?"include":"omit");const V=i&&"credentials"in n.prototype,Z={...E,signal:N,method:y.toUpperCase(),headers:A.normalize().toJSON(),body:_,duplex:"half",credentials:V?D:void 0};B=i&&new n(g,Z);let C=await(i?P(B,E):P(g,Z));const K=l&&(v==="stream"||v==="response");if(l&&(M||K&&F)){const G={};["status","statusText","headers"].forEach(be=>{G[be]=C[be]});const Q=b.toFiniteNumber(C.headers.get("content-length")),[ie,fe]=M&&ll(Q,ci(dl(M),!0))||[];C=new r(pl(C.body,hl,ie,()=>{fe&&fe(),F&&F()}),G)}v=v||"text";let L=await d[b.findKey(d,v)||"text"](C,h);return!K&&F&&F(),await new Promise((G,Q)=>{zp(G,Q,{data:L,headers:Ue.from(C.headers),status:C.status,statusText:C.statusText,config:h,request:B})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,h,B),{cause:V.cause||V}):H.from(V,V&&V.code,h,B)}}},dR=new Map,Vp=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,l=dR;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:lR(t)),l=u;return u};Vp();const tc={http:kI,xhr:sR,fetch:{get:Vp}};b.forEach(tc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _l=e=>`- ${e}`,fR=e=>b.isFunction(e)||e===null||e===!1;function pR(e,t){e=b.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!fR(r)&&(s=tc[(a=String(r)).toLowerCase()],s===void 0))throw new H(`Unknown adapter '${a}'`);if(s&&(b.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(_l).join(`
`):" "+_l(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Gp={getAdapter:pR,adapters:tc};function ao(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hs(null,e)}function Sl(e){return ao(e),e.headers=Ue.from(e.headers),e.data=oo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gp.getAdapter(e.adapter||ps.adapter,e)(e).then(function(r){return ao(e),r.data=oo.call(e,e.transformResponse,r),r.headers=Ue.from(r.headers),r},function(r){return Hp(r)||(ao(e),r&&r.response&&(r.response.data=oo.call(e,e.transformResponse,r.response),r.response.headers=Ue.from(r.response.headers))),Promise.reject(r)})}const Kp="1.13.3",Oi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Oi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bl={};Oi.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Kp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new H(s(o," has been removed"+(n?" in "+n:"")),H.ERR_DEPRECATED);return n&&!bl[o]&&(bl[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Oi.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function hR(e,t,n){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new H("option "+i+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new H("Unknown option "+i,H.ERR_BAD_OPTION)}}const Hs={assertOptions:hR,validators:Oi},ft=Hs.validators;let wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cl,response:new cl}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Hs.assertOptions(r,{silentJSONParsing:ft.transitional(ft.boolean),forcedJSONParsing:ft.transitional(ft.boolean),clarifyTimeoutError:ft.transitional(ft.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:Hs.assertOptions(s,{encode:ft.function,serialize:ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hs.assertOptions(n,{baseUrl:ft.spelling("baseURL"),withXsrfToken:ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=Ue.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,d=0,f;if(!c){const h=[Sl.bind(this),void 0];h.unshift(...a),h.push(...u),f=h.length,l=Promise.resolve(n);let g=n;for(;d<f;)l=l.then(h[d++]).then(y=>{g=y!==void 0?y:g}).catch(h[d++]).then(()=>g);return l}f=a.length;let m=n;for(;d<f;){const h=a[d++],g=a[d++];try{m=h(m)}catch(y){g.call(this,y);break}}try{l=Sl.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,f=u.length;d<f;)l=l.then(u[d++]).catch(u[d++]);return l}getUri(t){t=Cn(this.defaults,t);const n=Wp(t.baseURL,t.url,t.allowAbsoluteUrls);return Bp(n,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){wn.prototype[t]=function(n,r){return this.request(Cn(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Cn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}wn.prototype[t]=n(),wn.prototype[t+"Form"]=n(!0)});let mR=class Yp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new hs(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Yp(function(s){t=s}),cancel:t}}};function gR(e){return function(n){return e.apply(null,n)}}function yR(e){return b.isObject(e)&&e.isAxiosError===!0}const Qo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qo).forEach(([e,t])=>{Qo[t]=e});function Jp(e){const t=new wn(e),n=kp(wn.prototype.request,t);return b.extend(n,wn.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Jp(Cn(e,s))},n}const _e=Jp(ps);_e.Axios=wn;_e.CanceledError=hs;_e.CancelToken=mR;_e.isCancel=Hp;_e.VERSION=Kp;_e.toFormData=Ai;_e.AxiosError=H;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=gR;_e.isAxiosError=yR;_e.mergeConfig=Cn;_e.AxiosHeaders=Ue;_e.formToJSON=e=>$p(b.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=Gp.getAdapter;_e.HttpStatusCode=Qo;_e.default=_e;const{Axios:uk,AxiosError:lk,CanceledError:dk,isCancel:fk,CancelToken:pk,VERSION:hk,all:mk,Cancel:gk,isAxiosError:yk,spread:_k,toFormData:Sk,AxiosHeaders:bk,HttpStatusCode:Ek,formToJSON:vk,getAdapter:xk,mergeConfig:wk}=_e,Xp="https://sentinel-authority-production.up.railway.app",Tk=Xp,Ve=_e.create({baseURL:Xp});Ve.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Ve.interceptors.response.use(e=>e,e=>{var t,n,r,s;return e.response&&e.response.status===401&&!((n=(t=e.config)==null?void 0:t.url)!=null&&n.includes("/api/chat"))&&!((s=(r=e.config)==null?void 0:r.url)!=null&&s.includes("/api/envelo/sessions"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Qp=S.createContext(null);function _R({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("user");c&&u&&n(JSON.parse(u)),s(!1)},[]);const i=async(c,u)=>{const l=await Ve.post("/api/auth/login",{email:c,password:u});return localStorage.setItem("token",l.data.access_token),localStorage.setItem("user",JSON.stringify(l.data.user)),n(l.data.user),l.data.user},o=async c=>{const u=await Ve.post("/api/auth/register",c);return localStorage.setItem("token",u.data.access_token),localStorage.setItem("user",JSON.stringify(u.data.user)),n(u.data.user),u.data.user},a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return p.jsx(Qp.Provider,{value:{user:t,login:i,register:o,logout:a,loading:r},children:e})}function Pi(){return S.useContext(Qp)}const Zp=Xt.createContext();function SR({children:e}){const[t,n]=S.useState([]),r=Xt.useCallback((o,a="info")=>{const c=Date.now()+Math.random();n(u=>[...u,{id:c,message:o,type:a}]),setTimeout(()=>n(u=>u.filter(l=>l.id!==c)),4500)},[]),s=Xt.useCallback(o=>{n(a=>a.filter(c=>c.id!==o))},[]),i={success:{bg:"rgba(22,135,62,.08)",border:"rgba(22,135,62,.25)",text:R.accentGreen,icon:""},error:{bg:"rgba(180,52,52,.08)",border:"rgba(180,52,52,.25)",text:R.accentRed,icon:""},warning:{bg:"rgba(158,110,18,.08)",border:"rgba(158,110,18,.25)",text:R.accentAmber,icon:""},info:{bg:"rgba(29,26,59,.08)",border:"rgba(29,26,59,.25)",text:R.purpleBright,icon:""}};return p.jsxs(Zp.Provider,{value:{show:r},children:[e,p.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"6px",maxWidth:"380px"},children:t.map(o=>{const a=i[o.type]||i.info;return p.jsxs("div",{style:{background:a.bg,backdropFilter:R.frostToast,border:`1px solid ${a.border}`,padding:"10px 14px",display:"flex",alignItems:"flex-start",gap:"8px",animation:"slideIn .25s ease-out"},children:[p.jsx("span",{style:{fontSize:"13px",lineHeight:1,marginTop:"1px"},children:a.icon}),p.jsx("span",{style:{flex:1,color:a.text,fontSize:"12px",lineHeight:1.4,fontFamily:R.mono},children:o.message}),p.jsx("button",{onClick:()=>s(o.id),style:{background:"none",border:"none",color:a.text,cursor:"pointer",fontSize:"14px",padding:0,lineHeight:1,opacity:.6},children:""})]},o.id)})})]})}function Ik(){return Xt.useContext(Zp)}const eh=Xt.createContext();function bR({children:e}){const[t,n]=S.useState({open:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmLabel:"Confirm",danger:!1}),r=i=>new Promise(o=>{n({open:!0,title:i.title||"Confirm",message:i.message||"Are you sure?",confirmLabel:i.confirmLabel||"Confirm",danger:i.danger||!1,onConfirm:()=>{n(a=>({...a,open:!1})),o(!0)},onCancel:()=>{n(a=>({...a,open:!1})),o(!1)}})}),s=t.open?Eh.createPortal(p.jsx("div",{onClick:t.onCancel,style:{position:"fixed",inset:0,zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.25)",backdropFilter:R.frostOverlay,WebkitBackdropFilter:R.frostOverlay},children:p.jsxs("div",{onClick:i=>i.stopPropagation(),style:{background:"rgba(255,255,255,0.95)",backdropFilter:R.frostModal,WebkitBackdropFilter:R.frostModal,border:"1px solid "+R.borderGlass,maxWidth:"420px",width:"90%",padding:"32px",position:"relative"},children:[p.jsx("button",{onClick:t.onCancel,style:{position:"absolute",top:14,right:14,appearance:"none",border:"none",background:"none",color:R.textDim,fontFamily:R.mono,fontSize:"18px",cursor:"pointer",lineHeight:1},children:""}),p.jsx("h3",{style:{fontFamily:R.mono,fontSize:"10px",fontWeight:400,letterSpacing:"2.5px",textTransform:"uppercase",color:t.danger?R.accentRed:R.purpleBright,margin:"0 0 4px"},children:t.title}),p.jsx("p",{style:{color:R.textTertiary,fontFamily:R.mono,fontSize:"13px",lineHeight:1.6,margin:"0 0 24px"},children:t.message}),p.jsxs("button",{onClick:t.onConfirm,style:{appearance:"none",width:"100%",border:"1px solid "+(t.danger?"rgba(180,52,52,.25)":"rgba(29,26,59,.25)"),background:"transparent",color:t.danger?R.accentRed:R.purpleBright,padding:"12px 24px",fontFamily:R.mono,fontSize:"10px",letterSpacing:"2.5px",textTransform:"uppercase",cursor:"pointer"},children:[t.confirmLabel," "]})]})}),document.body):null;return p.jsxs(eh.Provider,{value:r,children:[e,s]})}const Rk=()=>Xt.useContext(eh);function tt({children:e,roles:t}){const{user:n,loading:r}=Pi();return r?p.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:R.bgDeep,color:R.textPrimary},children:"Loading..."}):n?t&&!t.includes(n.role)?p.jsx(ln,{to:"/dashboard"}):e:p.jsx(ln,{to:"/login"})}function ER(){const e=()=>{const r=window.innerWidth,s="ontouchstart"in window||navigator.maxTouchPoints>0;return r<768||s&&r<1024},[t,n]=S.useState(e);return S.useEffect(()=>{const r=()=>n(e());return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function vR({size:e=32}){return p.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:[p.jsx("circle",{cx:"50",cy:"50",r:"46",stroke:"#1d1a3b",strokeWidth:"5",fill:"white"}),p.jsx("circle",{cx:"50",cy:"50",r:"39",stroke:"#1d1a3b",strokeWidth:"1.5",strokeOpacity:"0.20",fill:"none"}),p.jsx("text",{x:"50",y:"64",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"38",fill:"#1d1a3b",letterSpacing:"-1",children:"SA"})]})}function th({height:e=48}){const t=e/68;return p.jsxs("svg",{width:320*t,height:e,viewBox:"0 0 460 120",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"Sentinel Authority",children:[p.jsx("circle",{cx:"62",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),p.jsx("circle",{cx:"62",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),p.jsx("text",{x:"62",y:"74",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"40",fill:"#1d1a3b",letterSpacing:"-1.1",children:"SA"}),p.jsx("text",{x:"132",y:"54",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.15",children:"SENTINEL"}),p.jsx("text",{x:"132",y:"84",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.25",children:"AUTHORITY"})]})}const xR="https://sentinel-authority-production.up.railway.app";function wR({user:e,applications:t,certificates:n,sessions:r,activeTests:s}){var h;const i=(e==null?void 0:e.role)||"customer",o=((h=e==null?void 0:e.full_name)==null?void 0:h.split(" ")[0])||"",a=t||[],c=n||[],u=r||[],l=a.length?a.map(g=>{var y;return`   ${g.system_name} [${g.application_number||g.id}]  state: ${g.state}, updated: ${((y=g.updated_at)==null?void 0:y.split("T")[0])||"?"}`}).join(`
`):"  (none)",d=c.length?c.map(g=>`   ${g.certificate_number}  ${g.system_name}  state: ${g.state}${g.expires_at?", expires: "+g.expires_at.split("T")[0]:""}`).join(`
`):"  (none)",f=u.filter(g=>{const y=g.last_heartbeat_at||g.last_telemetry_at||g.started_at;return g.status==="active"&&y&&Date.now()-new Date(y).getTime()<12e4}),m=(s||[]).length?(s||[]).map(g=>{const y=g.cat72_started_at?new Date(g.cat72_started_at):null,_=y?(Date.now()-y.getTime())/1e3:0,T=Math.max(0,72*3600-_),I=Math.min(100,_/(72*3600)*100).toFixed(0);return`   ${g.system_name}  ${I}% complete, ${(T/3600).toFixed(1)}h remaining`}).join(`
`):"  (none)";return`You are the Sentinel Authority operations assistant  an AI built into the certification platform dashboard. You have complete, authoritative knowledge of the ODDC certification process and the ENVELO Interlock system.

IDENTITY: You are the Sentinel Authority AI  not a generic assistant. Speak with operational precision. Be direct, specific, and actionable. Never say "I'm just an AI."

CURRENT USER:
  Name: ${o||"unknown"}
  Role: ${i}
  Organization: ${(e==null?void 0:e.organization_name)||"unknown"}

THEIR LIVE DATA:
Applications:
${l}

Certificates:
${d}

Active CAT-72 Tests:
${m}

Live Interlocks: ${f.length} online / ${u.length} total sessions


COMPLETE ODDC WORKFLOW  EVERY STEP


STEP 1  APPLICATION SUBMITTED
  Customer submits: org info, system description, ODD, boundary definitions
  Boundary types: numeric (speed/temp/etc), geographic (lat/lon/radius), time (hours/days), state (allowed/forbidden modes)
  State becomes: "pending"
  Admin action needed: click "Begin Review"

STEP 2  ADMIN REVIEW (HUMAN STEP)
  Admin clicks "Begin Review"  state: "under_review"
  Admin evaluates boundary completeness and reasonableness
  Admin writes justification note, clicks "Approve"  state: "approved"
  ON APPROVAL (AUTOMATIC): API key is generated AND emailed to customer
  Customer should NEVER need to generate their own key manually

STEP 3  CUSTOMER DEPLOYS INTERLOCK (HUMAN STEP)
  Customer receives API key via email (also visible in ENVELO tab)
  Customer downloads envelo_agent.py from ENVELO Interlock tab
  Customer runs:
    pip install httpx
    python envelo_agent.py
  Interlock starts sending heartbeats every 30 seconds to the Railway backend
  Dashboard state: "approved" but interlock not yet confirmed

STEP 4  ADMIN BEGINS CAT-72 (HUMAN STEP)
  Admin sees interlock online in Monitoring tab (green dot = heartbeat <2 min ago)
  Admin clicks "Begin CAT-72" button for that system  state: "testing"
  72-hour clock starts

STEP 5  CAT-72 RUNS (FULLY AUTOMATIC  no human action needed)
  Interlock enforces all defined boundaries on every action
  Every enforcement logged as PASS or BLOCK with telemetry
  Telemetry flushes to backend every 10 seconds
  If any violation occurs  test FAILS (admin is notified)
  If 72 hours pass without violations  PASS is auto-triggered

STEP 6  CERTIFICATE ISSUED (AUTOMATIC ON PASS)
  Certificate auto-issues immediately on PASS
  Certificate number format: ODDC-YYYY-XXXXX
  Customer views/downloads certificate from dashboard
  State: "conformant"

STEP 7  ONGOING PRODUCTION MONITORING
  Certified interlock continues sending telemetry indefinitely
  Violations logged but don't auto-revoke (admin decision required)
  Certificates expire annually
  Renewal triggers a new CAT-72 cycle


TECHNICAL FACTS

ENVELO = Enforced Non-Violable Execution-Limit Override
ODDC   = Operational Design Domain Conformance
CAT-72 = 72-hour Continuous Autonomy Test
Backend: Railway  sentinel-authority-production.up.railway.app
Frontend: Vercel  app.sentinelauthority.org
Heartbeat: every 30 seconds
"Online" = heartbeat received within last 2 minutes
API key format: sa_live_XXXXXXXX...

COMMON ISSUES:
  "Stuck in pending"  Admin needs to click Begin Review (ENVELO tab  Review Queue)
  "Approved but test not starting"  Customer hasn't deployed interlock yet, OR admin hasn't clicked Begin CAT-72
  "Interlock offline during test"  Customer needs to restart agent. >5 min offline = admin may need to restart test
  "Test failed"  Boundary violation occurred  check telemetry for which parameter and what value caused it
  "No API key"  Emailed on approval; admin can resend from ENVELO tab  Approved section  Resend Key
  "Install error"  Run: pip install httpx, then python envelo_agent.py
  "Can't connect"  Firewall must allow outbound HTTPS to sentinel-authority-production.up.railway.app port 443

${i==="admin"?`
ADMIN MODE: You have full visibility across all customers.
When asked "what needs attention?" surface: pending reviews, approved apps where interlock hasn't connected, near-complete CAT-72 tests, any anomalies.
Be direct about operational decisions. Help the admin run a tight, efficient certification operation.
`:`
CUSTOMER MODE: Guide this customer through their certification journey.
Be specific  tell them exactly what to click, where to find things, what commands to run.
Make the complex simple. Acknowledge their progress.
`}

RESPONSE STYLE:
  - 2-4 sentences max unless steps require more
  - Use bullet points only for multi-step instructions
  - Specific UI labels and terminal commands when relevant
  - Never make up data  reference only what's in the live data above
  - If uncertain, say so and direct them where to find the answer`}function TR(e,t){var a;const n=e==null?void 0:e.role,r=(a=e==null?void 0:e.full_name)==null?void 0:a.split(" ")[0],s=t.applications||[];if(n==="admin"){const c=s.filter(m=>m.state==="pending").length,u=s.filter(m=>m.state==="under_review").length,l=s.filter(m=>m.state==="approved").length,d=s.filter(m=>m.state==="testing").length,f=[];return c&&f.push(`${c} application${c>1?"s":""} in queue`),u&&f.push(`${u} under review  awaiting your decision`),l&&f.push(`${l} approved  waiting for customer to deploy interlock`),d&&f.push(`${d} CAT-72 test${d>1?"s":""} running`),f.length?`${r?"Hey "+r+".":"Hey."} Here's what's in motion:

${f.map(m=>" "+m).join(`
`)}

What do you want to work on?`:`${r?"Hey "+r+".":"Hey."} Queue is clear. How can I help?`}const i=[...s].sort((c,u)=>new Date(u.updated_at)-new Date(c.updated_at))[0];if(!i)return`${r?"Hey "+r+".":"Hey."} Ready to start your ODDC certification? I can walk you through submitting an application.`;const o={pending:`Your application for **${i.system_name}** is in the review queue. No action needed from you right now.`,under_review:`Your application for **${i.system_name}** is being reviewed. You'll hear back soon.`,approved:`Your application for **${i.system_name}** is approved  time to deploy the ENVELO Interlock. I can walk you through it step by step.`,testing:`Your CAT-72 test is running for **${i.system_name}**. Keep the agent running  I'll let you know if anything looks off.`,conformant:`**${i.system_name}** is ODDC conformant. Certificate active. Anything you need?`,rejected:`Your application for **${i.system_name}** was returned with required changes. Want help understanding what needs to change?`};return`${r?"Hey "+r+".":"Hey."} ${o[i.state]||"How can I help with your certification?"}`}function IR({msg:e}){if(e.role==="note")return p.jsx("div",{style:{textAlign:"center",padding:"4px 0",color:R.textTertiary,fontFamily:R.mono,fontSize:"10px",letterSpacing:"1px"},children:e.content});const t=e.role==="user",n=r=>r.split(`
`).map((s,i)=>{const o=/^[\-*] /.test(s),c=(o?s.replace(/^[\-*] /,""):s).split(/\*\*(.+?)\*\*/g).map((u,l)=>l%2===1?p.jsx("strong",{children:u},l):u);return p.jsxs("div",{style:{marginBottom:s===""?"7px":"1px",paddingLeft:o?"14px":0,position:"relative"},children:[o&&p.jsx("span",{style:{position:"absolute",left:0,color:R.purpleBright,fontSize:"12px"},children:""}),p.jsx("span",{children:c})]},i)});return p.jsxs("div",{style:{display:"flex",justifyContent:t?"flex-end":"flex-start",marginBottom:"9px",gap:"7px",alignItems:"flex-start"},children:[!t&&p.jsx("div",{style:{width:"20px",height:"20px",flexShrink:0,marginTop:"4px",borderRadius:"50%",background:"rgba(74,61,117,0.09)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsxs("svg",{width:"12",height:"13",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),p.jsx("div",{style:{maxWidth:"84%",padding:"9px 12px",background:t?"rgba(74,61,117,0.07)":"rgba(255,255,255,0.75)",border:`1px solid ${t?"rgba(74,61,117,0.14)":R.borderGlass}`,borderRadius:t?"11px 3px 11px 11px":"3px 11px 11px 11px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:p.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.65",color:R.textPrimary,fontFamily:R.sans},children:[n(e.content),e.streaming&&p.jsx("span",{style:{display:"inline-block",width:"2px",height:"13px",background:R.purpleBright,marginLeft:"2px",verticalAlign:"middle",animation:"sa-blink 0.7s step-end infinite"}})]})})]})}function RR({role:e,onSend:t}){const n=e==="admin"?["What needs my attention?","Show pending apps","Any interlocks offline?","CAT-72 status?"]:["What's my next step?","How do I install the interlock?","Where's my API key?","How long does the test take?"];return p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"7px 11px 3px",borderTop:`1px solid ${R.borderSubtle}`},children:n.map((r,s)=>p.jsx("button",{onClick:()=>t(r),style:{padding:"4px 9px",background:"rgba(74,61,117,0.05)",border:"1px solid rgba(74,61,117,0.15)",color:R.purpleBright,fontFamily:R.mono,fontSize:"10px",cursor:"pointer",borderRadius:"999px",whiteSpace:"nowrap"},onMouseEnter:i=>i.currentTarget.style.background="rgba(74,61,117,0.11)",onMouseLeave:i=>i.currentTarget.style.background="rgba(74,61,117,0.05)",children:r},s))})}function kR(){const{user:e}=Pi(),[t,n]=S.useState(!1),[r,s]=S.useState(!1);S.useEffect(()=>{if(!sessionStorage.getItem("sa-chat-hint")){const v=setTimeout(()=>s(!0),2e3),A=setTimeout(()=>{s(!1),sessionStorage.setItem("sa-chat-hint","1")},7e3);return()=>{clearTimeout(v),clearTimeout(A)}}},[]);const[i,o]=S.useState([]),[a,c]=S.useState(""),[u,l]=S.useState(!1),[d,f]=S.useState(!1),[m,h]=S.useState({}),[g,y]=S.useState(!0),_=S.useRef(null),T=S.useRef(null);S.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[i]),S.useEffect(()=>{t&&T.current&&setTimeout(()=>{var k;return(k=T.current)==null?void 0:k.focus()},100)},[t]),S.useEffect(()=>{t&&!d&&I()},[t]);const I=async()=>{var k,v,A;try{const[D,E,P]=await Promise.all([Ve.get("/api/applications/").catch(()=>({data:[]})),Ve.get("/api/certificates/").catch(()=>({data:[]})),Ve.get("/api/envelo/sessions").catch(()=>({data:{sessions:[]}}))]),N={applications:((k=D.data)==null?void 0:k.applications)||D.data||[],certificates:E.data||[],sessions:((v=P.data)==null?void 0:v.sessions)||[],activeTests:(((A=D.data)==null?void 0:A.applications)||D.data||[]).filter(B=>B.state==="testing")};h(N),f(!0),o([{role:"assistant",content:TR(e,N)}])}catch{f(!0),o([{role:"assistant",content:`Hey${e!=null&&e.full_name?" "+e.full_name.split(" ")[0]:""}! I'm your Sentinel Authority assistant. How can I help?`}])}},w=S.useCallback(async k=>{var E,P,N,B,F,ce,V,Z;const v=(k||a).trim();if(!v||u)return;c(""),y(!1);const A=i.filter(C=>(C.role==="user"||C.role==="assistant")&&C.content&&!C.streaming).map(C=>({role:C.role,content:C.content}));A.push({role:"user",content:v}),o(C=>[...C,{role:"user",content:v},{role:"assistant",content:"",streaming:!0}]),l(!0);const D=wR({user:e,...m});try{const C=localStorage.getItem("token")||sessionStorage.getItem("token")||"",K=await fetch(`${xR}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({system:D,messages:A,stream:!0})});if(!K.ok)throw new Error(`HTTP ${K.status}`);const L=K.body.getReader(),G=new TextDecoder;let Q="";for(;;){const{done:ie,value:fe}=await L.read();if(ie)break;for(const be of G.decode(fe,{stream:!0}).split(`
`)){if(!be.startsWith("data: "))continue;const _t=be.slice(6).trim();if(_t!=="[DONE]")try{const Le=JSON.parse(_t),St=((E=Le.delta)==null?void 0:E.text)||((B=(N=(P=Le.choices)==null?void 0:P[0])==null?void 0:N.delta)==null?void 0:B.content)||((ce=(F=Le.content)==null?void 0:F[0])==null?void 0:ce.text)||"";St&&(Q+=St,o(Ln=>{const bt=[...Ln];return bt[bt.length-1]={role:"assistant",content:Q,streaming:!0},bt}))}catch{}}}o(ie=>{const fe=[...ie];return fe[fe.length-1]={role:"assistant",content:Q||"Sorry, try again.",streaming:!1},fe})}catch(C){let K="Connection error. Try again.";(V=C.message)!=null&&V.includes("404")&&(K="The /api/chat endpoint is not deployed yet. Add chat.py to Railway and set ANTHROPIC_API_KEY."),(Z=C.message)!=null&&Z.includes("401")&&(K="Auth error  try refreshing."),o(L=>{const G=[...L];return G[G.length-1]={role:"assistant",content:K,streaming:!1},G})}finally{l(!1)}},[a,u,i,e,m]),M=()=>{o([]),f(!1),h({}),y(!0),n(!1),setTimeout(()=>n(!0),60)};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:"@keyframes sa-blink{0%,100%{opacity:1}50%{opacity:0}} @keyframes sa-up{from{opacity:0;transform:translateY(12px) scale(0.97)}to{opacity:1;transform:translateY(0) scale(1)}} @keyframes spin{to{transform:rotate(360deg)}}"}),!t&&r&&p.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"24px",zIndex:1e3,background:"#1d1a3b",color:"#fff",fontFamily:"'IBM Plex Mono', monospace",fontSize:"11px",letterSpacing:"0.5px",padding:"8px 14px",borderRadius:"8px",boxShadow:"0 4px 16px rgba(29,26,59,0.3)",animation:"sa-up 0.3s ease-out",whiteSpace:"nowrap"},children:["Need Help? ",p.jsx("span",{style:{opacity:.7},children:"Ask Sentinel AI"}),p.jsx("div",{style:{position:"absolute",bottom:"-6px",right:"18px",width:"12px",height:"12px",background:"#1d1a3b",transform:"rotate(45deg)"}})]}),!t&&p.jsx("button",{onClick:()=>{n(!0),s(!1),sessionStorage.setItem("sa-chat-hint","1")},style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3,width:"50px",height:"50px",borderRadius:"50%",background:"#1d1a3b",border:"1px solid rgba(29,26,59,0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(74,61,117,0.35)",transition:"all 0.2s",fontSize:"22px",color:"#fff"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.07)",k.currentTarget.style.boxShadow="0 6px 28px rgba(74,61,117,0.5)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.boxShadow="0 4px 20px rgba(74,61,117,0.35)"},title:"Sentinel Assistant",children:p.jsxs("svg",{width:"26",height:"28",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#fff",strokeWidth:"1.8",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#fff",children:">_"})]})}),t&&p.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1001,width:"min(390px, calc(100vw - 40px))",height:"min(570px, calc(100vh - 96px))",display:"flex",flexDirection:"column",background:"rgba(248,248,252,0.94)",backdropFilter:"blur(24px) saturate(1.5)",WebkitBackdropFilter:"blur(24px) saturate(1.5)",border:`1px solid ${R.borderGlass}`,borderRadius:"16px",boxShadow:"0 12px 56px rgba(15,18,30,0.14), 0 2px 8px rgba(15,18,30,0.06)",animation:"sa-up 0.2s ease-out",overflow:"hidden"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",borderBottom:`1px solid ${R.borderSubtle}`,background:"rgba(255,255,255,0.55)",flexShrink:0},children:[p.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",background:"rgba(74,61,117,0.08)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsxs("svg",{width:"15",height:"16",viewBox:"0 0 26 28",fill:"none",children:[p.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),p.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontFamily:R.mono,fontSize:"11px",letterSpacing:"2px",textTransform:"uppercase",color:R.textPrimary,fontWeight:500},children:"Sentinel Assistant"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginTop:"2px"},children:[p.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:d?R.accentGreen:R.accentAmber}}),p.jsx("span",{style:{fontFamily:R.mono,fontSize:"9px",color:d?R.accentGreen:R.accentAmber,letterSpacing:"0.5px"},children:d?"Ready":"Loading"})]})]}),p.jsx("button",{onClick:M,title:"Reset",style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:R.textTertiary,display:"flex"},onMouseEnter:k=>k.currentTarget.style.color=R.textSecondary,onMouseLeave:k=>k.currentTarget.style.color=R.textTertiary,children:p.jsx(ih,{size:13})}),p.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:R.textTertiary,display:"flex"},onMouseEnter:k=>k.currentTarget.style.color=R.textSecondary,onMouseLeave:k=>k.currentTarget.style.color=R.textTertiary,children:p.jsx(oh,{size:16})})]}),p.jsxs("div",{ref:_,style:{flex:1,overflowY:"auto",padding:"13px 11px",display:"flex",flexDirection:"column"},children:[!d&&i.length===0&&p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"12px",color:R.textTertiary},children:[p.jsx("div",{style:{width:"26px",height:"26px",border:`2px solid ${R.borderGlass}`,borderTopColor:R.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),p.jsx("span",{style:{fontFamily:R.mono,fontSize:"11px",letterSpacing:"1px"},children:"Loading your context"})]}),i.map((k,v)=>p.jsx(IR,{msg:k},v))]}),g&&i.length<=1&&d&&p.jsx(RR,{role:e==null?void 0:e.role,onSend:w}),p.jsxs("div",{style:{padding:"10px",borderTop:`1px solid ${R.borderSubtle}`,background:"rgba(255,255,255,0.45)",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",gap:"7px",alignItems:"flex-end",background:"rgba(255,255,255,0.65)",border:`1px solid ${R.borderGlass}`,borderRadius:"10px",padding:"7px 10px"},children:[p.jsx("textarea",{ref:T,value:a,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),w())},placeholder:"Ask about your certification",rows:1,disabled:u,style:{flex:1,background:"none",border:"none",outline:"none",resize:"none",fontFamily:R.sans,fontSize:"13px",color:R.textPrimary,lineHeight:"1.5",maxHeight:"72px",overflowY:"auto"},onInput:k=>{k.target.style.height="auto",k.target.style.height=Math.min(k.target.scrollHeight,72)+"px"}}),p.jsx("button",{onClick:()=>w(),disabled:!a.trim()||u,style:{width:"29px",height:"29px",borderRadius:"6px",flexShrink:0,background:a.trim()&&!u?R.purplePrimary:"transparent",border:`1px solid ${a.trim()&&!u?"transparent":R.borderGlass}`,cursor:a.trim()&&!u?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},children:u?p.jsx("div",{style:{width:"13px",height:"13px",border:`2px solid ${R.textTertiary}`,borderTopColor:R.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):p.jsx(ah,{size:12,color:a.trim()?"#fff":R.textTertiary})})]}),p.jsx("div",{style:{textAlign:"center",marginTop:"5px",fontFamily:R.mono,fontSize:"9px",color:R.textTertiary,letterSpacing:"0.3px"},children:"Enter to send  Shift+Enter new line"})]})]})]})}function nt({children:e}){var D;const{user:t,logout:n}=Pi(),r=ER(),[s,i]=S.useState(!r),[o,a]=S.useState([]),[c,u]=S.useState([]),l=Nn(),[d,f]=S.useState([]),[m,h]=S.useState(!1),[g,y]=S.useState(0);S.useEffect(()=>{r&&i(!1)},[l.pathname]),S.useEffect(()=>{t&&(Ve.get("/api/certificates/").then(E=>a(E.data||[])).catch(()=>a([])),Ve.get("/api/applications/").then(E=>u(E.data.applications||E.data||[])).catch(()=>u([])),localStorage.getItem("token")&&Ve.get("/api/users/notifications").then(E=>{f(E.data.notifications||[]),y(E.data.unread_count||0)}).catch(()=>{}))},[t]),S.useEffect(()=>{if(!t)return;const E=setInterval(()=>{localStorage.getItem("token")&&Ve.get("/api/users/notifications").then(P=>{f(P.data.notifications||[]),y(P.data.unread_count||0)}).catch(()=>{})},6e4);return()=>clearInterval(E)},[t]);const _=()=>{Ve.post("/api/users/notifications/mark-read").then(()=>y(0)).catch(()=>{}),h(!1)},T=[{name:"Dashboard",href:"/dashboard",icon:ch,roles:["admin","applicant"]},{name:"Applications",href:"/applications",icon:uh,roles:["admin","applicant"]},{name:"ENVELO",href:"/envelo",icon:"brand",roles:["admin","applicant"]},{name:"Resources",href:"/resources",icon:lh,roles:["admin","applicant"]},{name:"Activity",href:"/activity",icon:dh,roles:["admin","applicant"]},{name:"User Management",href:"/users",icon:fh,roles:["admin"]},{name:"Settings",href:"/settings",icon:ph,roles:["admin","applicant"]},{name:"API Docs",href:"/api-docs",icon:sc,roles:["admin"]}],I=Array.isArray(o)&&o.some(E=>E.state==="conformant"||E.state==="active"||E.state==="issued"),w=Array.isArray(c)&&c.some(E=>E.state==="approved"||E.state==="testing"),M=I||w,k=T.filter(E=>!(!E.roles.includes((t==null?void 0:t.role)||"")||E.requiresCert&&(t==null?void 0:t.role)!=="admin"&&!M)),v=E=>l.pathname===E||E!=="/dashboard"&&l.pathname.startsWith(E),A=E=>({display:"flex",alignItems:"center",gap:"10px",padding:"9px 16px",textDecoration:"none",fontFamily:R.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:E?R.textPrimary:"rgba(15,18,30,0.72)",borderLeft:E?"2px solid "+R.purpleBright:"2px solid transparent",background:E?"rgba(74,61,117,.06)":"transparent",transition:"color 0.25s ease, background 0.15s"});return p.jsxs("div",{style:{minHeight:"100vh",color:R.textPrimary,fontFamily:R.sans,background:R.bgDeep},children:[p.jsx("div",{className:"sa-grid-overlay"}),p.jsx("div",{className:"sa-noise"}),r&&s&&p.jsx("div",{onClick:()=>i(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,.12)",zIndex:40}}),p.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,zIndex:50,width:"240px",transform:s||!r?"translateX(0)":"translateX(-100%)",transition:"transform 0.2s ease",background:"rgba(255,255,255,0.95)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",borderRight:"1px solid rgba(15,18,30,0.06)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[p.jsxs("div",{style:{height:r?"52px":"72px",minHeight:r?"52px":"72px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[p.jsx(nl,{to:"/dashboard",style:{display:"flex",alignItems:"center",textDecoration:"none"},children:p.jsx(th,{height:r?36:52})}),p.jsx("button",{onClick:()=>i(!1),style:{color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:p.jsx(hh,{size:18})})]}),p.jsx("nav",{style:{padding:r?"4px 0":"12px 0",flex:1,minHeight:0,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:k.map(E=>{const P=v(E.href);return p.jsxs(nl,{to:E.href,style:{...A(P),padding:r?"7px 16px":"9px 16px"},onMouseEnter:N=>{P||(N.currentTarget.style.color=R.textPrimary,N.currentTarget.style.background="rgba(0,0,0,.025)")},onMouseLeave:N=>{P||(N.currentTarget.style.color="rgba(15,18,30,0.72)",N.currentTarget.style.background="transparent")},children:[E.icon==="brand"?p.jsx(vR,{size:14}):p.jsx(E.icon,{size:14,style:{opacity:P?1:.6}}),E.name]},E.name)})}),p.jsxs("div",{style:{padding:r?"10px 16px":"16px",borderTop:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:r?"8px":"12px"},children:[p.jsx("div",{"data-avatar":"true",style:{width:"28px",height:"28px",background:R.purplePrimary,border:"1px solid rgba(107,90,158,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx("span",{style:{color:"#fff",fontSize:"11px",fontWeight:500},children:((D=t==null?void 0:t.full_name)==null?void 0:D[0])||"U"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"13px",color:R.textPrimary},children:t==null?void 0:t.full_name}),p.jsx("div",{style:{fontFamily:R.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary},children:t==null?void 0:t.role})]})]}),p.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:R.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:0},onMouseEnter:E=>E.currentTarget.style.color=R.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=R.textTertiary,children:[p.jsx(mh,{size:12}),"Sign Out"]})]})]}),p.jsxs("div",{style:{marginLeft:r?0:"240px",position:"relative",zIndex:10},children:[p.jsxs("header",{style:{height:r?"48px":"72px",display:"flex",alignItems:"center",padding:r?"0 12px":"0 20px",gap:"14px",borderBottom:"1px solid rgba(15,18,30,0.06)",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",position:"sticky",top:0,zIndex:30},children:[p.jsx("button",{onClick:()=>i(!s),style:{color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:p.jsx(gh,{size:18})}),p.jsx("div",{style:{flex:1}}),p.jsxs("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",color:R.textTertiary,fontFamily:R.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",textDecoration:"none",padding:"8px 4px",transition:"color 0.25s ease"},onMouseEnter:E=>E.currentTarget.style.color=R.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=R.textTertiary,children:[p.jsx(sc,{size:12}),!r&&"Main Site"]}),p.jsxs("div",{style:{position:"relative"},children:[p.jsxs("button",{onClick:()=>h(!m),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:m?R.purpleBright:R.textTertiary},children:[p.jsx(yh,{size:16,strokeWidth:1.5}),g>0&&p.jsx("span",{"data-dot":"true",style:{position:"absolute",top:"-2px",right:"-2px",minWidth:"14px",height:"14px",borderRadius:"50%",background:R.accentRed,color:"#fff",fontSize:"8px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:R.mono,padding:"0 2px"},children:g>9?"9+":g})]}),m&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:()=>h(!1),style:{position:"fixed",inset:0,zIndex:90}}),p.jsxs("div",{style:{position:"absolute",right:0,top:"44px",width:"min(340px, 90vw)",maxHeight:"70vh",overflowY:"auto",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",border:"1px solid rgba(15,18,30,0.06)",zIndex:100},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.06)"},children:[p.jsx("span",{style:{fontFamily:R.mono,fontSize:"10px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary},children:"Notifications"}),g>0&&p.jsx("button",{onClick:_,style:{background:"none",border:"none",color:R.purpleBright,fontFamily:R.mono,fontSize:"9px",letterSpacing:"1px",cursor:"pointer",padding:0},children:"Mark all read"})]}),d.length===0?p.jsx("div",{style:{padding:"32px 16px",textAlign:"center",color:R.textDim,fontSize:"12px"},children:"No recent activity"}):d.map((E,P)=>{const N={success:R.accentGreen,warning:R.accentAmber,info:R.purpleBright,error:R.accentRed}[E.type]||R.purpleBright;return p.jsx("div",{onClick:()=>{E.resource_type==="application"&&E.resource_id&&(h(!1),window.location.hash="#/applications/"+E.resource_id)},style:{padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.04)",cursor:E.resource_id?"pointer":"default"},children:p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[p.jsx("span",{"data-dot":"true",style:{display:"inline-block",width:"4px",height:"4px",borderRadius:"50%",background:N,marginTop:"6px",flexShrink:0}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("p",{style:{margin:0,fontSize:"13px",color:E.read?R.textSecondary:R.textPrimary,lineHeight:1.4},children:E.message}),p.jsxs("span",{style:{fontFamily:R.mono,fontSize:"9px",color:R.textDim,marginTop:"4px",display:"block"},children:[E.timestamp?new Date(E.timestamp).toLocaleString():"",E.user_email?"  "+E.user_email:""]})]})]})},E.id||P)})]})]})]})]}),p.jsx("main",{className:"sa-main-content",style:{padding:"clamp(16px, 3vw, 32px)",position:"relative",zIndex:1},children:e})]}),p.jsx(kR,{})]})}const Gn={background:"linear-gradient(90deg, rgba(0,0,0,0.04) 25%, rgba(0,0,0,0.08) 50%, rgba(0,0,0,0.04) 75%)",backgroundSize:"200% 100%",animation:"sa-shimmer 1.5s ease infinite",borderRadius:0};function CR({style:e={}}){return p.jsxs("div",{style:{padding:"20px 16px",borderBottom:"1px solid rgba(0,0,0,0.06)",...e},children:[p.jsx("div",{style:{...Gn,width:60,height:8,marginBottom:12}}),p.jsx("div",{style:{...Gn,width:80,height:24,marginBottom:8}}),p.jsx("div",{style:{...Gn,width:"70%",height:8}})]})}function AR({rows:e=5}){return p.jsxs("div",{style:{padding:"16px 0"},children:[p.jsx("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"0 0 10px",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[80,120,100,60].map((t,n)=>p.jsx("div",{style:{...Gn,width:t,height:8}},n))}),Array.from({length:e}).map((t,n)=>p.jsx("div",{style:{display:"flex",gap:16,padding:"12px 0",borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[80,120,100,60].map((r,s)=>p.jsx("div",{style:{...Gn,width:r+Math.random()*40,height:10}},s))},n))]})}function OR(){return p.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"24px 0"},children:[p.jsx("div",{style:{...Gn,width:200,height:24,marginBottom:32}}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:32},children:Array.from({length:5}).map((e,t)=>p.jsx(CR,{},t))}),p.jsx(AR,{rows:4})]})}function PR(){const{login:e,register:t}=Pi(),n=Ii(),[r,s]=S.useState(!1),[i,o]=S.useState(""),[a,c]=S.useState({email:"",password:"",full_name:"",organization_name:""}),[u,l]=S.useState(!1),[d,f]=S.useState(!1),[m,h]=S.useState(""),[g,y]=S.useState(!1),[_,T]=S.useState(!1),[I,w]=S.useState(""),[M,k]=S.useState(!1),[v,A]=S.useState(!1),D=async N=>{var B,F,ce,V;N.preventDefault(),o("");try{r?await t(a):await e(a.email,a.password),n("/dashboard")}catch(Z){((F=(B=Z.response)==null?void 0:B.data)==null?void 0:F.detail)==="2FA_REQUIRED"?f(!0):o(((V=(ce=Z.response)==null?void 0:ce.data)==null?void 0:V.detail)||"Authentication failed")}},E=async N=>{var B,F;N.preventDefault(),y(!0),o("");try{await e(a.email,a.password,m),n("/dashboard")}catch(ce){o(((F=(B=ce.response)==null?void 0:B.data)==null?void 0:F.detail)||"Invalid code")}finally{y(!1)}},P=async N=>{N.preventDefault(),k(!0),o("");try{await Ve.post("/api/auth/forgot-password",{email:I}),A(!0)}catch{A(!0)}finally{k(!1)}};return p.jsx("div",{"data-page":"login",children:p.jsx("div",{id:"sa-login",children:p.jsxs("div",{className:"sa-wrap",children:[p.jsxs("div",{className:`sa-card${r?" register":""}`,children:[p.jsx("div",{className:"sa-brand",children:p.jsx(th,{height:48})}),p.jsx("h1",{className:"sa-title",children:_?p.jsxs(p.Fragment,{children:["Reset ",p.jsx("em",{children:"Password"})]}):d?p.jsxs(p.Fragment,{children:["Two-Factor ",p.jsx("em",{children:"Auth"})]}):r?p.jsxs(p.Fragment,{children:["Create ",p.jsx("em",{children:"Account"})]}):p.jsxs(p.Fragment,{children:["Sign ",p.jsx("em",{children:"In"})]})}),p.jsx("p",{className:"sa-lead",children:_?"Enter your email address and well send you a link to reset your password.":d?"Enter the 6-digit code from your authenticator app to complete sign-in.":"Access the ODDC certification portal. Manage applications, certificates, and ENVELO Interlock."}),_?p.jsx("div",{children:v?p.jsxs(p.Fragment,{children:[p.jsxs("p",{style:{fontSize:"14px",lineHeight:1.6,color:"var(--sa-text-2)",marginBottom:"24px"},children:["If an account exists for ",p.jsx("strong",{children:I}),", a password reset link has been sent. Check your inbox and spam folder."]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),A(!1),w(""),o("")},children:[""," Back to sign in"]})]}):p.jsxs(p.Fragment,{children:[i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:P,children:[p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Email Address"}),p.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:I,onChange:N=>w(N.target.value),required:!0,autoFocus:!0})]}),p.jsx("button",{className:"sa-submit",type:"submit",disabled:M,children:M?"Sending":"Send Reset Link "})]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),w(""),o("")},children:[""," Back to sign in"]})]})}):d?p.jsxs("div",{children:[i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:E,children:[p.jsx("input",{className:"sa-2fa-input",type:"text",value:m,onChange:N=>h(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,autoFocus:!0}),p.jsx("button",{className:"sa-submit",type:"submit",disabled:g||m.length!==6,children:g?"Verifying":"Verify "})]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{f(!1),h(""),o("")},children:[""," Back to sign in"]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"sa-tabs",children:[p.jsx("button",{className:`sa-tab ${r?"":"active"}`,onClick:()=>{s(!1),o("")},type:"button",children:"Sign In"}),p.jsx("button",{className:`sa-tab ${r?"active":""}`,onClick:()=>{s(!0),o("")},type:"button",children:"Register"})]}),i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:D,children:[r&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Full Name"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Jane Smith",value:a.full_name,onChange:N=>c({...a,full_name:N.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Organization"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Acme Robotics Inc.",value:a.organization_name,onChange:N=>c({...a,organization_name:N.target.value}),required:!0})]})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Email Address"}),p.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:a.email,onChange:N=>c({...a,email:N.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Password"}),p.jsxs("div",{className:"sa-pw-wrap",children:[p.jsx("input",{className:"sa-input",type:u?"text":"password",placeholder:"".repeat(12),value:a.password,onChange:N=>c({...a,password:N.target.value}),required:!0}),p.jsx("button",{className:"sa-pw-toggle",type:"button",onClick:()=>l(!u),children:u?p.jsx(_h,{size:16}):p.jsx(Sh,{size:16})})]})]}),p.jsx("button",{className:"sa-submit",type:"submit",children:r?"Create Account ":"Sign In "})]}),!r&&p.jsx("button",{className:"sa-ghost",onClick:()=>{T(!0),w(a.email),o("")},children:"Forgot password?"})]})]}),p.jsx("hr",{className:"sa-sep"}),p.jsxs("div",{className:"sa-footer",children:[p.jsx("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noreferrer noopener",className:"sa-footer-text",style:{textDecoration:"none"},children:" Public Site"}),p.jsxs("div",{style:{display:"flex",gap:"16px"},children:[p.jsx("a",{href:"https://sentinelauthority.org/privacy.html",children:"Privacy"}),p.jsx("a",{href:"https://sentinelauthority.org/terms.html",children:"Terms"})]})]})]})})})}const MR=S.lazy(()=>xe(()=>import("./DashboardPage-DzTWsAtc.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.RoleBasedDashboard}))),NR=S.lazy(()=>xe(()=>import("./ApplicationsList-DhfhKj8w.js"),__vite__mapDeps([6,1,7,2,8,4,5]))),LR=S.lazy(()=>xe(()=>import("./NewApplication-Dk6Rj1Nd.js"),__vite__mapDeps([9,1,2,8,5]))),DR=S.lazy(()=>xe(()=>import("./ApplicationDetail-Cn4xAp-4.js"),__vite__mapDeps([10,1,7,2,8,5])));S.lazy(()=>xe(()=>import("./CAT72Console-DLB-zD1C.js"),__vite__mapDeps([11,1,2,5])));S.lazy(()=>xe(()=>import("./CertificatesPage-8XhqITkb.js"),__vite__mapDeps([12,1,7,2,13,8,5])));const FR=S.lazy(()=>xe(()=>import("./VerifyPage-B0KeE2W8.js"),__vite__mapDeps([14,1,2,5]))),jR=S.lazy(()=>xe(()=>import("./PendingPage-BnKYGubT.js"),__vite__mapDeps([15,1,5]))),BR=S.lazy(()=>xe(()=>import("./ResourcesPage-C4LccEjX.js"),__vite__mapDeps([16,1,5]))),UR=S.lazy(()=>xe(()=>import("./EnveloPage-DR5YN9Pq.js"),__vite__mapDeps([17,1,11,2,5,12,7,13,8,18])));S.lazy(()=>xe(()=>import("./MonitoringPage-CvkgiL29.js"),__vite__mapDeps([19,1,7,2,5])));const $R=S.lazy(()=>xe(()=>import("./UserManagementPage-cDEjVKDa.js"),__vite__mapDeps([20,1,2,18,3,5]))),HR=S.lazy(()=>xe(()=>import("./LicenseesPage-WW3O8inD.js"),__vite__mapDeps([21,1,2,5]))),zR=S.lazy(()=>xe(()=>import("./ActivityPage-DgRdfXd3.js"),__vite__mapDeps([22,1,7,2,18,23,5,13])));S.lazy(()=>xe(()=>import("./MyActivityPage-sNGVr_Md.js"),__vite__mapDeps([23,1,2,18,5])));const WR=S.lazy(()=>xe(()=>import("./SettingsPage-Cy4-s1RU.js"),__vite__mapDeps([24,1,5]))),qR=S.lazy(()=>xe(()=>import("./NotFoundPage-WyvL5665.js"),__vite__mapDeps([25,1,5]))),VR=S.lazy(()=>xe(()=>import("./ApiDocsPage-oyG-1dc8.js"),__vite__mapDeps([26,1,5]))),GR=S.lazy(()=>xe(()=>import("./ResetPasswordPage-CJL6Om-l.js"),__vite__mapDeps([27,1,5])));function Ae({children:e}){return p.jsx(S.Suspense,{fallback:p.jsx(OR,{}),children:e})}function KR(){return p.jsx(B0,{children:p.jsx(SR,{children:p.jsx(BT,{children:p.jsx(bR,{children:p.jsx(_R,{children:p.jsxs(OT,{children:[p.jsx(he,{path:"/login",element:p.jsx(PR,{})}),p.jsx(he,{path:"/reset-password",element:p.jsx(Ae,{children:p.jsx(GR,{})})}),p.jsx(he,{path:"/verify",element:p.jsx(Ae,{children:p.jsx(FR,{})})}),p.jsx(he,{path:"/dashboard",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(MR,{})})})})}),p.jsx(he,{path:"/applications",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(NR,{})})})})}),p.jsx(he,{path:"/applications/new",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(LR,{})})})})}),p.jsx(he,{path:"/applications/:id",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(DR,{})})})})}),p.jsx(he,{path:"/cat72",element:p.jsx(ln,{to:"/envelo"})}),p.jsx(he,{path:"/certificates",element:p.jsx(ln,{to:"/envelo"})}),p.jsx(he,{path:"/pending",element:p.jsx(Ae,{children:p.jsx(jR,{})})}),p.jsx(he,{path:"/resources",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(BR,{})})})})}),p.jsx(he,{path:"/monitoring",element:p.jsx(ln,{to:"/envelo"})}),p.jsx(he,{path:"/envelo",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(UR,{})})})})}),p.jsx(he,{path:"/activity",element:p.jsx(tt,{roles:["admin"],children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(zR,{})})})})}),p.jsx(he,{path:"/my-activity",element:p.jsx(ln,{to:"/activity"})}),p.jsx(he,{path:"/settings",element:p.jsx(tt,{children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(WR,{})})})})}),p.jsx(he,{path:"/api-docs",element:p.jsx(tt,{roles:["admin"],children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(VR,{})})})})}),p.jsx(he,{path:"/licensees",element:p.jsx(tt,{roles:["admin"],children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx(HR,{})})})})}),p.jsx(he,{path:"/users",element:p.jsx(tt,{roles:["admin"],children:p.jsx(nt,{children:p.jsx(Ae,{children:p.jsx($R,{})})})})}),p.jsx(he,{path:"/",element:p.jsx(ln,{to:"/dashboard"})}),p.jsx(he,{path:"*",element:p.jsx(Ae,{children:p.jsx(qR,{})})})]})})})})})})}O0({dsn:"undefined",environment:"production",integrations:[I0(),a0({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.05,replaysOnErrorSampleRate:1});const YR=new em({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchInterval:3e4},mutations:{onError:e=>mi(e)}}});co.createRoot(document.getElementById("root")).render(p.jsx(Xt.StrictMode,{children:p.jsx(D0,{fallback:p.jsx("div",{style:{padding:"40px",textAlign:"center",fontFamily:"monospace",fontSize:"13px",color:"#666"},children:"Something went wrong. The team has been notified."}),children:p.jsx(tm,{client:YR,children:p.jsx(KR,{})})})}));export{Tk as A,vR as B,sk as C,th as D,nl as L,li as S,Ik as a,Ii as b,ER as c,Ve as d,Rk as e,tk as f,ik as g,rk as h,ZR as i,p as j,lo as k,di as l,Ph as m,st as n,uo as o,Hh as p,Ll as q,Nh as r,R as s,Mh as t,Pi as u,Kh as v,Fh as w,Pe as x,ek as y,Xp as z};
