import{a as S,c as j,b as v,j as e,d as C}from"./index-BJZ-0Cup.js";import{r as i}from"./icons-DL0PQMVt.js";import{P as _}from"./Panel-qYXn_6p-.js";import{S as z}from"./SectionHeader-dX1pPpwY.js";import"./vendor-DYB3FAiG.js";function B(){const{user:s}=S(),p=j(),d=v(),[l,u]=i.useState(!1),[y,b]=i.useState(!1),[f,x]=i.useState(""),[a,g]=i.useState({organization_name:"",contact_email:"",system_name:""});i.useEffect(()=>{s&&g(t=>({...t,organization_name:s.organization_name||"",contact_email:s.email||""}))},[s]);const c=(t,r)=>g(o=>({...o,[t]:r})),n=a.organization_name&&a.contact_email&&a.system_name,h=async()=>{var t,r;if(!(!n||l)){u(!0);try{const o=await C.post("/api/applications/",{organization_name:a.organization_name,contact_email:a.contact_email,system_name:a.system_name,system_description:a.system_name});x(o.data.application_number||o.data.id),b(!0),d.show("Application submitted","success")}catch(o){d.show(((r=(t=o==null?void 0:o.response)==null?void 0:t.data)==null?void 0:r.detail)||"Submission failed","error")}finally{u(!1)}}},m={background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.07)",color:"#fff",fontFamily:"Calibri, 'Inter', system-ui, sans-serif",fontSize:"14px",transition:"border-color 0.2s ease"};return y?e.jsxs("div",{style:{maxWidth:560,margin:"0 auto",padding:"60px 0",textAlign:"center"},children:[e.jsx("div",{style:{width:64,height:64,margin:"0 auto 24px",border:"2px solid rgba(92,214,133,0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"#5CD685",fontSize:28},children:"✓"}),e.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:28,fontWeight:200,marginBottom:8},children:"Application Submitted"}),e.jsx("p",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:13,color:"#a896d6",letterSpacing:1,marginBottom:24},children:f}),e.jsx("p",{style:{color:"rgba(255,255,255,.6)",fontSize:14,lineHeight:1.6,marginBottom:32},children:"Your application is under review. Once approved, you'll receive Interlock deployment credentials and a one-command install script. The Interlock will auto-discover your system's boundaries and begin the CAT-72 verification process."}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[e.jsx("button",{onClick:()=>p("/applications"),className:"btn",style:{padding:"12px 24px",color:"#a896d6",borderColor:"rgba(157,140,207,0.3)",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2,textTransform:"uppercase"},children:"View Applications"}),e.jsx("button",{onClick:()=>p("/dashboard"),className:"btn",style:{padding:"12px 24px",color:"rgba(255,255,255,.5)",borderColor:"rgba(255,255,255,0.07)",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2,textTransform:"uppercase"},children:"Dashboard"})]})]}):e.jsxs("div",{style:{maxWidth:560,margin:"0 auto"},children:[e.jsx(z,{label:"New Application",title:"Apply for ODDC"}),e.jsx("p",{style:{color:"rgba(255,255,255,.5)",fontSize:13,lineHeight:1.6,marginBottom:32},children:"Three fields. Submit your application, and we'll handle the rest — Interlock deployment, boundary discovery, and CAT-72 verification are all automated."}),e.jsx(_,{children:e.jsxs("div",{style:{padding:"24px",display:"flex",flexDirection:"column",gap:20},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:6,color:"rgba(255,255,255,.78)",fontSize:13},children:"Organization Name"}),e.jsx("input",{type:"text",value:a.organization_name,onChange:t=>c("organization_name",t.target.value),className:"w-full px-4 py-3 outline-none",style:m,placeholder:"Acme Robotics Inc."})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:6,color:"rgba(255,255,255,.78)",fontSize:13},children:"Contact Email"}),e.jsx("input",{type:"email",value:a.contact_email,onChange:t=>c("contact_email",t.target.value),className:"w-full px-4 py-3 outline-none",style:m,placeholder:"ops@acmerobotics.com"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:6,color:"rgba(255,255,255,.78)",fontSize:13},children:"System Name"}),e.jsx("input",{type:"text",value:a.system_name,onChange:t=>c("system_name",t.target.value),className:"w-full px-4 py-3 outline-none",style:m,placeholder:"e.g., WarehouseBot v3, DeliveryDrone Mark II"}),e.jsx("p",{style:{color:"rgba(255,255,255,.35)",fontSize:11,marginTop:6,lineHeight:1.4},children:"One system = one unique software + operating domain combination."})]}),e.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.04)",paddingTop:20,marginTop:4},children:[e.jsx("button",{onClick:h,disabled:!n||l,className:"btn w-full",style:{padding:"14px 24px",color:n?"#5CD685":"rgba(255,255,255,.2)",borderColor:n?"rgba(92,214,133,0.3)":"rgba(255,255,255,0.04)",fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:11,letterSpacing:2.5,textTransform:"uppercase",cursor:n?"pointer":"not-allowed",opacity:l?.5:1,transition:"all 0.2s ease"},children:l?"Submitting...":"Submit Application — $12,000"}),e.jsx("p",{style:{color:"rgba(255,255,255,.3)",fontSize:10,textAlign:"center",marginTop:10,lineHeight:1.4},children:"Assessment fee due at approval. Covers ODD review, CAT-72, and certificate issuance."})]})]})})]})}export{B as default};
