import{d as x,j as r,s as t,A as d,L as f}from"./index-yBtxF6iz.js";import{r as o}from"./icons-CHtaS-ny.js";import{P as m}from"./Panel-DzaT4GMG.js";import"./vendor-Dzneq-kE.js";function S(){const[a,i]=o.useState([]),[s,p]=o.useState("active");o.useEffect(()=>{x.get("/api/certificates/").then(e=>i(e.data)).catch(console.error)},[]);const n=a.filter(e=>s==="all"?!0:s==="active"?e.state==="conformant"||e.state==="active"||e.state==="issued":e.state===s),l={all:a.length,active:a.filter(e=>e.state==="conformant"||e.state==="active"||e.state==="issued").length,suspended:a.filter(e=>e.state==="suspended").length,revoked:a.filter(e=>e.state==="revoked").length},c=[{key:"active",label:"Active"},{key:"suspended",label:"Suspended"},{key:"revoked",label:"Revoked"},{key:"all",label:"All Records"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{style:{fontFamily:t.mono,fontSize:"10px",letterSpacing:"4px",textTransform:"uppercase",color:t.purpleBright,marginBottom:"8px"},children:"Records"}),r.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:"clamp(24px, 5vw, 36px)",fontWeight:200,margin:0},children:"Certificates"}),r.jsx("p",{style:{color:t.textSecondary,marginTop:"8px"},children:"Issued ODDC conformance determinations"})]}),r.jsx("div",{style:{display:"flex",gap:"4px",background:"transparent",padding:"4px",border:`1px solid ${t.borderGlass}`},children:c.map(e=>r.jsxs("button",{onClick:()=>p(e.key),style:{flex:1,padding:"8px 16px",border:"none",cursor:"pointer",fontFamily:t.mono,fontSize:"10px",letterSpacing:"1.5px",textTransform:"uppercase",transition:"all 0.2s",background:s===e.key?t.purplePrimary:"transparent",color:s===e.key?"#fff":t.textTertiary},children:[e.label," ",l[e.key]>0?`(${l[e.key]})`:""]},e.key))}),r.jsxs(m,{children:[r.jsx("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:r.jsxs("table",{className:"w-full",style:{minWidth:"600px"},children:[r.jsx("thead",{children:r.jsxs("tr",{style:{borderBottom:`1px solid ${t.borderGlass}`},children:[r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"Certificate #"}),r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"System"}),r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"Organization"}),r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"Expires"}),r.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:t.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:t.textTertiary,fontWeight:400},children:"Actions"})]})}),r.jsx("tbody",{children:n.map(e=>r.jsxs("tr",{style:{borderBottom:`1px solid ${t.borderGlass}`},children:[r.jsx("td",{className:"px-4 py-4",style:{fontFamily:t.mono,fontSize:"12px",color:t.purpleBright},children:e.certificate_number}),r.jsx("td",{className:"px-4 py-4",style:{color:t.textPrimary},children:e.system_name}),r.jsx("td",{className:"px-4 py-4",style:{color:t.textSecondary},children:e.organization_name}),r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:"px-2 py-1",style:{background:e.state==="conformant"?"rgba(22,135,62,0.06)":e.state==="suspended"?"rgba(158,110,18,0.06)":"rgba(180,52,52,0.06)",color:e.state==="conformant"?t.accentGreen:e.state==="suspended"?t.accentAmber:t.accentRed,fontFamily:t.mono,fontSize:"10px",letterSpacing:"1px",textTransform:"uppercase"},children:e.state})}),r.jsx("td",{className:"px-4 py-4",style:{color:t.textTertiary,fontSize:"14px"},children:e.expires_at?new Date(e.expires_at).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.state!=="revoked"&&e.state!=="suspended"?r.jsx("a",{href:`${d}/api/certificates/${e.certificate_number}/pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 transition-colors no-underline",style:{background:t.purplePrimary,border:`1px solid ${t.purpleBright}`,color:"#fff",fontFamily:t.mono,fontSize:"10px",letterSpacing:"1px",textTransform:"uppercase"},children:"Download PDF"}):r.jsx("span",{style:{fontFamily:t.mono,fontSize:"10px",color:t.textTertiary,letterSpacing:"1px",textTransform:"uppercase"},children:e.state==="revoked"?"Revoked":"Suspended"}),r.jsx(f,{to:`/verify?cert=${e.certificate_number}`,className:"px-2 py-1 no-underline",style:{background:"transparent",border:`1px solid ${t.borderGlass}`,color:t.textSecondary,fontFamily:t.mono,fontSize:"9px",letterSpacing:"0.5px",textTransform:"uppercase"},children:"Verify"})]})})]},e.id))})]})}),n.length===0&&r.jsx("div",{className:"text-center py-12",style:{color:t.textTertiary},children:a.length===0?"No certificates issued":`No ${s==="all"?"":s+" "}certificates`})]})]})}export{S as default};
