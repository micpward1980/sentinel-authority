import{u as f,c as p,j as t,s as e}from"./index-CiYkEjR4.js";import{r as n,f as y}from"./icons-CE7UjK-E.js";import"./vendor-BZ1VDJqt.js";function j(){const{user:a}=f(),[s,c]=n.useState([]),[x,l]=n.useState(!0);n.useEffect(()=>{p.get("/api/documents/").then(r=>{c(Array.isArray(r.data)?r.data:[]),l(!1)}).catch(()=>l(!1))},[]);const m=async(r,u)=>{try{const i=await p.get("/api/documents/"+r+"/download",{responseType:"blob"}),d=window.URL.createObjectURL(i.data),o=document.createElement("a");o.href=d,o.download=u.replace(/\s+/g,"_")+".pdf",document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(d)}catch(i){console.error("Download error:",i)}};return t.jsxs("div",{style:{padding:"32px",maxWidth:"900px",margin:"0 auto"},children:[t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("p",{style:{fontFamily:e.mono,fontSize:"10px",letterSpacing:"2px",textTransform:"uppercase",color:e.purpleBright,marginBottom:"8px"},children:"RESOURCES"}),t.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:"clamp(20px, 4vw, 28px)",fontWeight:200,color:e.textPrimary,margin:0},children:"Documents & Guides"}),t.jsx("p",{style:{color:e.textTertiary,marginTop:"8px",fontSize:"14px"},children:"Reference materials for the ODDC certification process."})]}),x?t.jsx("div",{style:{color:e.textTertiary,fontFamily:e.mono,fontSize:"12px"},children:"Loading documents..."}):s.length===0?t.jsx("div",{style:{padding:"clamp(16px, 4vw, 40px)",textAlign:"center",border:"1px solid "+e.borderGlass,background:e.cardSurface,borderRadius:8,color:e.textTertiary},children:"No documents available."}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:s.map(r=>t.jsxs("div",{style:{padding:"24px",border:"1px solid "+e.borderGlass,background:e.cardSurface,borderRadius:8,display:"flex",alignItems:"center",gap:"20px"},children:[t.jsx("div",{style:{width:"48px",height:"48px",background:e.purplePrimary+"22",border:"1px solid "+e.purplePrimary+"44",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:t.jsx(y,{fill:"currentColor",fillOpacity:.15,strokeWidth:1.8,style:{width:"22px",height:"22px",color:e.purpleBright}})}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontWeight:500,color:e.textPrimary,fontSize:"15px",marginBottom:"4px"},children:r.title}),t.jsx("div",{style:{color:e.textTertiary,fontSize:"13px",lineHeight:"1.4"},children:r.description}),t.jsx("div",{style:{fontFamily:e.mono,fontSize:"10px",color:e.textTertiary,marginTop:"6px",letterSpacing:"1px",textTransform:"uppercase"},children:"PDF â€¢ v"+r.version})]}),t.jsx("button",{onClick:()=>m(r.id,r.title),style:{padding:"10px 16px",background:"transparent",border:"none",borderBottom:`1px solid ${e.purpleBright}`,color:e.purpleBright,fontFamily:e.mono,fontSize:"11px",letterSpacing:"1px",textTransform:"uppercase",cursor:"pointer",flexShrink:0},children:"Download"})]},r.id))}),a&&a.role==="admin"&&t.jsx("div",{style:{marginTop:"40px",padding:"20px",border:"1px dashed "+e.borderGlass,color:e.textTertiary,fontSize:"12px",fontFamily:e.mono,borderRadius:8},children:"ADMIN: To add documents, place PDFs in backend/static/documents/ and register them in documents.py"})]})}export{j as default};
