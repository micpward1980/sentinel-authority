import{d as f,j as t,A as m,L as g}from"./index-BYnaB1hk.js";import{r as o}from"./icons-DePecJlF.js";import{P as y}from"./Panel-kszczCzL.js";import"./vendor-Dki-GHBX.js";function j(){const[a,p]=o.useState([]),[n,c]=o.useState(""),[s,x]=o.useState("active");o.useEffect(()=>{f.get("/api/certificates/").then(e=>p(e.data)).catch(console.error)},[]);const r=a.filter(e=>{if(s!=="all"){if(s==="active"&&!(e.state==="conformant"||e.state==="active"||e.state==="issued"))return!1;if(s!=="active"&&e.state!==s)return!1}if(n){const l=n.toLowerCase();if(!(e.certificate_number||"").toLowerCase().includes(l)&&!(e.organization_name||"").toLowerCase().includes(l)&&!(e.system_name||"").toLowerCase().includes(l))return!1}return!0}),i={all:a.length,active:a.filter(e=>e.state==="conformant"||e.state==="active"||e.state==="issued").length,suspended:a.filter(e=>e.state==="suspended").length,revoked:a.filter(e=>e.state==="revoked").length},d=[{key:"active",label:"Active"},{key:"suspended",label:"Suspended"},{key:"revoked",label:"Revoked"},{key:"all",label:"All Records"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("p",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"4px",textTransform:"uppercase",color:"#a896d6",marginBottom:"10px",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{width:"24px",height:"1px",background:"#a896d6"}}),"Records"]}),t.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:"clamp(24px, 4vw, 32px)",fontWeight:200,letterSpacing:"-0.02em",margin:0},children:"Certificates"}),t.jsx("p",{style:{color:"rgba(255,255,255,.78)",marginTop:"8px"},children:"Issued ODDC conformance determinations"})]}),t.jsx("div",{style:{display:"flex",gap:"4px",background:"rgba(255,255,255,0.03)",padding:"4px",border:"1px solid rgba(255,255,255,.07)"},children:d.map(e=>t.jsxs("button",{onClick:()=>x(e.key),style:{flex:1,padding:"8px 16px",border:"none",cursor:"pointer",fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"10px",letterSpacing:"1.5px",textTransform:"uppercase",transition:"all 0.2s",background:s===e.key?"#5B4B8A":"transparent",color:s===e.key?"#fff":"rgba(255,255,255,.50)"},children:[e.label," ",i[e.key]>0?`(${i[e.key]})`:""]},e.key))}),t.jsx("input",{type:"text",placeholder:"Search cert, org, system...",value:n,onChange:e=>c(e.target.value),style:{background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)",color:"rgba(255,255,255,.90)",padding:"6px 12px",fontFamily:"Consolas, monospace",fontSize:"11px",width:"200px",outline:"none",marginBottom:"-8px"}}),t.jsxs(y,{children:[t.jsx("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:t.jsxs("table",{className:"w-full",style:{minWidth:"600px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,.07)"},children:[t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"Certificate #"}),t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"System"}),t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"Organization"}),t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"Expires"}),t.jsx("th",{className:"px-4 py-3 text-left",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:"rgba(255,255,255,.50)",fontWeight:400},children:"Actions"})]})}),t.jsx("tbody",{children:r.map(e=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,.07)"},children:[t.jsx("td",{className:"px-4 py-4",style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"12px",color:"#a896d6"},children:e.certificate_number}),t.jsx("td",{className:"px-4 py-4",style:{color:"rgba(255,255,255,.94)"},children:e.system_name}),t.jsx("td",{className:"px-4 py-4",style:{color:"rgba(255,255,255,.78)"},children:e.organization_name}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"px-2 py-1",style:{background:e.state==="conformant"?"rgba(92,214,133,0.04)":e.state==="suspended"?"rgba(214,160,92,0.04)":"rgba(214,92,92,0.04)",color:e.state==="conformant"?"#5CD685":e.state==="suspended"?"#D6A05C":"#D65C5C",fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"10px",letterSpacing:"1px",textTransform:"uppercase"},children:e.state})}),t.jsx("td",{className:"px-4 py-4",style:{color:"rgba(255,255,255,.50)",fontSize:"14px"},children:e.expires_at?new Date(e.expires_at).toLocaleDateString():"-"}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.state!=="revoked"&&e.state!=="suspended"?t.jsx("a",{href:`${m}/api/certificates/${e.certificate_number}/pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 transition-colors no-underline btn",children:"Download PDF"}):t.jsx("span",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"10px",color:"rgba(255,255,255,.50)",letterSpacing:"1px",textTransform:"uppercase"},children:e.state==="revoked"?"Revoked":"Suspended"}),t.jsx(g,{to:`/verify?cert=${e.certificate_number}`,className:"px-2 py-1 no-underline btn",children:"Verify"})]})})]},e.id))})]})}),r.length===0&&t.jsx("div",{className:"text-center py-12",style:{color:"rgba(255,255,255,.50)"},children:r.length===0?"No certificates issued":`No ${s==="all"?"":s+" "}certificates`})]})]})}export{j as default};
