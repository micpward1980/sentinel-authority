const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-CXSEY_CP.js","assets/icons-DoVa95ye.js","assets/Panel-DEZNkczo.js","assets/StatCard-BXG1NNqz.js","assets/EmptyState-BarRr_nP.js","assets/vendor-Wl6gKwD_.js","assets/ApplicationsList-CfGS6nAX.js","assets/useQuery-CUrFnEoR.js","assets/CopyableId-CFuNyf21.js","assets/NewApplication-B5bgpxsr.js","assets/ApplicationDetail-GkikxT7j.js","assets/CAT72Console-Q3JOW4Uu.js","assets/CertificatesPage-BS9L4JIu.js","assets/Badge-DmHVLvSe.js","assets/VerifyPage-DAjnSdBo.js","assets/PendingPage-vMupHTzk.js","assets/ResourcesPage-D8Vb4zx6.js","assets/EnveloPage-BR0BK66a.js","assets/SectionHeader-DL7qCIyz.js","assets/MonitoringPage-DWYRJwTT.js","assets/UserManagementPage-O5LQwvwV.js","assets/LicenseesPage-DsSMw1EA.js","assets/ActivityPage-C-4LouHJ.js","assets/MyActivityPage-DkecqYoq.js","assets/SettingsPage-Bb6aay-3.js","assets/NotFoundPage-9J7Si5jT.js","assets/ApiDocsPage-CYodt3hf.js","assets/ResetPasswordPage-vVEf9uqn.js"])))=>i.map(i=>d[i]);
var rc=e=>{throw TypeError(e)};var Di=(e,t,n)=>t.has(e)||rc("Cannot "+n);var x=(e,t,n)=>(Di(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>t.has(e)?rc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(Di(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Re=(e,t,n)=>(Di(e,t,"access private method"),n);var ms=(e,t,n,r)=>({set _(s){W(e,t,s,n)},get _(){return x(e,t,r)}});import{r as S,R as Xt,a as ih,b as oh,C as ah,S as ch,H as uh,F as sc,c as lh,A as dh,B as fh,d as ph,U as hh,e as mh,f as gh,E as ic,X as yh,L as _h,M as Sh,h as bh,i as Eh,j as vh}from"./icons-DoVa95ye.js";import{r as xh,R as wh}from"./vendor-Wl6gKwD_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pl={exports:{}},ci={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=S,Ih=Symbol.for("react.element"),Rh=Symbol.for("react.fragment"),kh=Object.prototype.hasOwnProperty,Ch=Th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ah={key:!0,ref:!0,__self:!0,__source:!0};function Ml(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kh.call(t,r)&&!Ah.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ih,type:e,key:i,ref:o,props:s,_owner:Ch.current}}ci.Fragment=Rh;ci.jsx=Ml;ci.jsxs=Ml;Pl.exports=ci;var f=Pl.exports,ao={},oc=xh;ao.createRoot=oc.createRoot,ao.hydrateRoot=oc.hydrateRoot;var ui=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oh={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bt,Zo,vl,Ph=(vl=class{constructor(){ne(this,Bt,Oh);ne(this,Zo,!1)}setTimeoutProvider(e){W(this,Bt,e)}setTimeout(e,t){return x(this,Bt).setTimeout(e,t)}clearTimeout(e){x(this,Bt).clearTimeout(e)}setInterval(e,t){return x(this,Bt).setInterval(e,t)}clearInterval(e){x(this,Bt).clearInterval(e)}},Bt=new WeakMap,Zo=new WeakMap,vl),co=new Ph;function Mh(e){setTimeout(e,0)}var li=typeof window>"u"||"Deno"in globalThis;function st(){}function Nh(e,t){return typeof e=="function"?e(t):e}function Lh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function uo(e,t){return typeof e=="function"?e(t):e}function Fh(e,t){return typeof e=="function"?e(t):e}function ac(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==ea(o,t.options))return!1}else if(!Pr(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function cc(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Or(t.options.mutationKey)!==Or(i))return!1}else if(!Pr(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ea(e,t){return((t==null?void 0:t.queryKeyHashFn)||Or)(e)}function Or(e){return JSON.stringify(e,(t,n)=>lo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Pr(e[n],t[n])):!1}var jh=Object.prototype.hasOwnProperty;function Nl(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=uc(e)&&uc(t);if(!r&&!(lo(e)&&lo(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,c=r?new Array(a):{};let u=0;for(let l=0;l<a;l++){const d=r?l:o[l],p=e[d],m=t[d];if(p===m){c[d]=p,(r?l<i:jh.call(e,d))&&u++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){c[d]=m;continue}const h=Nl(p,m,n+1);c[d]=h,h===p&&u++}return i===a&&u===i?e:c}function ok(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function uc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lo(e){if(!lc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lc(e){return Object.prototype.toString.call(e)==="[object Object]"}function Bh(e){return new Promise(t=>{co.setTimeout(t,e)})}function Uh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Nl(e,t):t}function $h(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Hh(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ta=Symbol();function Ll(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ta?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ak(e,t){return typeof e=="function"?e(...t):!!e}function zh(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var pn,Ut,Gn,xl,Wh=(xl=class extends ui{constructor(){super();ne(this,pn);ne(this,Ut);ne(this,Gn);W(this,Gn,t=>{if(!li&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,Ut)||this.setEventListener(x(this,Gn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Ut))==null||t.call(this),W(this,Ut,void 0))}setEventListener(t){var n;W(this,Gn,t),(n=x(this,Ut))==null||n.call(this),W(this,Ut,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,pn)!==t&&(W(this,pn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,pn)=="boolean"?x(this,pn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},pn=new WeakMap,Ut=new WeakMap,Gn=new WeakMap,xl),Dl=new Wh;function qh(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Vh=Mh;function Gh(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Vh;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ne=Gh(),Kn,$t,Yn,wl,Kh=(wl=class extends ui{constructor(){super();ne(this,Kn,!0);ne(this,$t);ne(this,Yn);W(this,Yn,t=>{if(!li&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,$t)||this.setEventListener(x(this,Yn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,$t))==null||t.call(this),W(this,$t,void 0))}setEventListener(t){var n;W(this,Yn,t),(n=x(this,$t))==null||n.call(this),W(this,$t,t(this.setOnline.bind(this)))}setOnline(t){x(this,Kn)!==t&&(W(this,Kn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,Kn)}},Kn=new WeakMap,$t=new WeakMap,Yn=new WeakMap,wl),Hs=new Kh;function Yh(e){return Math.min(1e3*2**e,3e4)}function Fl(e){return(e??"online")==="online"?Hs.isOnline():!0}var fo=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jl(e){let t=!1,n=0,r;const s=qh(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const _=new fo(g);p(_),(y=e.onCancel)==null||y.call(e,_)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Dl.isFocused()&&(e.networkMode==="always"||Hs.isOnline())&&e.canRun(),l=()=>Fl(e.networkMode)&&e.canRun(),d=g=>{i()||(r==null||r(),s.resolve(g))},p=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var y;r=_=>{(i()||u())&&g(_)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),h=()=>{if(i())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(d).catch(_=>{var k;if(i())return;const T=e.retry??(li?0:3),I=e.retryDelay??Yh,w=typeof I=="function"?I(n,_):I,M=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,_);if(t||!M){p(_);return}n++,(k=e.onFail)==null||k.call(e,n,_),Bh(w).then(()=>u()?void 0:m()).then(()=>{t?p(_):h()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?h():m().then(h),s)}}var hn,Tl,Bl=(Tl=class{constructor(){ne(this,hn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&W(this,hn,co.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){x(this,hn)&&(co.clearTimeout(x(this,hn)),W(this,hn,void 0))}},hn=new WeakMap,Tl),mn,Jn,Ze,gn,Te,Wr,yn,it,vt,Il,Jh=(Il=class extends Bl{constructor(t){super();ne(this,it);ne(this,mn);ne(this,Jn);ne(this,Ze);ne(this,gn);ne(this,Te);ne(this,Wr);ne(this,yn);W(this,yn,!1),W(this,Wr,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,gn,t.client),W(this,Ze,x(this,gn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,mn,fc(this.options)),this.state=t.state??x(this,mn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,Te))==null?void 0:t.promise}setOptions(t){if(this.options={...x(this,Wr),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=fc(this.options);n.data!==void 0&&(this.setState(dc(n.data,n.dataUpdatedAt)),W(this,mn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Ze).remove(this)}setData(t,n){const r=Uh(this.state.data,t,this.options);return Re(this,it,vt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Re(this,it,vt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,Te))==null?void 0:r.promise;return(s=x(this,Te))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,mn))}isActive(){return this.observers.some(t=>Fh(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ta||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>uo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Te))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,Te))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,Ze).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,Te)&&(x(this,yn)?x(this,Te).cancel({revert:!0}):x(this,Te).cancelRetry()),this.scheduleGc()),x(this,Ze).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,it,vt).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,l,d,p,m,h,g,y,_,T,I;if(this.state.fetchStatus!=="idle"&&((c=x(this,Te))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,Te))return x(this,Te).continueRetry(),x(this,Te).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(M=>M.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(W(this,yn,!0),r.signal)})},i=()=>{const w=Ll(this.options,n),k=(()=>{const v={client:x(this,gn),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return W(this,yn,!1),this.options.persister?this.options.persister(w,k,this):w(k)},a=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,gn),state:this.state,fetchFn:i};return s(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),W(this,Jn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&Re(this,it,vt).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),W(this,Te,jl({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof fo&&w.revert&&this.setState({...x(this,Jn),fetchStatus:"idle"}),r.abort()},onFail:(w,M)=>{Re(this,it,vt).call(this,{type:"failed",failureCount:w,error:M})},onPause:()=>{Re(this,it,vt).call(this,{type:"pause"})},onContinue:()=>{Re(this,it,vt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await x(this,Te).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(m=(p=x(this,Ze).config).onSuccess)==null||m.call(p,w,this),(g=(h=x(this,Ze).config).onSettled)==null||g.call(h,w,this.state.error,this),w}catch(w){if(w instanceof fo){if(w.silent)return x(this,Te).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Re(this,it,vt).call(this,{type:"error",error:w}),(_=(y=x(this,Ze).config).onError)==null||_.call(y,w,this),(I=(T=x(this,Ze).config).onSettled)==null||I.call(T,this.state.data,w,this),w}finally{this.scheduleGc()}}},mn=new WeakMap,Jn=new WeakMap,Ze=new WeakMap,gn=new WeakMap,Te=new WeakMap,Wr=new WeakMap,yn=new WeakMap,it=new WeakSet,vt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Xh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...dc(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Jn,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,Ze).notify({query:this,type:"updated",action:t})})},Il);function Xh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fl(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dc(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function pc(e){return{onFetch:(t,n)=>{var l,d,p,m,h;const r=t.options,s=(p=(d=(l=t.fetchOptions)==null?void 0:l.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=I=>{zh(I,()=>t.signal,()=>g=!0)},_=Ll(t.options,t.fetchOptions),T=async(I,w,M)=>{if(g)return Promise.reject();if(w==null&&I.pages.length)return Promise.resolve(I);const v=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:M?"backward":"forward",meta:t.options.meta};return y(P),P})(),A=await _(v),{maxPages:D}=t.options,E=M?Hh:$h;return{pages:E(I.pages,A,D),pageParams:E(I.pageParams,w,D)}};if(s&&i.length){const I=s==="backward",w=I?Qh:hc,M={pages:i,pageParams:o},k=w(r,M);a=await T(M,k,I)}else{const I=e??i.length;do{const w=c===0?o[0]??r.initialPageParam:hc(r,a);if(c>0&&w==null)break;a=await T(a,w),c++}while(c<I)}return a};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function hc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Qh(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qr,pt,ke,_n,ht,Dt,Rl,Zh=(Rl=class extends Bl{constructor(t){super();ne(this,ht);ne(this,qr);ne(this,pt);ne(this,ke);ne(this,_n);W(this,qr,t.client),this.mutationId=t.mutationId,W(this,ke,t.mutationCache),W(this,pt,[]),this.state=t.state||em(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,pt).includes(t)||(x(this,pt).push(t),this.clearGcTimeout(),x(this,ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,pt,x(this,pt).filter(n=>n!==t)),this.scheduleGc(),x(this,ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,pt).length||(this.state.status==="pending"?this.scheduleGc():x(this,ke).remove(this))}continue(){var t;return((t=x(this,_n))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,l,d,p,m,h,g,y,_,T,I,w,M,k,v;const n=()=>{Re(this,ht,Dt).call(this,{type:"continue"})},r={client:x(this,qr),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,_n,jl({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Re(this,ht,Dt).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Re(this,ht,Dt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,ke).canRun(this)}));const s=this.state.status==="pending",i=!x(this,_n).canStart();try{if(s)n();else{Re(this,ht,Dt).call(this,{type:"pending",variables:t,isPaused:i}),x(this,ke).config.onMutate&&await x(this,ke).config.onMutate(t,this,r);const D=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t,r));D!==this.state.context&&Re(this,ht,Dt).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const A=await x(this,_n).start();return await((u=(c=x(this,ke).config).onSuccess)==null?void 0:u.call(c,A,t,this.state.context,this,r)),await((d=(l=this.options).onSuccess)==null?void 0:d.call(l,A,t,this.state.context,r)),await((m=(p=x(this,ke).config).onSettled)==null?void 0:m.call(p,A,null,this.state.variables,this.state.context,this,r)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,A,null,t,this.state.context,r)),Re(this,ht,Dt).call(this,{type:"success",data:A}),A}catch(A){try{await((_=(y=x(this,ke).config).onError)==null?void 0:_.call(y,A,t,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((I=(T=this.options).onError)==null?void 0:I.call(T,A,t,this.state.context,r))}catch(D){Promise.reject(D)}try{await((M=(w=x(this,ke).config).onSettled)==null?void 0:M.call(w,void 0,A,this.state.variables,this.state.context,this,r))}catch(D){Promise.reject(D)}try{await((v=(k=this.options).onSettled)==null?void 0:v.call(k,void 0,A,t,this.state.context,r))}catch(D){Promise.reject(D)}throw Re(this,ht,Dt).call(this,{type:"error",error:A}),A}finally{x(this,ke).runNext(this)}}},qr=new WeakMap,pt=new WeakMap,ke=new WeakMap,_n=new WeakMap,ht=new WeakSet,Dt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ne.batch(()=>{x(this,pt).forEach(r=>{r.onMutationUpdate(t)}),x(this,ke).notify({mutation:this,type:"updated",action:t})})},Rl);function em(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wt,ot,Vr,kl,tm=(kl=class extends ui{constructor(t={}){super();ne(this,wt);ne(this,ot);ne(this,Vr);this.config=t,W(this,wt,new Set),W(this,ot,new Map),W(this,Vr,0)}build(t,n,r){const s=new Zh({client:t,mutationCache:this,mutationId:++ms(this,Vr)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){x(this,wt).add(t);const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n);r?r.push(t):x(this,ot).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,wt).delete(t)){const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&x(this,ot).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gs(t);if(typeof n=="string"){const s=(r=x(this,ot).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ne.batch(()=>{x(this,wt).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,wt).clear(),x(this,ot).clear()})}getAll(){return Array.from(x(this,wt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cc(n,r))}findAll(t={}){return this.getAll().filter(n=>cc(t,n))}notify(t){Ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ne.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},wt=new WeakMap,ot=new WeakMap,Vr=new WeakMap,kl);function gs(e){var t;return(t=e.options.scope)==null?void 0:t.id}var mt,Cl,nm=(Cl=class extends ui{constructor(t={}){super();ne(this,mt);this.config=t,W(this,mt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ea(s,n);let o=this.get(i);return o||(o=new Jh({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){x(this,mt).has(t.queryHash)||(x(this,mt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,mt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,mt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,mt).get(t)}getAll(){return[...x(this,mt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ac(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ac(t,r)):n}notify(t){Ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mt=new WeakMap,Cl),me,Ht,zt,Xn,Qn,Wt,Zn,er,Al,rm=(Al=class{constructor(e={}){ne(this,me);ne(this,Ht);ne(this,zt);ne(this,Xn);ne(this,Qn);ne(this,Wt);ne(this,Zn);ne(this,er);W(this,me,e.queryCache||new nm),W(this,Ht,e.mutationCache||new tm),W(this,zt,e.defaultOptions||{}),W(this,Xn,new Map),W(this,Qn,new Map),W(this,Wt,0)}mount(){ms(this,Wt)._++,x(this,Wt)===1&&(W(this,Zn,Dl.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,me).onFocus())})),W(this,er,Hs.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,me).onOnline())})))}unmount(){var e,t;ms(this,Wt)._--,x(this,Wt)===0&&((e=x(this,Zn))==null||e.call(this),W(this,Zn,void 0),(t=x(this,er))==null||t.call(this),W(this,er,void 0))}isFetching(e){return x(this,me).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Ht).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,me).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,me).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(uo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return x(this,me).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,me).get(r.queryHash),i=s==null?void 0:s.state.data,o=Nh(t,i);if(o!==void 0)return x(this,me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ne.batch(()=>x(this,me).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,me).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,me);Ne.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,me);return Ne.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ne.batch(()=>x(this,me).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return Ne.batch(()=>(x(this,me).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ne.batch(()=>x(this,me).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,me).build(this,t);return n.isStaleByTime(uo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=pc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=pc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hs.isOnline()?x(this,Ht).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,me)}getMutationCache(){return x(this,Ht)}getDefaultOptions(){return x(this,zt)}setDefaultOptions(e){W(this,zt,e)}setQueryDefaults(e,t){x(this,Xn).set(Or(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Xn).values()],n={};return t.forEach(r=>{Pr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){x(this,Qn).set(Or(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Qn).values()],n={};return t.forEach(r=>{Pr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,zt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ea(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ta&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,zt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,me).clear(),x(this,Ht).clear()}},me=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Xn=new WeakMap,Qn=new WeakMap,Wt=new WeakMap,Zn=new WeakMap,er=new WeakMap,Al),Ul=S.createContext(void 0),ck=e=>{const t=S.useContext(Ul);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},sm=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(Ul.Provider,{value:e,children:t}));const j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ee=globalThis,Sn="10.39.0";function Cn(){return di(ee),ee}function di(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sn,t[Sn]=t[Sn]||{}}function dr(e,t,n=ee){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Sn]=r[Sn]||{};return s[e]||(s[e]=t())}const im=["debug","info","warn","error","log","assert","trace"],om="Sentry Logger ",zs={};function An(e){if(!("console"in ee))return e();const t=ee.console,n={},r=Object.keys(zs);r.forEach(s=>{const i=zs[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function am(){ra().enabled=!0}function cm(){ra().enabled=!1}function $l(){return ra().enabled}function um(...e){na("log",...e)}function lm(...e){na("warn",...e)}function dm(...e){na("error",...e)}function na(e,...t){j&&$l()&&An(()=>{ee.console[e](`${om}[${e}]:`,...t)})}function ra(){return j?dr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const O={enable:am,disable:cm,isEnabled:$l,log:um,warn:lm,error:dm},Hl=50,wn="?",mc=/\(error: (.*)\)/,gc=/captureMessage|captureException/;function zl(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=mc.test(c)?c.replace(mc,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){i.push(d);break}}if(i.length>=Hl+s)break}}return pm(i.slice(s))}}function fm(e){return Array.isArray(e)?zl(...e):e}function pm(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ys(t).function||"")&&t.pop(),t.reverse(),gc.test(ys(t).function||"")&&(t.pop(),gc.test(ys(t).function||"")&&t.pop()),t.slice(0,Hl).map(n=>({...n,filename:n.filename||ys(t).filename,function:n.function||wn}))}function ys(e){return e[e.length-1]||{}}const Fi="<anonymous>";function Ct(e){try{return!e||typeof e!="function"?Fi:e.name||Fi}catch{return Fi}}function yc(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Wl(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const ks={},_c={};function tn(e,t){ks[e]=ks[e]||[],ks[e].push(t)}function nn(e,t){if(!_c[e]){_c[e]=!0;try{t()}catch(n){j&&O.error(`Error while instrumenting ${e}`,n)}}}function et(e,t){const n=e&&ks[e];if(n)for(const r of n)try{r(t)}catch(s){j&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}let ji=null;function ql(e){const t="error";tn(t,e),nn(t,hm)}function hm(){ji=ee.onerror,ee.onerror=function(e,t,n,r,s){return et("error",{column:r,error:s,line:n,msg:e,url:t}),ji?ji.apply(this,arguments):!1},ee.onerror.__SENTRY_INSTRUMENTED__=!0}let Bi=null;function Vl(e){const t="unhandledrejection";tn(t,e),nn(t,mm)}function mm(){Bi=ee.onunhandledrejection,ee.onunhandledrejection=function(e){return et("unhandledrejection",e),Bi?Bi.apply(this,arguments):!0},ee.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Gl=Object.prototype.toString;function Gr(e){switch(Gl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return At(e,Error)}}function fr(e,t){return Gl.call(e)===`[object ${t}]`}function Kl(e){return fr(e,"ErrorEvent")}function Sc(e){return fr(e,"DOMError")}function gm(e){return fr(e,"DOMException")}function Tt(e){return fr(e,"String")}function sa(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function tr(e){return e===null||sa(e)||typeof e!="object"&&typeof e!="function"}function Mr(e){return fr(e,"Object")}function fi(e){return typeof Event<"u"&&At(e,Event)}function ym(e){return typeof Element<"u"&&At(e,Element)}function _m(e){return fr(e,"RegExp")}function pr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Sm(e){return Mr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function At(e,t){try{return e instanceof t}catch{return!1}}function Yl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function ia(e){return typeof Request<"u"&&At(e,Request)}const oa=ee,bm=80;function ze(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||bm;for(;n&&i++<r&&(u=Em(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Em(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(oa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Tt(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function hr(){try{return oa.document.location.href}catch{return""}}function Jl(e){if(!oa.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ue(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Xl(s,r);try{e[t]=s}catch{j&&O.log(`Failed to replace method "${t}" in object`,e)}}function We(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{j&&O.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Xl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,We(e,"__sentry_original__",t)}catch{}}function aa(e){return e.__sentry_original__}function Ql(e){if(Gr(e))return{message:e.message,name:e.name,stack:e.stack,...Ec(e)};if(fi(e)){const t={type:e.type,target:bc(e.target),currentTarget:bc(e.currentTarget),...Ec(e)};return typeof CustomEvent<"u"&&At(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function bc(e){try{return ym(e)?ze(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ec(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function vm(e){const t=Object.keys(Ql(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Ln;function Kr(e){if(Ln!==void 0)return Ln?Ln(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=ee;return t in n&&typeof n[t]=="function"?(Ln=n[t],Ln(e)):(Ln=null,e())}function Vt(){return Kr(()=>Math.random())}function Yr(){return Kr(()=>Date.now())}function po(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function vc(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Yl(s)?n.push(Wl(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Cs(e,t,n=!1){return Tt(e)?_m(t)?t.test(e):Tt(t)?n?e===t:e.includes(t):!1:!1}function It(e,t=[],n=!1){return t.some(r=>Cs(e,r,n))}function xm(){const e=ee;return e.crypto||e.msCrypto}let Ui;function wm(){return Vt()*16}function Ye(e=xm()){try{if(e!=null&&e.randomUUID)return Kr(()=>e.randomUUID()).replace(/-/g,"")}catch{}return Ui||(Ui="10000000100040008000"+1e11),Ui.replace(/[018]/g,t=>(t^(wm()&15)>>t/4).toString(16))}function Zl(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function un(e){const{message:t,event_id:n}=e;if(t)return t;const r=Zl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ho(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function nr(e,t){const n=Zl(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function xc(e){if(Tm(e))return!0;try{We(e,"__sentry_captured__",!0)}catch{}return!1}function Tm(e){try{return e.__sentry_captured__}catch{}}const ed=1e3;function On(){return Yr()/ed}function Im(){const{performance:e}=ee;if(!(e!=null&&e.now)||!e.timeOrigin)return On;const t=e.timeOrigin;return()=>(t+Kr(()=>e.now()))/ed}let wc;function Ie(){return(wc??(wc=Im()))()}let $i=null;function Rm(){var o;const{performance:e}=ee;if(!(e!=null&&e.now))return;const t=3e5,n=Kr(()=>e.now()),r=Yr(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const i=(o=e.timing)==null?void 0:o.navigationStart;return typeof i=="number"&&Math.abs(i+n-r)<t?i:r-n}function Ve(){return $i===null&&($i=Rm()),$i}function km(e){const t=Ie(),n={sid:Ye(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Am(n)};return e&&rr(n,e),n}function rr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ie(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ye()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Cm(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),rr(e,n)}function Am(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Jr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Jr(r[s],t[s],n-1));return r}function Ot(){return Ye()}function Rt(){return Ye().substring(16)}const mo="_sentrySpan";function sr(e,t){t?We(e,mo,t):delete e[mo]}function Ws(e){return e[mo]}const Om=100;class yt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ot(),sampleRand:Vt()}}clone(){const t=new yt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,sr(t,Ws(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&rr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof yt?n.getScopeData():Mr(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d,conversationId:p}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),p&&(this._conversationId=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,sr(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ot(),sampleRand:Vt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:Om;if(r<=0)return this;const s={timestamp:On(),...t,message:t.message?po(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ws(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Jr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Ye();if(!this._client)return j&&O.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Ye();if(!this._client)return j&&O.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=t.event_id||(n==null?void 0:n.event_id)||Ye();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(j&&O.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Pm(){return dr("defaultCurrentScope",()=>new yt)}function Mm(){return dr("defaultIsolationScope",()=>new yt)}class Nm{constructor(t,n){let r;t?r=t:r=new yt;let s;n?s=n:s=new yt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return pr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ir(){const e=Cn(),t=di(e);return t.stack=t.stack||new Nm(Pm(),Mm())}function Lm(e){return ir().withScope(e)}function Dm(e,t){const n=ir();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Tc(e){return ir().withScope(()=>e(ir().getIsolationScope()))}function Fm(){return{withIsolationScope:Tc,withScope:Lm,withSetScope:Dm,withSetIsolationScope:(e,t)=>Tc(t),getCurrentScope:()=>ir().getScope(),getIsolationScope:()=>ir().getIsolationScope()}}function mr(e){const t=di(e);return t.acs?t.acs:Fm()}function ae(){const e=Cn();return mr(e).getCurrentScope()}function tt(){const e=Cn();return mr(e).getIsolationScope()}function jm(){return dr("globalScope",()=>new yt)}function gr(...e){const t=Cn(),n=mr(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function X(){return ae().getClient()}function Bm(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||Rt()};return r&&(i.parent_span_id=r),i}const ut="sentry.source",ca="sentry.sample_rate",td="sentry.previous_trace_sample_rate",Pt="sentry.op",xe="sentry.origin",Nr="sentry.idle_span_finish_reason",Xr="sentry.measurement_unit",Qr="sentry.measurement_value",Ic="sentry.custom_span_name",ua="sentry.profile_id",yr="sentry.exclusive_time",Um="sentry.link.type",$m="gen_ai.conversation.id",Hm=0,la=1,ve=2;function zm(e){if(e<400&&e>=100)return{code:la};if(e>=400&&e<500)switch(e){case 401:return{code:ve,message:"unauthenticated"};case 403:return{code:ve,message:"permission_denied"};case 404:return{code:ve,message:"not_found"};case 409:return{code:ve,message:"already_exists"};case 413:return{code:ve,message:"failed_precondition"};case 429:return{code:ve,message:"resource_exhausted"};case 499:return{code:ve,message:"cancelled"};default:return{code:ve,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ve,message:"unimplemented"};case 503:return{code:ve,message:"unavailable"};case 504:return{code:ve,message:"deadline_exceeded"};default:return{code:ve,message:"internal_error"}}return{code:ve,message:"internal_error"}}function nd(e,t){e.setAttribute("http.response.status_code",t);const n=zm(t);n.message!=="unknown_error"&&e.setStatus(n)}const rd="_sentryScope",sd="_sentryIsolationScope";function Wm(e){try{const t=ee.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function qm(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Vm(e,t,n){e&&(We(e,sd,Wm(n)),We(e,rd,t))}function qs(e){const t=e;return{scope:t[rd],isolationScope:qm(t[sd])}}const da="sentry-",Gm=/^sentry-/,Km=8192;function id(e){const t=Jm(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Gm)){const o=s.slice(da.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Ym(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${da}${r}`]=s),n),{});return Xm(t)}function Jm(e){if(!(!e||!Tt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Rc(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Rc(e)}function Rc(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Xm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Km?(j&&O.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Qm=/^o(\d+)\./,Zm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function eg(e){return e==="http"||e==="https"}function Pn(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function tg(e){const t=Zm.exec(e);if(!t){An(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return od({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function od(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ng(e){if(!j)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(O.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?eg(r)?t&&isNaN(parseInt(t,10))?(O.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(O.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function rg(e){const t=e.match(Qm);return t==null?void 0:t[1]}function sg(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=rg(n)),r}function ad(e){const t=typeof e=="string"?tg(e):od(e);if(!(!t||!ng(t)))return t}function Tn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const cd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ig(e){if(!e)return;const t=e.match(cd);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function og(e,t){const n=ig(e),r=id(t);if(!(n!=null&&n.traceId))return{traceId:Ot(),sampleRand:Vt()};const s=ag(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function ud(e=Ot(),t=Rt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ld(e=Ot(),t=Rt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function ag(e,t){const n=Tn(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Tn(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Vt()*r:r+Vt()*(1-r):Vt()}const dd=0,fa=1;let kc=!1;function cg(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=se(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function ug(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:se(e).parent_span_id,i=qs(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||Rt():t;return{parent_span_id:s,span_id:o,trace_id:n}}function lg(e){const{traceId:t,spanId:n}=e.spanContext(),r=rn(e);return ud(t,n,r)}function dg(e){const{traceId:t,spanId:n}=e.spanContext(),r=rn(e);return ld(t,n,r)}function fd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===fa,attributes:i,...s}))}function bn(e){return typeof e=="number"?Cc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Cc(e.getTime()):Ie()}function Cc(e){return e>9999999999?e/1e3:e}function se(e){var r;if(pg(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(fg(e)){const{attributes:s,startTime:i,name:o,endTime:a,status:c,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:l,start_timestamp:bn(i),timestamp:bn(a)||void 0,status:pd(c),op:s[Pt],origin:s[xe],links:fd(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function fg(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function pg(e){return typeof e.getSpanJSON=="function"}function rn(e){const{traceFlags:t}=e.spanContext();return t===fa}function pd(e){if(!(!e||e.code===Hm))return e.code===la?"ok":e.message||"internal_error"}const En="_sentryChildSpans",go="_sentryRootSpan";function hd(e,t){const n=e[go]||e;We(t,go,n),e[En]?e[En].add(t):We(e,En,new Set([t]))}function hg(e,t){e[En]&&e[En].delete(t)}function As(e){const t=new Set;function n(r){if(!t.has(r)&&rn(r)){t.add(r);const s=r[En]?Array.from(r[En]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function Ae(e){return e[go]||e}function De(){const e=Cn(),t=mr(e);return t.getActiveSpan?t.getActiveSpan():Ws(ae())}function yo(){kc||(An(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),kc=!0)}let Ac=!1;function mg(){if(Ac)return;function e(){const t=De(),n=t&&Ae(t);if(n){const r="internal_error";j&&O.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:ve,message:r})}}e.tag="sentry_tracingErrorCallback",Ac=!0,ql(e),Vl(e)}function lt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=X())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Oc(e){O.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Vs(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(yg(n)){if(Cs(e.description,n))return j&&Oc(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Cs(e.description,n.name):!0,s=n.op?e.op&&Cs(e.op,n.op):!0;if(r&&s)return j&&Oc(e),!0}return!1}function gg(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function yg(e){return typeof e=="string"||e instanceof RegExp}const pa="production",md="_frozenDsc";function Os(e,t){We(e,md,t)}function gd(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||pa,release:n.release,public_key:r,trace_id:e,org_id:sg(t)};return t.emit("createDsc",s),s}function yd(e,t){const n=t.getPropagationContext();return n.dsc||gd(n.traceId,e)}function Mt(e){var h;const t=X();if(!t)return{};const n=Ae(e),r=se(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[ca]??s[td];function a(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const c=n[md];if(c)return a(c);const u=i==null?void 0:i.get("sentry.dsc"),l=u&&id(u);if(l)return a(l);const d=gd(e.spanContext().traceId,t),p=s[ut],m=r.description;return p!=="url"&&m&&(d.transaction=m),lt()&&(d.sampled=String(rn(n)),d.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((h=qs(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(d),t.emit("createDsc",d,n),d}class Qt{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||Rt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:dd}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function at(e,t=100,n=1/0){try{return _o("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function _d(e,t=3,n=100*1024){const r=at(e,t);return Eg(r)>n?_d(e,t-1,n):r}function _o(e,t,n=1/0,r=1/0,s=vg()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=_g(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return _o("",m,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=Ql(t);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(d>=r){l[m]="[MaxProperties ~]";break}const h=p[m];l[m]=_o(m,h,c-1,r,s),d++}return o(t),l}function _g(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Yl(t))return Wl(t);if(Sm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ct(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Sg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Sg(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function bg(e){return~-encodeURI(e).split(/%..|./).length}function Eg(e){return bg(JSON.stringify(e))}function vg(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function sn(e,t=[]){return[e,t]}function xg(e,t){const[n,r]=e;return[n,[...r,t]]}function So(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function wg(e,t){return So(e,(n,r)=>t.includes(r))}function bo(e){const t=di(ee);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Tg(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[bo(r),i]:r.push(typeof i=="string"?bo(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(at(a))}s(c)}}return typeof r=="string"?r:Ig(r)}function Ig(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Rg(e){return[{type:"span"},e]}function kg(e){const t=typeof e.data=="string"?bo(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Cg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Pc(e){return Cg[e]}function ha(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Sd(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Pn(r)},...s&&{trace:s}}}function Ag(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function Og(e,t,n,r){const s=ha(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Pn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return sn(i,[o])}function Pg(e,t,n,r){const s=ha(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Ag(e,n==null?void 0:n.sdk);const o=Sd(e,s,r,t);return delete e.sdkProcessingMetadata,sn(o,[[{type:i},e]])}function Mg(e,t){function n(m){return!!m.trace_id&&!!m.public_key}const r=Mt(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Pn(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(m=>!Vs(se(m),c)):e,l=e.length-u.length;l&&(t==null||t.recordDroppedEvent("before_send","span",l));const d=a?m=>{const h=se(m),g=a(h);return g||(yo(),h)}:se,p=[];for(const m of u){const h=d(m);h&&p.push(Rg(h))}return sn(o,p)}function Ng(e){if(!j)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=se(e),{spanId:s}=e.spanContext(),i=rn(e),o=Ae(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=se(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}O.log(`${c}
  ${u.join(`
  `)}`)}function Lg(e){if(!j)return;const{description:t="< unknown name >",op:n="< unknown op >"}=se(e),{spanId:r}=e.spanContext(),i=Ae(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;O.log(o)}function Dg(e,t,n,r=De()){const s=r&&Ae(r);s&&(j&&O.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Qr]:t,[Xr]:n}))}function Mc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Xr],i=r[Qr];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Nc=1e3;class pi{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||Rt(),this._startTime=t.startTimestamp||Ie(),this._links=t.links,this._attributes={},this.setAttributes({[xe]:"manual",[Pt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?fa:dd}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=bn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ut,"custom"),this}end(t){this._endTime||(this._endTime=bn(t),Lg(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Pt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:pd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[xe],profile_id:this._attributes[ua],exclusive_time:this._attributes[yr],measurements:Mc(this._events),is_segment:this._isStandaloneSpan&&Ae(this)===this||void 0,segment_id:this._isStandaloneSpan?Ae(this).spanContext().spanId:void 0,links:fd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){j&&O.log("[Tracing] Adding an event to span:",t);const s=Lc(n)?n:r||Ie(),i=Lc(n)?{}:n||{},o={name:t,time:bn(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=X();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ae(this)))return;if(this._isStandaloneSpan){this._sampled?jg(Mg([this],t)):(j&&O.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(qs(this).scope||ae()).captureEvent(r)}_convertSpanToTransaction(){var l;if(!Dc(se(this)))return;this._name||(j&&O.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=qs(this),r=(l=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:l.normalizedRequest;if(this._sampled!==!0)return;const i=As(this).filter(d=>d!==this&&!Fg(d)).map(d=>se(d)).filter(Dc),o=this._attributes[ut];delete this._attributes[Ic],i.forEach(d=>{delete d.data[Ic]});const a={contexts:{trace:cg(this)},spans:i.length>Nc?i.sort((d,p)=>d.start_timestamp-p.start_timestamp).slice(0,Nc):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Mt(this)},request:r,...o&&{transaction_info:{source:o}}},c=Mc(this._events);return c&&Object.keys(c).length&&(j&&O.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Lc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Dc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Fg(e){return e instanceof pi&&e.isStandaloneSpan()}function jg(e){const t=X();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Bg(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return Ug(s,t,n,r)}function Ug(e,t,n,r){return pr(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function $g(e,t,n){if(!lt(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Tn(s);if(i===void 0)return j&&O.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return j&&O.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||j&&O.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const bd="__SENTRY_SUPPRESS_TRACING__";function Hg(e,t){const n=ga();if(n.startSpan)return n.startSpan(e,t);const r=vd(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o==null?void 0:o.clone();return gr(a,()=>Wg(i)(()=>{const u=ae(),l=xd(u,i),p=e.onlyIfParent&&!l?new Qt:Ed({parentSpan:l,spanArguments:r,forceTransaction:s,scope:u});return sr(u,p),Bg(()=>t(p),()=>{const{status:m}=se(p);p.isRecording()&&(!m||m==="ok")&&p.setStatus({code:ve,message:"internal_error"})},()=>{p.end()})}))}function _r(e){const t=ga();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=vd(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>gr(e.scope,o):s!==void 0?o=>ma(s,o):o=>o())(()=>{const o=ae(),a=xd(o,s);return e.onlyIfParent&&!a?new Qt:Ed({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function ma(e,t){const n=ga();return n.withActiveSpan?n.withActiveSpan(e,t):gr(r=>(sr(r,e||void 0),t(r)))}function Ed({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!lt()){const o=new Qt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Mt(o)};Os(o,a)}return o}const s=tt();let i;if(e&&!n)i=zg(e,r,t),hd(e,i);else if(e){const o=Mt(e),{traceId:a,spanId:c}=e.spanContext(),u=rn(e);i=Fc({traceId:a,parentSpanId:c,...t},r,u),Os(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=Fc({traceId:o,parentSpanId:c,...t},r,u),a&&Os(i,a)}return Ng(i),Vm(i,r,s),i}function vd(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=bn(e.startTime),delete r.startTime,r}return n}function ga(){const e=Cn();return mr(e)}function Fc(e,t,n){var h;const r=X(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[bd]?[!1]:$g(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:Tn((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),m=new pi({...e,attributes:{[ut]:"custom",[ca]:d!==void 0&&p?d:void 0,...c},sampled:l});return!l&&r&&(j&&O.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function zg(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[bd]?!1:rn(e),o=i?new pi({...n,parentSpanId:r,traceId:s,sampled:i}):new Qt({traceId:s});hd(e,o);const a=X();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function xd(e,t){if(t)return t;if(t===null)return;const n=Ws(e);if(!n)return;const r=X();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ae(n):n}function Wg(e){return e!==void 0?t=>ma(e,t):t=>t()}const Ps={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},qg="heartbeatFailed",Vg="idleTimeout",Gg="finalTimeout",Kg="externalFinish";function wd(e,t={}){const n=new Map;let r=!1,s,i=Kg,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Ps.idleTimeout,finalTimeout:u=Ps.finalTimeout,childSpanTimeout:l=Ps.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:p=!0}=t,m=X();if(!m||!lt()){const v=new Qt,A={sample_rate:"0",sampled:"false",...Mt(v)};return Os(v,A),v}const h=ae(),g=De(),y=Yg(e);y.end=new Proxy(y.end,{apply(v,A,D){if(d&&d(y),A instanceof Qt)return;const[E,...P]=D,N=E||Ie(),B=bn(N),F=As(y).filter(L=>L!==y),ce=se(y);if(!F.length||!p)return k(B),Reflect.apply(v,A,[B,...P]);const V=m.getOptions().ignoreSpans,Z=F==null?void 0:F.reduce((L,G)=>{const Q=se(G);return!Q.timestamp||V&&Vs(Q,V)?L:L?Math.max(L,Q.timestamp):Q.timestamp},void 0),C=ce.start_timestamp,K=Math.min(C?C+u/1e3:1/0,Math.max(C||-1/0,Math.min(B,Z||1/0)));return k(K),Reflect.apply(v,A,[K,...P])}});function _(){s&&(clearTimeout(s),s=void 0)}function T(v){_(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=Vg,y.end(v))},c)}function I(v){s=setTimeout(()=>{!r&&o&&(i=qg,y.end(v))},l)}function w(v){_(),n.set(v,!0);const A=Ie();I(A+l/1e3)}function M(v){if(n.has(v)&&n.delete(v),n.size===0){const A=Ie();T(A+c/1e3)}}function k(v){r=!0,n.clear(),a.forEach(F=>F()),sr(h,g);const A=se(y),{start_timestamp:D}=A;if(!D)return;A.data[Nr]||y.setAttribute(Nr,i);const P=A.status;(!P||P==="unknown")&&y.setStatus({code:la}),O.log(`[Tracing] Idle span "${A.op}" finished`);const N=As(y).filter(F=>F!==y);let B=0;N.forEach(F=>{F.isRecording()&&(F.setStatus({code:ve,message:"cancelled"}),F.end(v),j&&O.log("[Tracing] Cancelling span since span ended early",JSON.stringify(F,void 0,2)));const ce=se(F),{timestamp:V=0,start_timestamp:Z=0}=ce,C=Z<=v,K=(u+c)/1e3,L=V-Z<=K;if(j){const G=JSON.stringify(F,void 0,2);C?L||O.log("[Tracing] Discarding span since it finished after idle span final timeout",G):O.log("[Tracing] Discarding span since it happened after idle span was finished",G)}(!L||!C)&&(hg(y,F),B++)}),B>0&&y.setAttribute("sentry.idle_span_discarded_spans",B)}return a.push(m.on("spanStart",v=>{if(r||v===y||se(v).timestamp||v instanceof pi&&v.isStandaloneSpan())return;As(y).includes(v)&&w(v.spanContext().spanId)})),a.push(m.on("spanEnd",v=>{r||M(v.spanContext().spanId)})),a.push(m.on("idleSpanEnableAutoFinish",v=>{v===y&&(o=!0,T(),n.size&&I())})),t.disableAutoFinish||T(),setTimeout(()=>{r||(y.setStatus({code:ve,message:"deadline_exceeded"}),i=Gg,y.end())},u),y}function Yg(e){const t=_r(e);return sr(ae(),t),j&&O.log("[Tracing] Started span is an idle span"),t}const Hi=0,jc=1,Bc=2;function Zr(e){return new Lr(t=>{t(e)})}function ya(e){return new Lr((t,n)=>{n(e)})}class Lr{constructor(t){this._state=Hi,this._handlers=[],this._runExecutor(t)}then(t,n){return new Lr((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Lr((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===Hi)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===jc&&n[1](this._value),this._state===Bc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===Hi){if(pr(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(jc,i)},s=i=>{n(Bc,i)};try{t(r,s)}catch(i){s(i)}}}function Jg(e,t,n,r=0){try{const s=Eo(t,n,e,r);return pr(s)?s:Zr(s)}catch(s){return ya(s)}}function Eo(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return j&&i===null&&O.log(`Event processor "${s.id||"?"}" dropped event`),pr(i)?i.then(o=>Eo(o,t,n,r+1)):Eo(i,t,n,r+1)}let Et,Uc,$c,Lt;function Xg(e){const t=ee._sentryDebugIds,n=ee._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(Lt&&r.length===Uc&&s.length===$c)return Lt;Uc=r.length,$c=s.length,Lt={},Et||(Et={});const i=(o,a)=>{for(const c of o){const u=a[c],l=Et==null?void 0:Et[c];if(l&&Lt&&u)Lt[l[0]]=u,Et&&(Et[c]=[l[0],u]);else if(u){const d=e(c);for(let p=d.length-1;p>=0;p--){const m=d[p],h=m==null?void 0:m.filename;if(h&&Lt&&Et){Lt[h]=u,Et[c]=[h,u];break}}}}};return t&&i(r,t),n&&i(s,n),Lt}function Qg(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;ey(e,t),r&&ry(e,r),sy(e,n),ty(e,s),ny(e,i)}function Hc(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:p,propagationContext:m,transactionName:h,span:g}=t;wr(e,"extra",n),wr(e,"tags",r),wr(e,"attributes",s),wr(e,"user",i),wr(e,"contexts",o),e.sdkProcessingMetadata=Jr(e.sdkProcessingMetadata,c,2),a&&(e.level=a),h&&(e.transactionName=h),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...m}}function wr(e,t,n){e[t]=Jr(e[t],n,1)}function Zg(e,t){const n=jm().getScopeData();return e&&Hc(n,e.getScopeData()),t&&Hc(n,t.getScopeData()),n}function ey(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function ty(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ny(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ry(e,t){e.contexts={trace:ug(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Mt(t),...e.sdkProcessingMetadata};const n=Ae(t),r=se(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function sy(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function Td(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ye(),timestamp:t.timestamp||On()},u=n.integrations||e.integrations.map(_=>_.name);iy(c,e),cy(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&oy(c,e.stackParser);const l=ly(r,n.captureContext);n.mechanism&&nr(c,n.mechanism);const d=s?s.getEventProcessors():[],p=Zg(i,l),m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),Qg(c,p);const h=[...d,...p.eventProcessors];return(n.data&&n.data.__sentry__===!0?Zr(c):Jg(h,c,n)).then(_=>(_&&ay(_),typeof o=="number"&&o>0?uy(_,o,a):_))}function iy(e,t){var a,c;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||pa,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=po(o.url,i)),i&&((c=(a=e.exception)==null?void 0:a.values)==null||c.forEach(u=>{u.value&&(u.value=po(u.value,i))}))}function oy(e,t){var r,s;const n=Xg(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function ay(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function cy(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function uy(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))},...e.user&&{user:at(e.user,t,n)},...e.contexts&&{contexts:at(e.contexts,t,n)},...e.extra&&{extra:at(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=at(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=at(e.contexts.flags,3,n)),r}function ly(e,t){if(!t)return e;const n=e?e.clone():new yt;return n.update(t),n}function dy(e){if(e)return fy(e)?{captureContext:e}:hy(e)?{captureContext:e}:e}function fy(e){return e instanceof yt||typeof e=="function"}const py=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function hy(e){return Object.keys(e).some(t=>py.includes(t))}function hi(e,t){return ae().captureException(e,dy(t))}function Id(e,t){return ae().captureEvent(e,t)}function Rd(e,t){tt().setContext(e,t)}function my(){return tt().lastEventId()}function gy(){const e=X();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function yy(e){tt().addEventProcessor(e)}function zc(e){const t=tt(),n=ae(),{userAgent:r}=ee.navigator||{},s=km({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&rr(i,{status:"exited"}),kd(),t.setSession(s),s}function kd(){const e=tt(),n=ae().getSession()||e.getSession();n&&Cm(n),Cd(),e.setSession()}function Cd(){const e=tt(),t=X(),n=e.getSession();n&&t&&t.captureSession(n)}function Wc(e=!1){if(e){kd();return}Cd()}const _y="7";function Ad(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Sy(e){return`${Ad(e)}${e.projectId}/envelope/`}function by(e,t){const n={sentry_version:_y};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Ey(e,t,n){return t||`${Sy(e)}?${by(e,n)}`}function vy(e,t){const n=ad(e);if(!n)return"";const r=`${Ad(n)}embed/error-page/`;let s=`dsn=${Pn(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const qc=[];function xy(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function wy(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return xy(r)}function Ty(e,t){const n={};return t.forEach(r=>{r&&Od(e,r,n)}),n}function Vc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Od(e,t,n){if(n[t.name]){j&&O.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!qc.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),qc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}j&&O.log(`Integration installed: ${t.name}`)}function Iy(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Ry(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Pn(r)),sn(s,[Iy(e)])}function Pd(e,t){const n=t??ky(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Ry(n,r._metadata,r.tunnel,e.getDsn());Md().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function ky(e){return Md().get(e)}function Md(){return dr("clientToLogBufferMap",()=>new WeakMap)}function Cy(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Ay(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Pn(r)),sn(s,[Cy(e)])}function Nd(e,t){const n=t??Oy(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Ay(n,r._metadata,r.tunnel,e.getDsn());Ld().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function Oy(e){return Ld().get(e)}function Ld(){return dr("clientToMetricBufferMap",()=>new WeakMap)}function Dd(e){return typeof e=="object"&&typeof e.unref=="function"&&e.unref(),e}const _a=Symbol.for("SentryBufferFullError");function Sa(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return ya(_a);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return Zr(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>Dd(setTimeout(()=>u(!1),o)))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const Py=60*1e3;function My(e,t=Yr()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Py:r-t}function Ny(e,t){return e[t]||e.all||0}function Fd(e,t,n=Yr()){return Ny(e,t)>n}function jd(e,{statusCode:t,headers:n},r=Yr()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+p;else for(const m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[m]=r+p):s[m]=r+p}else o?s.all=r+My(o,r):t===429&&(s.all=r+60*1e3);return s}const Bd=64;function Ly(e,t,n=Sa(e.bufferSize||Bd)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(So(o,(d,p)=>{const m=Pc(p);Fd(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(d)}),a.length===0)return Promise.resolve({});const c=sn(o[0],a),u=d=>{if(wg(c,["client_report"])){j&&O.warn(`Dropping client report. Will not send outcomes (reason: ${d}).`);return}So(c,(p,m)=>{e.recordDroppedEvent(d,Pc(m))})},l=()=>t({body:Tg(c)}).then(d=>d.statusCode===413?(j&&O.error("Sentry responded with status code 413. Envelope was discarded due to exceeding size limits."),u("send_error"),d):(j&&d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&O.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=jd(r,d),d),d=>{throw u("network_error"),j&&O.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===_a)return j&&O.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function Dy(e,t,n){const r=[{type:"client_report"},{timestamp:On(),discarded_events:e}];return sn(t?{dsn:t}:{},[r])}function Ud(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Fy(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[ua],exclusive_time:o==null?void 0:o[yr],measurements:e.measurements,is_segment:!0}}function jy(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ua]:e.profile_id},...e.exclusive_time&&{[yr]:e.exclusive_time}}}},measurements:e.measurements}}const Gc="Not capturing exception because it's already been captured.",Kc="Discarded session because of missing or non-string release",$d=Symbol.for("SentryInternalError"),Hd=Symbol.for("SentryDoNotSendEventError"),By=5e3;function Ms(e){return{message:e,[$d]:!0}}function zi(e){return{message:e,[Hd]:!0}}function Yc(e){return!!e&&typeof e=="object"&&$d in e}function Jc(e){return!!e&&typeof e=="object"&&Hd in e}function Xc(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=Dd(setTimeout(()=>{s(e)},By)))}),e.on("flush",()=>{s(e)})}class Uy{constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Sa(((r=t.transportOptions)==null?void 0:r.bufferSize)??Bd),t.dsn?this._dsn=ad(t.dsn):j&&O.warn("No DSN provided, client will not send events."),this._dsn){const o=Ey(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&Xc(this,"afterCaptureLog","flushLogs",Wy,Pd),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&Xc(this,"afterCaptureMetric","flushMetrics",zy,Nd)}captureException(t,n,r){const s=Ye();if(xc(t))return j&&O.log(Gc),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Ye(),...r},o=sa(t)?t:String(t),a=tr(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Ye();if(n!=null&&n.originalException&&xc(n.originalException))return j&&O.log(Gc),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Qc(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),rr(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Od(this,t,this._integrations),n||Vc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Pg(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=xg(r,kg(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=pa}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){j&&O.warn(Kc);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){j&&O.warn(Kc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=Og(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;j&&O.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return j&&O.error("Error while sending envelope:",n),{}}return j&&O.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Ty(this,t),Vc(this,t)}_updateSessionFromEvent(t,n){var c,u;let r=n.level==="fatal",s=!1;const i=(c=n.exception)==null?void 0:c.values;if(i){s=!0,r=!1;for(const l of i)if(((u=l.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(rr(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Td(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Bm(r),...a.contexts};const c=yd(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=ae(),s=tt()){return j&&vo(t)&&O.log(`Captured error event \`${Ud(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{j&&(Jc(i)?O.log(i.message):Yc(i)?O.warn(i.message):O.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=zd(t),c=vo(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Tn(o);if(c&&typeof d=="number"&&Vt()>d)return this.recordDroppedEvent("sample_rate","error"),ya(zi(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=Qc(t.type);return this._prepareEvent(t,n,r,s).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",p),zi("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;const g=Hy(this,i,m,n);return $y(g,l)}).then(m=>{var y;if(m===null){if(this.recordDroppedEvent("before_send",p),a){const T=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",T)}throw zi(`${l} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,m),a){const _=((y=m.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,T=m.spans?m.spans.length:0,I=_-T;I>0&&this.recordDroppedEvent("before_send","span",I)}const g=m.transaction_info;if(a&&g&&m.transaction!==t.transaction){const _="custom";m.transaction_info={...g,source:_}}return this.sendEvent(m,n),m}).then(null,m=>{throw Jc(m)||Yc(m)?m:(this.captureException(m,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:m}),Ms(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===_a&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){j&&O.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){j&&O.log("No outcomes to send");return}if(!this._dsn){j&&O.log("No dsn provided, will not send outcomes");return}j&&O.log("Sending outcomes:",t);const n=Dy(t,this._options.tunnel&&Pn(this._dsn));this.sendEnvelope(n)}}function Qc(e){return e==="replay_event"?"replay":e||"error"}function $y(e,t){const n=`${t} must return \`null\` or a valid event.`;if(pr(e))return e.then(r=>{if(!Mr(r)&&r!==null)throw Ms(n);return r},r=>{throw Ms(`${t} rejected with ${r}`)});if(!Mr(e)&&e!==null)throw Ms(n);return e}function Hy(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(vo(c)&&s)return s(c,r);if(zd(c)){if(o||a){const u=Fy(c);if(a!=null&&a.length&&Vs(u,a))return null;if(o){const l=o(u);l?c=Jr(n,jy(l)):yo()}if(c.spans){const l=[],d=c.spans;for(const m of d){if(a!=null&&a.length&&Vs(m,a)){gg(d,m);continue}if(o){const h=o(m);h?l.push(h):(yo(),l.push(m))}else l.push(m)}const p=c.spans.length-l.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=l}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function vo(e){return e.type===void 0}function zd(e){return e.type==="transaction"}function zy(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Wd(e.attributes)}function Wy(e){let t=0;return e.message&&(t+=e.message.length*2),t+Wd(e.attributes)}function Wd(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Zc(n[0]):tr(n)?t+=Zc(n):t+=100}),t}function Zc(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function qy(e){return Gr(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function eu(e){return qy(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function Vy(e,t){t.debug===!0&&(j?O.enable():An(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ae().update(t.initialScope);const r=new e(t);return Gy(r),r.init(),r}function Gy(e){ae().setClient(e)}const Ky="thismessage:/";function ba(e){return"isRelative"in e}function Ea(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Ky:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Yy(e){if(ba(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function vn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Jy(e){return e.split(/[?#]/,1)[0]}function Gt(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),i=e.indexOf(",");let o="";if(t&&i!==-1){const a=e.slice(i+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${s?",base64":""}${o?`,${o}`:""}`}return e}function Xy(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Zy(e,n)||Qy(e,r)}function Qy(e,t){return t?tu(e)===tu(t):!1}function Zy(e,t){const n=Ea(e);return!n||ba(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function tu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function e_(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function qd(e,t,n=[t],r="npm"){const s=(e._metadata=e._metadata||{}).sdk=e._metadata.sdk||{};s.name||(s.name=`sentry.javascript.${t}`,s.packages=n.map(i=>({name:`${r}:@sentry/${i}`,version:Sn})),s.version=Sn)}function Vd(e={}){const t=e.client||X();if(!gy()||!t)return{};const n=Cn(),r=mr(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||ae(),i=e.span||De(),o=i?lg(i):t_(s),a=i?Mt(i):yd(t,s),c=Ym(a);if(!cd.test(o))return O.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(l.traceparent=i?dg(i):n_(s)),l}function t_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ud(t,r,n)}function n_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ld(t,r,n)}function r_(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function l(){return s!==void 0||i!==void 0?c():r}function d(){return s&&clearTimeout(s),s=a(c,t),o&&i===void 0&&(i=a(c,o)),r}return d.cancel=u,d.flush=l,d}const s_=100;function Zt(e,t){const n=X(),r=tt();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=s_}=n.getOptions();if(i<=0)return;const a={timestamp:On(),...e},c=s?An(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let nu;const i_="FunctionToString",ru=new WeakMap,o_=()=>({name:i_,setupOnce(){nu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=aa(this),n=ru.has(X())&&t!==void 0?t:this;return nu.apply(n,e)}}catch{}},setup(e){ru.set(e,!0)}}),a_=o_,c_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],u_="EventFilters",l_=(e={})=>{let t;return{name:u_,setup(n){const r=n.getOptions();t=su(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=su(e,i)}return f_(n,t)?null:n}}},d_=(e={})=>({...l_(e),name:"InboundFilters"});function su(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:c_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function f_(e,t){if(e.type){if(e.type==="transaction"&&h_(e,t.ignoreTransactions))return j&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${un(e)}`),!0}else{if(p_(e,t.ignoreErrors))return j&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${un(e)}`),!0;if(__(e))return j&&O.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${un(e)}`),!0;if(m_(e,t.denyUrls))return j&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${un(e)}.
Url: ${Gs(e)}`),!0;if(!g_(e,t.allowUrls))return j&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${un(e)}.
Url: ${Gs(e)}`),!0}return!1}function p_(e,t){return t!=null&&t.length?Ud(e).some(n=>It(n,t)):!1}function h_(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?It(n,t):!1}function m_(e,t){if(!(t!=null&&t.length))return!1;const n=Gs(e);return n?It(n,t):!1}function g_(e,t){if(!(t!=null&&t.length))return!0;const n=Gs(e);return n?It(n,t):!0}function y_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Gs(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,a,c;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(a=i.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?y_(s):null}catch{return j&&O.error(`Cannot extract url for event ${un(e)}`),null}}function __(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function S_(e,t,n,r,s,i){var a;if(!((a=s.exception)!=null&&a.values)||!i||!At(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=xo(e,t,r,i.originalException,n,s.exception.values,o,0))}function xo(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(At(r[s],Error)){iu(o,a,r);const u=e(t,r[s]),l=c.length;ou(u,s,l,a),c=xo(e,t,n,r[s],s,[u,...c],u,l)}return Gd(r)&&r.errors.forEach((u,l)=>{if(At(u,Error)){iu(o,a,r);const d=e(t,u),p=c.length;ou(d,`errors[${l}]`,p,a),c=xo(e,t,n,u,s,[d,...c],d,p)}}),c}function Gd(e){return Array.isArray(e.errors)}function iu(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...Gd(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function ou(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function b_(e){const t="console";tn(t,e),nn(t,E_)}function E_(){"console"in ee&&im.forEach(function(e){e in ee.console&&Ue(ee.console,e,function(t){return zs[e]=t,function(...n){et("console",{args:n,level:e});const s=zs[e];s==null||s.apply(ee.console,n)}})})}function Kd(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const v_="Dedupe",x_=()=>{let e;return{name:v_,processEvent(t){if(t.type)return t;try{if(T_(t,e))return j&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},w_=x_;function T_(e,t){return t?!!(I_(e,t)||R_(e,t)):!1}function I_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Jd(e,t)||!Yd(e,t))}function R_(e,t){const n=au(t),r=au(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Jd(e,t)||!Yd(e,t))}function Yd(e,t){let n=yc(e),r=yc(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Jd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function au(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const k_="ConversationId",C_=()=>({name:k_,setup(e){e.on("spanStart",t=>{const n=ae().getScopeData(),r=tt().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute($m,s)})}}),A_=C_;function O_(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=lt()&&t(o);if(e.endTimestamp&&a){const m=e.fetchData.__span;if(!m)return;const h=r[m];h&&(N_(h,e),P_(h,e,s),delete r[m]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},l=!!De(),d=a&&l?_r(D_(o,i,c)):new Qt;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const m=e.args[0],h={...e.args[1]||{}},g=M_(m,h,lt()&&l?d:void 0,u);g&&(e.args[1]=h,h.headers=g)}const p=X();if(p){const m={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",d,m)}return d}function P_(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function M_(e,t,n,r){const s=Vd({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(ia(e)?e.headers:void 0);if(c)if(L_(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?_s(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&_s(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,p=d?Array.isArray(d)?[...d]:[d]:[],m=d&&(Array.isArray(d)?d.find(g=>_s(g)):_s(d));o&&!m&&p.push(o);const h={...c,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&a&&!l&&(h.traceparent=a),h}else return{...s}}function N_(e,t){var n,r;if(t.response){nd(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:ve,message:"internal_error"});e.end()}function _s(e){return e.split(",").some(t=>t.trim().startsWith(da))}function L_(e){return typeof Headers<"u"&&At(e,Headers)}function D_(e,t,n){if(e.startsWith("data:")){const i=Gt(e);return{name:`${t} ${i}`,attributes:cu(e,void 0,t,n)}}const r=Ea(e),s=r?Yy(r):e;return{name:`${t} ${s}`,attributes:cu(e,r,t,n)}}function cu(e,t,n,r){const s={url:Gt(e),type:"fetch","http.method":n,[xe]:r,[Pt]:"http.client"};return t&&(ba(t)||(s["http.url"]=Gt(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Xd(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Dr=ee;function F_(){return"history"in Dr&&!!Dr.history}function j_(){if(!("fetch"in Dr))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function wo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function B_(){var n;if(typeof EdgeRuntime=="string")return!0;if(!j_())return!1;if(wo(Dr.fetch))return!0;let e=!1;const t=Dr.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=wo(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){j&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Qd(e,t){const n="fetch";tn(n,e),nn(n,()=>Zd(void 0,t))}function U_(e){const t="fetch-body-resolved";tn(t,e),nn(t,()=>Zd(H_))}function Zd(e,t=!1){t&&!B_()||Ue(ee,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=z_(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:Ie()*1e3,virtualError:s,headers:W_(r)};return e||et("fetch",{...a}),n.apply(ee,r).then(async c=>(e?e(c):et("fetch",{...a,endTimestamp:Ie()*1e3,response:c}),c),c=>{et("fetch",{...a,endTimestamp:Ie()*1e3,error:c}),Gr(c)&&c.stack===void 0&&(c.stack=s.stack,We(c,"framesToPop",1));const u=X(),l=(u==null?void 0:u.getOptions().enhanceFetchErrorMessages)??"always";if(l!==!1&&c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(a.fetchData.url).host;l==="always"?c.message=`${c.message} (${m})`:We(c,"__sentry_fetch_url_host__",m)}catch{}throw c})}})}async function $_(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function H_(e){let t;try{t=e.clone()}catch{return}$_(t,()=>{et("fetch-body-resolved",{endTimestamp:Ie()*1e3,response:e})})}function Ns(e,t){return!!e&&typeof e=="object"&&!!e[t]}function uu(e){return typeof e=="string"?e:e?Ns(e,"url")?e.url:e.toString?e.toString():"":""}function z_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:uu(n),method:Ns(r,"method")?String(r.method).toUpperCase():ia(n)&&Ns(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:uu(t),method:Ns(t,"method")?String(t.method).toUpperCase():"GET"}}function W_(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(ia(t))return new Headers(t.headers)}catch{}}function q_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function V_(){return"npm"}function G_(){return!q_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function To(){return typeof window<"u"&&(!G_()||K_())}function K_(){const e=ee.process;return(e==null?void 0:e.type)==="renderer"}const J=ee;let Io=0;function ef(){return Io>0}function Y_(){Io++,setTimeout(()=>{Io--})}function or(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(aa(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>or(o,t));return e.apply(this,i)}catch(i){throw Y_(),gr(o=>{o.addEventProcessor(a=>(t.mechanism&&(ho(a,void 0),nr(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),hi(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Xl(r,e),We(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function va(){const e=hr(),{referrer:t}=J.document||{},{userAgent:n}=J.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function xa(e,t){const n=wa(e,t),r={type:eS(t),value:tS(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function J_(e,t,n,r){const s=X(),i=s==null?void 0:s.getOptions().normalizeDepth,o=oS(t),a={__serialized__:_d(t,i)};if(o)return{exception:{values:[xa(e,o)]},extra:a};const c={exception:{values:[{type:fi(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:sS(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=wa(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Wi(e,t){return{exception:{values:[xa(e,t)]}}}function wa(e,t){const n=t.stacktrace||t.stack||"",r=Q_(t),s=Z_(t);try{return e(n,r,s)}catch{}return[]}const X_=/Minified React error #\d+;/i;function Q_(e){return e&&X_.test(e.message)?1:0}function Z_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function tf(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function eS(e){const t=e==null?void 0:e.name;return!t&&tf(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function tS(e){const t=e==null?void 0:e.message;return tf(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?eu(t.error):eu(e):"No error message"}function nS(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=Ta(e,t,s,r);return nr(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),Zr(i)}function rS(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=Ro(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Zr(o)}function Ta(e,t,n,r,s){let i;if(Kl(t)&&t.error)return Wi(e,t.error);if(Sc(t)||gm(t)){const o=t;if("stack"in t)i=Wi(e,t);else{const a=o.name||(Sc(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Ro(e,c,n,r),ho(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Gr(t)?Wi(e,t):Mr(t)||fi(t)?(i=J_(e,t,n,s),nr(i,{synthetic:!0}),i):(i=Ro(e,t,n,r),ho(i,`${t}`),nr(i,{synthetic:!0}),i)}function Ro(e,t,n,r){const s={};if(r&&n){const i=wa(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),nr(s,{synthetic:!0})}if(sa(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function sS(e,{isUnhandledRejection:t}){const n=vm(e),r=t?"promise rejection":"exception";return Kl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:fi(e)?`Event \`${iS(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function iS(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function oS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class aS extends Uy{constructor(t){var l;const n=cS(t),r=J.SENTRY_SDK_SOURCE||V_();qd(n,"browser",["browser"],r),(l=n._metadata)!=null&&l.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??(a==null?void 0:a.enableMetrics)??!0;J.document&&(i||o||u)&&J.document.addEventListener("visibilitychange",()=>{J.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Pd(this),u&&Nd(this))}),s&&this.on("beforeSendSession",e_)}eventFromException(t,n){return nS(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return rS(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function cS(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=J.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const In=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,z=ee,uS=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",es=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=uS(t.value,n),e(t)))}},ts=(e=!0)=>{var n,r;const t=(r=(n=z.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Sr=()=>{const e=ts();return(e==null?void 0:e.activationStart)??0};function Kt(e,t,n){z.document&&z.addEventListener(e,t,n)}function Ks(e,t,n){z.document&&z.removeEventListener(e,t,n)}let qn=-1;const nf=new Set,lS=()=>{var e,t;return((e=z.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=z.document)!=null&&t.prerendering)?0:1/0},Ls=e=>{if(dS(e)&&qn>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of nf)t();isFinite(qn)||(qn=e.type==="visibilitychange"?e.timeStamp:0,Ks("prerenderingchange",Ls,!0))}},ns=()=>{var e;if(z.document&&qn<0){const t=Sr();qn=(z.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??lS(),Kt("visibilitychange",Ls,!0),Kt("pagehide",Ls,!0),Kt("prerenderingchange",Ls,!0)}return{get firstHiddenTime(){return qn},onHidden(t){nf.add(t)}}};function dS(e){var t;return e.type==="pagehide"||((t=z.document)==null?void 0:t.visibilityState)==="hidden"}const fS=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,rs=(e,t=-1)=>{var i,o;const n=ts();let r="navigate";return n&&((i=z.document)!=null&&i.prerendering||Sr()>0?r="prerender":(o=z.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:fS(),navigationType:r}},qi=new WeakMap;function Ia(e,t){try{return qi.get(e)||qi.set(e,new t),qi.get(e)}catch{return new t}}class Ys{constructor(){Ys.prototype.__init.call(this),Ys.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const br=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ra=e=>{let t=!1;return()=>{t||(e(),t=!0)}},mi=e=>{var t;(t=z.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},pS=[1800,3e3],hS=(e,t={})=>{mi(()=>{const n=ns(),r=rs("FCP");let s;const o=br("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Sr(),0),r.entries.push(c),s(!0)))});o&&(s=es(e,r,pS,t.reportAllChanges))})},mS=[.1,.25],gS=(e,t={})=>{hS(Ra(()=>{var c;const n=rs("CLS",0);let r;const s=ns(),i=Ia(t,Ys),o=u=>{for(const l of u)i._processEntry(l);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=br("layout-shift",o);a&&(r=es(e,n,mS,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),(c=z==null?void 0:z.setTimeout)==null||c.call(z,r))}))};let rf=0,Vi=1/0,Ss=0;const yS=e=>{e.forEach(t=>{t.interactionId&&(Vi=Math.min(Vi,t.interactionId),Ss=Math.max(Ss,t.interactionId),rf=Ss?(Ss-Vi)/7+1:0)})};let ko;const sf=()=>ko?rf:performance.interactionCount||0,_S=()=>{"interactionCount"in performance||ko||(ko=br("event",yS,{type:"event",buffered:!0,durationThreshold:0}))},Gi=10;let of=0;const SS=()=>sf()-of;class Js{constructor(){Js.prototype.__init.call(this),Js.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){of=sf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(SS()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Gi||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>Gi){const o=this._longestInteractionList.splice(Gi);for(const a of o)this._longestInteractionMap.delete(a.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const af=e=>{var n;const t=z.requestIdleCallback||z.setTimeout;((n=z.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Ra(e),Kt("visibilitychange",e,{once:!0,capture:!0}),Kt("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),Ks("visibilitychange",e,{capture:!0}),Ks("pagehide",e,{capture:!0})}))},bS=[200,500],ES=40,vS=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=ns();mi(()=>{_S();const r=rs("INP");let s;const i=Ia(t,Js),o=c=>{af(()=>{for(const l of c)i._processEntry(l);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=br("event",o,{durationThreshold:t.durationThreshold??ES});s=es(e,r,bS,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class xS{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const wS=[2500,4e3],TS=(e,t={})=>{mi(()=>{const n=ns(),r=rs("LCP");let s;const i=Ia(t,xS),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Sr(),0),r.entries=[u],s())},a=br("largest-contentful-paint",o);if(a){s=es(e,r,wS,t.reportAllChanges);const c=Ra(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=l=>{l.isTrusted&&(af(c),Ks(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])Kt(l,u,{capture:!0})}})},IS=[800,1800],Co=e=>{var t,n;(t=z.document)!=null&&t.prerendering?mi(()=>Co(e)):((n=z.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Co(e),!0):setTimeout(e)},RS=(e,t={})=>{const n=rs("TTFB"),r=es(e,n,IS,t.reportAllChanges);Co(()=>{const s=ts();s&&(n.value=Math.max(s.responseStart-Sr(),0),n.entries=[s],r(!0))})},Rr={},Xs={};let cf,uf,lf,df;function ka(e,t=!1){return gi("cls",e,CS,cf,t)}function Ca(e,t=!1){return gi("lcp",e,AS,uf,t)}function kS(e){return gi("ttfb",e,OS,lf)}function ff(e){return gi("inp",e,PS,df)}function Rn(e,t){return pf(e,t),Xs[e]||(MS(e),Xs[e]=!0),hf(e,t)}function ss(e,t){const n=Rr[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){In&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}function CS(){return gS(e=>{ss("cls",{metric:e}),cf=e},{reportAllChanges:!0})}function AS(){return TS(e=>{ss("lcp",{metric:e}),uf=e},{reportAllChanges:!0})}function OS(){return RS(e=>{ss("ttfb",{metric:e}),lf=e})}function PS(){return vS(e=>{ss("inp",{metric:e}),df=e})}function gi(e,t,n,r,s=!1){pf(e,t);let i;return Xs[e]||(i=n(),Xs[e]=!0),r&&t({metric:r}),hf(e,t,s?i:void 0)}function MS(e){const t={};e==="event"&&(t.durationThreshold=0),br(e,n=>{ss(e,{entries:n})},t)}function pf(e,t){Rr[e]=Rr[e]||[],Rr[e].push(t)}function hf(e,t,n){return()=>{n&&n();const r=Rr[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function NS(e){return"duration"in e}const LS=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=z.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Kt("visibilitychange",t,{capture:!0,once:!0}),Kt("pagehide",t,{capture:!0,once:!0})};function Ki(e){return typeof e=="number"&&isFinite(e)}function en(e,t,n,{...r}){const s=se(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ma(e,()=>{const i=_r({startTime:t,...r});return i&&i.end(n),i})}function Aa(e){var y;const t=X();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),l=u==null?void 0:u.getReplayId(),d=ae(),p=d.getUser(),m=p!==void 0?p.email||p.id||p.ip_address:void 0;let h;try{h=d.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:m||void 0,profile_id:h||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":(y=z.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...s};return _r({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function is(){return z.addEventListener&&z.performance}function ge(e){return e/1e3}function DS(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function mf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function gf(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}LS(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function FS(e){let t=0,n;if(!mf("layout-shift"))return;const r=ka(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);gf(e,(s,i)=>{jS(t,n,i,s),r()})}function jS(e,t,n,r){var u;In&&O.log(`Sending CLS span (${e})`);const s=t?ge((Ve()||0)+t.startTime):Ie(),i=ae().getScopeData().transactionName,o=t?ze((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[xe]:"auto.http.browser.cls",[Pt]:"ui.webvital.cls",[yr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((l,d)=>{a[`cls.source.${d+1}`]=ze(l.node)});const c=Aa({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Xr]:"",[Qr]:e}),c.end(s))}function BS(e){let t=0,n;if(!mf("largest-contentful-paint"))return;const r=Ca(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);gf(e,(s,i)=>{US(t,n,i,s),r()})}function US(e,t,n,r){In&&O.log(`Sending LCP span (${e})`);const s=ge((Ve()||0)+((t==null?void 0:t.startTime)||0)),i=ae().getScopeData().transactionName,o=t?ze(t.element):"Largest contentful paint",a={[xe]:"auto.http.browser.lcp",[Pt]:"ui.webvital.lcp",[yr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=ze(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Aa({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Xr]:"millisecond",[Qr]:e}),c.end(s))}function Xe(e){return e&&((Ve()||performance.timeOrigin)+e)/1e3}function yf(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=DS(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return Ve()||(n=is())!=null&&n.timeOrigin?$S({...t,"http.request.redirect_start":Xe(e.redirectStart),"http.request.redirect_end":Xe(e.redirectEnd),"http.request.worker_start":Xe(e.workerStart),"http.request.fetch_start":Xe(e.fetchStart),"http.request.domain_lookup_start":Xe(e.domainLookupStart),"http.request.domain_lookup_end":Xe(e.domainLookupEnd),"http.request.connect_start":Xe(e.connectStart),"http.request.secure_connection_start":Xe(e.secureConnectionStart),"http.request.connection_end":Xe(e.connectEnd),"http.request.request_start":Xe(e.requestStart),"http.request.response_start":Xe(e.responseStart),"http.request.response_end":Xe(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function $S(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const HS=2147483647;let lu=0,ct={},Be,Un;function zS({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=is();if(r&&Ve()){r.mark&&z.performance.mark("sentry-tracing-init");const s=t?BS(n):KS(),i=YS(),o=e?FS(n):GS();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function WS(){Rn("longtask",({entries:e})=>{const t=De();if(!t)return;const{op:n,start_timestamp:r}=se(t);for(const s of e){const i=ge(Ve()+s.startTime),o=ge(s.duration);n==="navigation"&&r&&i<r||en(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[xe]:"auto.ui.browser.metrics"}})}})}function qS(){new PerformanceObserver(t=>{const n=De();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=ge(Ve()+r.startTime),{start_timestamp:i,op:o}=se(n);if(o==="navigation"&&i&&s<i)continue;const a=ge(r.duration),c={[xe]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:p,sourceFunctionName:m,sourceCharPosition:h}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,p&&(c["code.filepath"]=p),m&&(c["code.function"]=m),h!==-1&&(c["browser.script.source_char_position"]=h),en(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function VS(){Rn("event",({entries:e})=>{const t=De();if(t){for(const n of e)if(n.name==="click"){const r=ge(Ve()+n.startTime),s=ge(n.duration),i={name:ze(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[xe]:"auto.ui.browser.metrics"}},o=Jl(n.target);o&&(i.attributes["ui.component_name"]=o),en(t,r,r+s,i)}}})}function GS(){return ka(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.cls={value:e.value,unit:""},Un=t)},!0)}function KS(){return Ca(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.lcp={value:e.value,unit:"millisecond"},Be=t)},!0)}function YS(){return kS(({metric:e})=>{e.entries[e.entries.length-1]&&(ct.ttfb={value:e.value,unit:"millisecond"})})}function JS(e,t){const n=is(),r=Ve();if(!(n!=null&&n.getEntries)||!r)return;const s=ge(r),i=n.getEntries(),{op:o,start_timestamp:a}=se(e);i.slice(lu).forEach(c=>{const u=ge(c.startTime),l=ge(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{eb(e,c,s);break}case"mark":case"paint":case"measure":{QS(e,c,u,l,s,t.ignorePerformanceApiSpans);const d=ns(),p=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&p&&(ct.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(ct.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{rb(e,c,c.name,u,l,s,t.ignoreResourceSpans);break}}}),lu=Math.max(i.length-1,0),sb(e),o==="pageload"&&(ab(ct),t.recordClsOnPageloadSpan||delete ct.cls,t.recordLcpOnPageloadSpan||delete ct.lcp,Object.entries(ct).forEach(([c,u])=>{Dg(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Sr()),ib(e,t)),Be=void 0,Un=void 0,ct={}}function XS(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function QS(e,t,n,r,s,i){if(XS(t)||["mark","measure"].includes(t.entryType)&&It(t.name,i))return;const o=ts(!1),a=ge(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,l=u+r,d={[xe]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),ZS(d,t),c<=l&&en(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function ZS(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&tr(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(tr(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function eb(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{bs(e,t,r,n)}),bs(e,t,"secureConnection",n,"TLS/SSL"),bs(e,t,"fetch",n,"cache"),bs(e,t,"domainLookup",n,"DNS"),nb(e,t,n)}function bs(e,t,n,r,s=n){const i=tb(n),o=t[i],a=t[`${n}Start`];!a||!o||en(e,r+ge(a),r+ge(o),{op:`browser.${s}`,name:t.name,attributes:{[xe]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function tb(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function nb(e,t,n){const r=n+ge(t.requestStart),s=n+ge(t.responseEnd),i=n+ge(t.responseStart);t.responseEnd&&(en(e,r,s,{op:"browser.request",name:t.name,attributes:{[xe]:"auto.ui.browser.metrics"}}),en(e,i,s,{op:"browser.response",name:t.name,attributes:{[xe]:"auto.ui.browser.metrics"}}))}function rb(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const c={[xe]:"auto.resource.browser.metrics"},u=vn(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(z.location.origin),ob(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...yf(t)},d=i+r,p=d+s;en(e,d,p,{name:n.replace(z.location.origin,""),op:a,attributes:l})}function sb(e){const t=z.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ki(n.rtt)&&(ct["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ki(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ki(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function ib(e,t){Be&&t.recordLcpOnPageloadSpan&&(Be.element&&e.setAttribute("lcp.element",ze(Be.element)),Be.id&&e.setAttribute("lcp.id",Be.id),Be.url&&e.setAttribute("lcp.url",Be.url.trim().slice(0,200)),Be.loadTime!=null&&e.setAttribute("lcp.loadTime",Be.loadTime),Be.renderTime!=null&&e.setAttribute("lcp.renderTime",Be.renderTime),e.setAttribute("lcp.size",Be.size)),Un!=null&&Un.sources&&t.recordClsOnPageloadSpan&&Un.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,ze(n.node)))}function ob(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<HS||typeof i=="string")&&(t[s]=i)})}function ab(e){const t=ts(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function cb(){return is()&&Ve()?Rn("element",ub):()=>{}}const ub=({entries:e})=>{const t=De(),n=t?Ae(t):void 0,r=n?se(n).description:ae().getScopeData().transactionName;e.forEach(s=>{var m,h;const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,l]=c?[ge(c),"load-time"]:a?[ge(a),"render-time"]:[Ie(),"entry-emission"],d=o==="image-paint"?ge(Math.max(0,(a??0)-(c??0))):0,p={[xe]:"auto.ui.browser.elementtiming",[Pt]:"ui.elementtiming",[ut]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":i.id,"element.type":((h=(m=i.element)==null?void 0:m.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Hg({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},g=>{g.end(u+d)})})},lb=1e3;let du,Ao,Oo;function _f(e){const t="dom";tn(t,e),nn(t,db)}function db(){if(!z.document)return;const e=et.bind(null,"dom"),t=fu(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=z[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(Ue(s,"addEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=d[c]=d[c]||{refCount:0};if(!p.handler){const m=fu(e);p.handler=m,a.call(this,c,m,l)}p.refCount++}catch{}return a.call(this,c,u,l)}}),Ue(s,"removeEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},p=d[c];p&&(p.refCount--,p.refCount<=0&&(a.call(this,c,p.handler,l),p.handler=void 0,delete d[c]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,l)}}))})}function fb(e){if(e.type!==Ao)return!1;try{if(!e.target||e.target._sentryId!==Oo)return!1}catch{}return!0}function pb(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function fu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=hb(n);if(pb(n.type,r))return;We(n,"_sentryCaptured",!0),r&&!r._sentryId&&We(r,"_sentryId",Ye());const s=n.type==="keypress"?"input":n.type;fb(n)||(e({event:n,name:s,global:t}),Ao=n.type,Oo=r?r._sentryId:void 0),clearTimeout(du),du=z.setTimeout(()=>{Oo=void 0,Ao=void 0},lb)}}function hb(e){try{return e.target}catch{return null}}let Es;function yi(e){const t="history";tn(t,e),nn(t,mb)}function mb(){if(z.addEventListener("popstate",()=>{const t=z.location.href,n=Es;if(Es=t,n===t)return;et("history",{from:n,to:t})}),!F_())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Es,i=gb(String(r));if(Es=i,s===i)return t.apply(this,n);et("history",{from:s,to:i})}return t.apply(this,n)}}Ue(z.history,"pushState",e),Ue(z.history,"replaceState",e)}function gb(e){try{return new URL(e,z.location.origin).toString()}catch{return e}}const Ds={};function Sf(e){const t=Ds[e];if(t)return t;let n=z[e];if(wo(n))return Ds[e]=n.bind(z);const r=z.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){In&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Ds[e]=n.bind(z))}function yb(e){Ds[e]=void 0}function os(...e){return Sf("setTimeout")(...e)}const ln="__sentry_xhr_v3__";function bf(e){const t="xhr";tn(t,e),nn(t,_b)}function _b(){if(!z.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=Ie()*1e3,o=Tt(r[0])?r[0].toUpperCase():void 0,a=Sb(r[1]);if(!o||!a)return t.apply(n,r);n[ln]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ln];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:Ie()*1e3,startTimestamp:i,xhr:n,virtualError:s};et("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[p,m]=d,h=l[ln];return h&&Tt(p)&&Tt(m)&&(h.request_headers[p.toLowerCase()]=m),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ln];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:Ie()*1e3,xhr:n};return et("xhr",i),t.apply(n,r)}})}function Sb(e){if(Tt(e))return e;try{return e.toString()}catch{}}const bb=Symbol.for("sentry__originalRequestBody");function Ef(e){return new URLSearchParams(e).toString()}function vf(e,t=O){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ef(e)];if(!e)return[void 0]}catch(n){return In&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return In&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function xf(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][bb];return n!==void 0?n:void 0}}function wf(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return In&&O.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const Yi=[],Fs=new Map,Dn=new Map,Eb=60;function vb(){if(is()&&Ve()){const t=xb();return()=>{t()}}return()=>{}}const Po={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function xb(){return ff(wb)}const wb=({metric:e})=>{if(e.value==null)return;const t=ge(e.value);if(t>Eb)return;const n=e.entries.find(h=>h.duration===e.value&&Po[h.name]);if(!n)return;const{interactionId:r}=n,s=Po[n.name],i=ge(Ve()+n.startTime),o=De(),a=o?Ae(o):void 0,c=r!=null?Fs.get(r):void 0,u=(c==null?void 0:c.span)||a,l=u?se(u).description:ae().getScopeData().transactionName,d=(c==null?void 0:c.elementName)||ze(n.target),p={[xe]:"auto.http.browser.inp",[Pt]:`ui.interaction.${s}`,[yr]:n.duration},m=Aa({name:d,transaction:l,attributes:p,startTime:i});m&&(m.addEvent("inp",{[Xr]:"millisecond",[Qr]:e.value}),m.end(i+t))};function Tb(){const e=Object.keys(Po);To()&&e.forEach(s=>{z.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=ze(i),a=Math.round(s.timeStamp);if(Dn.set(a,o),Dn.size>50){const c=Dn.keys().next().value;c!==void 0&&Dn.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=Dn.get(i);if(!o)for(let a=-5;a<=5;a++){const c=Dn.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=De(),o=i&&Ae(i);s.forEach(a=>{if(!NS(a))return;const c=a.interactionId;if(c==null||Fs.has(c))return;const u=a.target?ze(a.target):n(a);if(Yi.length>10){const l=Yi.shift();Fs.delete(l)}Yi.push(c),Fs.set(c,{span:o,elementName:u})})};Rn("event",r),Rn("first-input",r)}const Ib=40;function Rb(e,t=Sf("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw yb("fetch"),c}finally{n-=o,r--}}return Ly(e,s,Sa(e.bufferSize||Ib))}const qe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,kb=30,Cb=50;function Mo(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?wn:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Ab=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ob=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pb=/\((\S*)(?::(\d+))(?::(\d+))\)/,Mb=/at (.+?) ?\(data:(.+?),/,Nb=e=>{const t=e.match(Mb);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Ab.exec(e);if(n){const[,s,i,o]=n;return Mo(s,wn,+i,+o)}const r=Ob.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Pb.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=Tf(r[1]||wn,r[2]);return Mo(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Lb=[kb,Nb],Db=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Fb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jb=e=>{const t=Db.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Fb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||wn;return[s,r]=Tf(s,r),Mo(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Bb=[Cb,jb],Ub=[Lb,Bb],$b=zl(...Ub),Tf=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:wn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vs=1024,Hb="Breadcrumbs",zb=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Hb,setup(n){t.console&&b_(Gb(n)),t.dom&&_f(Vb(n,t.dom)),t.xhr&&bf(Kb(n)),t.fetch&&Qd(Yb(n)),t.history&&yi(Jb(n)),t.sentry&&n.on("beforeSendEvent",qb(n))}}},Wb=zb;function qb(e){return function(n){X()===e&&Zt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:un(n)},{event:n})}}function Vb(e,t){return function(r){if(X()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>vs&&(qe&&O.warn(`\`dom.maxStringLength\` cannot exceed ${vs}, but a value of ${a} was configured. Sentry will use ${vs} instead.`),a=vs),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Xb(u)?u.target:u;s=ze(l,{keyAttrs:o,maxStringLength:a}),i=Jl(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Zt(c,{event:r.event,name:r.name,global:r.global})}}function Gb(e){return function(n){if(X()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Kd(n.level),message:vc(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${vc(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Zt(r,{input:n.args,level:n.level})}}function Kb(e){return function(n){if(X()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[ln];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:l,type:"http",level:Xd(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),Zt(p,d)}}function Yb(e){return function(n){if(X()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Zt(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:Xd(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Zt(c,a)}}}function Jb(e){return function(n){if(X()!==e)return;let r=n.from,s=n.to;const i=vn(J.location.href);let o=r?vn(r):void 0;const a=vn(s);o!=null&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Zt({category:"navigation",data:{from:r,to:s}})}}function Xb(e){return!!e&&!!e.target}const Qb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Zb="BrowserApiErrors",eE=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Zb,setupOnce(){t.setTimeout&&Ue(J,"setTimeout",pu),t.setInterval&&Ue(J,"setInterval",pu),t.requestAnimationFrame&&Ue(J,"requestAnimationFrame",nE),t.XMLHttpRequest&&"XMLHttpRequest"in J&&Ue(XMLHttpRequest.prototype,"send",rE);const n=t.eventTarget;n&&(Array.isArray(n)?n:Qb).forEach(s=>sE(s,t))}}},tE=eE;function pu(e){return function(...t){const n=t[0];return t[0]=or(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ct(e)}`}}),e.apply(this,t)}}function nE(e){return function(t){return e.apply(this,[or(t,{mechanism:{data:{handler:Ct(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function rE(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Ue(n,s,function(i){const o={mechanism:{data:{handler:Ct(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=aa(i);return a&&(o.mechanism.data.handler=Ct(a)),or(i,o)})}),e.apply(this,t)}}function sE(e,t){var s,i;const r=(s=J[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(Ue(r,"addEventListener",function(o){return function(a,c,u){try{iE(c)&&(c.handleEvent=or(c.handleEvent,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&oE(this,a,c),o.apply(this,[a,or(c,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),Ue(r,"removeEventListener",function(o){return function(a,c,u){try{const l=c.__sentry_wrapped__;l&&o.call(this,a,l,u)}catch{}return o.call(this,a,c,u)}}))}function iE(e){return typeof e.handleEvent=="function"}function oE(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const aE=(e={})=>{const t=e.lifecycle??"route";return{name:"BrowserSession",setupOnce(){if(typeof J.document>"u"){qe&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}zc({ignoreDuration:!0}),Wc(),t==="route"&&yi(({from:n,to:r})=>{n!==void 0&&n!==r&&(zc({ignoreDuration:!0}),Wc())})}}},cE="CultureContext",uE=()=>({name:cE,preprocessEvent(e){var n;const t=dE();t&&(e.contexts={...e.contexts,culture:{...t,...(n=e.contexts)==null?void 0:n.culture}})}}),lE=uE;function dE(){try{const e=J.Intl;if(!e)return;const t=e.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone,calendar:t.calendar}}catch{return}}const fE="GlobalHandlers",pE=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:fE,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(mE(n),hu("onerror")),t.onunhandledrejection&&(gE(n),hu("onunhandledrejection"))}}},hE=pE;function mE(e){ql(t=>{const{stackParser:n,attachStacktrace:r}=If();if(X()!==e||ef())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=SE(Ta(n,c||s,void 0,r,!1),i,o,a);u.level="error",Id(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function gE(e){Vl(t=>{const{stackParser:n,attachStacktrace:r}=If();if(X()!==e||ef())return;const s=yE(t),i=tr(s)?_E(s):Ta(n,s,void 0,r,!0);i.level="error",Id(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function yE(e){if(tr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function _E(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function SE(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=bE(t)??hr();return c.length===0&&c.push({colno:u,filename:d,function:wn,in_app:!0,lineno:l}),e}function hu(e){qe&&O.log(`Global Handler attached: ${e}`)}function If(){const e=X();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function bE(e){if(!(!Tt(e)||e.length===0))return e.startsWith("data:")?`<${Gt(e,!1)}>`:e}const EE=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!J.navigator&&!J.location&&!J.document)return;const t=va(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),vE="cause",xE=5,wE="LinkedErrors",TE=(e={})=>{const t=e.limit||xE,n=e.key||vE;return{name:wE,preprocessEvent(r,s,i){const o=i.getOptions();S_(xa,o.stackParser,n,t,r,s)}}},IE=TE;function RE(){return kE()?(qe&&An(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function kE(){var i;if(typeof J.window>"u")return!1;const e=J;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=hr(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(J===J.top&&r.some(o=>n.startsWith(`${o}://`)))}function CE(e){return[d_(),a_(),A_(),tE(),Wb(),hE(),IE(),w_(),EE(),lE(),aE()]}function AE(e={}){const t=!e.skipBrowserExtensionCheck&&RE();let n=e.defaultIntegrations==null?CE():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:fm(e.stackParser||$b),integrations:wy({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||Rb};return Vy(aS,r)}function mu(e={}){const t=J.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){qe&&O.error("[showReportDialog] Global document not defined");return}const r=ae(),s=X(),i=s==null?void 0:s.getDsn();if(!i){qe&&O.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||my()},a=J.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=vy(i,o);const{onLoad:c,onClose:u}=o;if(c&&(a.onload=c),u){const l=d=>{if(d.data==="__sentry_reportdialog_closed__")try{u()}finally{J.removeEventListener("message",l)}};J.addEventListener("message",l)}n.appendChild(a)}const de=ee,Oa="sentryReplaySession",OE="replay_event",Pa="Unable to send Replay",PE=3e5,ME=9e5,NE=5e3,LE=5500,DE=6e4,FE=5e3,jE=3,gu=15e4,xs=5e3,BE=3e3,UE=300,Ma=2e7,$E=4999,HE=5e4,yu=36e5;var zE=Object.defineProperty,WE=(e,t,n)=>t in e?zE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_u=(e,t,n)=>WE(e,typeof t!="symbol"?t+"":t,n),Se=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Se||{});function qE(e){return e.nodeType===e.ELEMENT_NODE}function kr(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Cr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function VE(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function GE(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Qs(e){try{const t=e.rules||e.cssRules;return t?VE(Array.from(t,Rf).join("")):null}catch{return null}}function KE(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Rf(e){let t;if(JE(e))try{t=Qs(e.styleSheet)||GE(e)}catch{}else if(XE(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=KE(e)),r&&(n=YE(n)),r||s)return n}return t||e.cssText}function YE(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function JE(e){return"styleSheet"in e}function XE(e){return"selectorText"in e}class kf{constructor(){_u(this,"idNodeMap",new Map),_u(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function QE(){return new kf}function _i({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Fr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function ar(e){return e.toLowerCase()}function No(e){return e.toUpperCase()}const Su="__rrweb_original__";function ZE(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Su in i?i[Su]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Na(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ar(t):null}function Zs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Cf(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const bu={};function Af(e){const t=bu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return bu[e]=r.bind(window)}function Lo(...e){return Af("setTimeout")(...e)}function Of(...e){return Af("clearTimeout")(...e)}function Pf(e){try{return e.contentDocument}catch{}}let ev=1;const tv=new RegExp("[^a-z0-9-_:]"),jr=-2;function La(){return ev++}function nv(e){if(e instanceof HTMLFormElement)return"form";const t=ar(e.tagName);return tv.test(t)?"div":t}function rv(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Fn,Eu;const sv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,iv=/^(?:[a-z+]+:)?\/\//i,ov=/^www\..*/i,av=/^(data:)([^,]*),(.*)/i;function cv(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function ei(e,t){return(e||"").replace(sv,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(iv.test(c)||ov.test(c))return`url(${u}${c}${u})`;if(av.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${rv(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const p of d)p!=="."&&(p===".."?l.pop():l.push(p));return`url(${u}${l.join("/")}${u})`})}const uv=/^[^ \t\n\r\u000c]+/,lv=/^[, \t\n\r\u000c]+/;function dv(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(lv),!(n>=t.length);){let i=r(uv);if(i.slice(-1)===",")i=$n(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=$n(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}const vu=new WeakMap;function $n(e,t){return!t||t.trim()===""?t:Si(e,t)}function fv(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Si(e,t){let n=vu.get(e);if(n||(n=e.createElement("a"),vu.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Mf(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return $n(e,r);if(n==="xlink:href"&&r[0]!=="#")return $n(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return $n(e,r);if(n==="srcset")return dv(e,r);if(n==="style"){let a=ei(r,Si(e));return o&&o.size>0&&(a=cv(a,o)),a}else if(t==="object"&&n==="data")return $n(e,r);return typeof i=="function"?i(n,r,s):r}function Nf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function pv(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function hv(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function dn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:dn(e.parentNode,t,n,r+1)}function Hn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(hv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function cr(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=dn(o,Hn(r,s)),c<0)return!0;a=dn(o,Hn(t,n),c>=0?c:1/0)}else{if(a=dn(o,Hn(t,n)),a<0)return!1;c=dn(o,Hn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function mv(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=Lo(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Of(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Lo(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function gv(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=Lo(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Of(i),r=!0,t()})}function yv(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:y,dataURLOptions:_={},inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:M=!1,ignoreCSSAttributes:k}=t,v=_v(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Se.Document,childNodes:[],compatMode:e.compatMode}:{type:Se.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Se.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return bv(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:_,inlineImages:T,recordCanvas:I,keepIframeSrcFn:w,newlyAddedElement:M,rootId:v,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,ignoreCSSAttributes:k});case e.TEXT_NODE:return Sv(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:h,maskInputFn:y,rootId:v});case e.CDATA_SECTION_NODE:return{type:Se.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:Se.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function _v(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Sv(e,t){var _;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const m=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(m&&p){try{e.nextSibling||e.previousSibling||(_=e.parentNode.sheet)!=null&&_.cssRules&&(p=Qs(e.parentNode.sheet))}catch(T){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${T}`,e)}p=ei(p,Si(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");const y=cr(e,r,i,s,o,n);if(!m&&!h&&!g&&p&&y&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(c.textarea||y)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),d==="OPTION"&&p){const T=_i({type:null,tagName:d,maskInputOptions:c});p=Fr({isMasked:cr(e,r,i,s,o,T),element:e,value:p,maskInputFn:u})}return{type:Se.Text,textContent:p||"",isStyle:m,rootId:l}}function bv(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:T,unmaskTextSelector:I,ignoreCSSAttributes:w}=t,M=pv(e,r,s,i),k=nv(e);let v={};const A=e.attributes.length;for(let E=0;E<A;E++){const P=e.attributes[E];P.name&&!Nf(k,P.name,P.value)&&(v[P.name]=Mf(n,k,ar(P.name),P.value,e,c,w))}if(k==="link"&&o){const E=Array.from(n.styleSheets).find(N=>N.href===e.href);let P=null;E&&(P=Qs(E)),P&&(v.rel=null,v.href=null,v.crossorigin=null,v._cssText=ei(P,E.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=Qs(e.sheet);E&&(v._cssText=ei(E,Si(n)))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){const E=e,P=Na(E),N=Zs(E,No(k),P),B=E.checked;if(P!=="submit"&&P!=="button"&&N){const F=cr(E,y,T,_,I,_i({type:P,tagName:No(k),maskInputOptions:a}));v.value=Fr({isMasked:F,element:E,value:N,maskInputFn:u})}B&&(v.checked=B)}if(k==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),k==="canvas"&&p){if(e.__context==="2d")ZE(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const E=e.toDataURL(l.type,l.quality),P=n.createElement("canvas");P.width=e.width,P.height=e.height;const N=P.toDataURL(l.type,l.quality);E!==N&&(v.rr_dataURL=E)}}if(k==="img"&&d){Fn||(Fn=n.createElement("canvas"),Eu=Fn.getContext("2d"));const E=e,P=E.currentSrc||E.getAttribute("src")||"<unknown-src>",N=E.crossOrigin,B=()=>{E.removeEventListener("load",B);try{Fn.width=E.naturalWidth,Fn.height=E.naturalHeight,Eu.drawImage(E,0,0),v.rr_dataURL=Fn.toDataURL(l.type,l.quality)}catch(F){if(E.crossOrigin!=="anonymous"){E.crossOrigin="anonymous",E.complete&&E.naturalWidth!==0?B():E.addEventListener("load",B);return}else console.warn(`Cannot inline img src=${P}! Error: ${F}`)}E.crossOrigin==="anonymous"&&(N?v.crossOrigin=N:E.removeAttribute("crossorigin"))};E.complete&&E.naturalWidth!==0?B():E.addEventListener("load",B)}if((k==="audio"||k==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),M){const{width:E,height:P}=e.getBoundingClientRect();v={class:v.class,rr_width:`${E}px`,rr_height:`${P}px`}}k==="iframe"&&!m(v.src)&&(!M&&!Pf(e)&&(v.rr_src=v.src),delete v.src);let D;try{customElements.get(k)&&(D=!0)}catch{}return{type:Se.Element,tagName:k,attributes:v,childNodes:[],isSVG:fv(e)||void 0,needBlock:M,rootId:g,isCustom:D}}function le(e){return e==null?"":e.toLowerCase()}function Ev(e,t){if(t.comment&&e.type===Se.Comment)return!0;if(e.type===Se.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Cf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||le(e.attributes.name)==="application-name"||le(e.attributes.rel)==="icon"||le(e.attributes.rel)==="apple-touch-icon"||le(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||le(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(le(e.attributes.name)==="robots"||le(e.attributes.name)==="googlebot"||le(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(le(e.attributes.name)==="author"||le(e.attributes.name)==="generator"||le(e.attributes.name)==="framework"||le(e.attributes.name)==="publisher"||le(e.attributes.name)==="progid"||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(le(e.attributes.name)==="google-site-verification"||le(e.attributes.name)==="yandex-verification"||le(e.attributes.name)==="csrf-token"||le(e.attributes.name)==="p:domain_verify"||le(e.attributes.name)==="verify-v1"||le(e.attributes.name)==="verification"||le(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function zn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I={},inlineImages:w=!1,recordCanvas:M=!1,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A=5e3,onBlockedImageLoad:D,onStylesheetLoad:E,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:N=()=>!1,newlyAddedElement:B=!1,ignoreCSSAttributes:F}=t;let{preserveWhiteSpace:ce=!0}=t;const V=yv(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,dataURLOptions:I,inlineImages:w,recordCanvas:M,keepIframeSrcFn:N,newlyAddedElement:B,ignoreCSSAttributes:F});if(!V)return console.warn(e,"not serialized"),null;let Z;r.hasNode(e)?Z=r.getId(e):Ev(V,T)||!ce&&V.type===Se.Text&&!V.isStyle&&!V.textContent.replace(/^\s+|\s+$/gm,"").length?Z=jr:Z=La();const C=Object.assign(V,{id:Z});if(r.add(e,C),Z===jr)return null;k&&k(e);let K=!p;if(C.type===Se.Element){K=K&&!C.needBlock;const L=e.shadowRoot;L&&Cr(L)&&(C.isShadowHost=!0)}if((C.type===Se.Document||C.type===Se.Element)&&K){T.headWhitespace&&C.type===Se.Element&&C.tagName==="head"&&(ce=!1);const L={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onBlockedImageLoad:D,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F},G=e.childNodes?Array.from(e.childNodes):[];for(const Q of G){const ie=zn(Q,L);ie&&C.childNodes.push(ie)}if(qE(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const ie=zn(Q,L);ie&&(Cr(e.shadowRoot)&&(ie.isShadow=!0),C.childNodes.push(ie))}}if(e.parentNode&&kr(e.parentNode)&&Cr(e.parentNode)&&(C.isShadow=!0),C.type===Se.Element&&C.tagName==="iframe"&&!C.needBlock&&mv(e,()=>{const L=Pf(e);if(L&&v){const G=zn(L,{doc:L,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F});G&&v(e,G)}},A),C.type===Se.Element&&C.tagName==="img"&&!e.complete&&C.needBlock){const L=e,G=()=>{if(L.isConnected&&!L.complete&&D)try{const Q=L.getBoundingClientRect();Q.width>0&&Q.height>0&&D(L,C,Q)}catch{}L.removeEventListener("load",G)};L.isConnected&&L.addEventListener("load",G)}return C.type===Se.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&Cf(C.attributes.href)==="css")&&gv(e,()=>{if(E){const L=zn(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T,dataURLOptions:I,inlineImages:w,recordCanvas:M,preserveWhiteSpace:ce,onSerialize:k,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:E,stylesheetLoadTimeout:P,keepIframeSrcFn:N,ignoreCSSAttributes:F});L&&E(e,L)}},P),C.type===Se.Element&&delete C.needBlock,C}function vv(e,t){const{mirror:n=new kf,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOM:T=!1,dataURLOptions:I,preserveWhiteSpace:w,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:v,onBlockedImageLoad:A,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:N=new Set([])}=t||{};return zn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T,dataURLOptions:I,inlineImages:p,recordCanvas:m,preserveWhiteSpace:w,onSerialize:M,onIframeLoad:k,iframeLoadTimeout:v,onBlockedImageLoad:A,onStylesheetLoad:D,stylesheetLoadTimeout:E,keepIframeSrcFn:P,newlyAddedElement:!1,ignoreCSSAttributes:N})}function Le(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const jn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let xu={map:{},getId(){return console.error(jn),-1},getNode(){return console.error(jn),null},removeNodeFromMap(){console.error(jn)},has(){return console.error(jn),!1},reset(){console.error(jn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(xu=new Proxy(xu,{get(e,t,n){return t==="map"&&console.error(jn),Reflect.get(e,t,n)}}));function Br(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(Cv(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=bi(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Lf(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){bi(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Lf(e,t,i||{},!0)}function Da(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let ti=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ti=()=>new Date().getTime());function Df(e){var n,r,s,i,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Ff(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function jf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Bf(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Ge(e,t,n,r,s){if(!e)return!1;const i=Bf(e);if(!i)return!1;const o=Hn(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=dn(i,o);let c=-1;return a<0?!1:(r&&(c=dn(i,Hn(null,r))),a>-1&&c<0?!0:a<c)}function xv(e,t){return t.getId(e)!==-1}function Ji(e,t){return t.getId(e)===jr}function Uf(e,t){if(kr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Uf(e.parentNode,t):!0:!0}function Do(e){return!!e.changedTouches}function wv(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function $f(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Hf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Fo(e){return!!(e!=null&&e.shadowRoot)}class Tv{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zf(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Iv(e){let t=e,n;for(;n=zf(t);)t=n;return t}function Rv(e){const t=e.ownerDocument;if(!t)return!1;const n=Iv(e);return t.contains(n)}function Wf(e){const t=e.ownerDocument;return t?t.contains(e)||Rv(e):!1}const wu={};function Fa(e){const t=wu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return wu[e]=r.bind(window)}function kv(...e){return Fa("requestAnimationFrame")(...e)}function bi(...e){return Fa("setTimeout")(...e)}function Cv(...e){return Fa("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),q=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(q||{}),Me=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Me||{}),xt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(xt||{}),Bn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Bn||{});function ja(e){try{return e.contentDocument}catch{}}function Av(e){try{return e.contentWindow}catch{}}function Tu(e){return"__ln"in e}class Ov{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Tu(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Tu(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Iu=(e,t)=>`${e}@${t}`;class Pv{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Ov,s=c=>{let u=c,l=jr;for(;l===jr;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Wf(c))return;const u=kr(c.parentNode)?this.mirror.getId(zf(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=zn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{$f(p,this.mirror)&&!Ge(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),Hf(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Fo(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,m)=>{Ge(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,m),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,m)=>{this.stylesheetManager.attachLinkElement(p,m)},onBlockedImageLoad:(p,m,{width:h,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:m.id,attributes:{style:{width:`${h}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Ru(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!ku(this.droppedSet,c)&&!Ru(this.removes,c,this.mirror)||ku(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Ji(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:cr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Bf(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=Na(n),a=n.tagName;s=Zs(n,a,o);const c=_i({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=cr(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Fr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!ja(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Nf(n.tagName,r)&&(i.attributes[r]=Mf(this.doc,ar(n.tagName),ar(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=kr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ge(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ji(n,this.mirror)||!xv(n,this.mirror)||(this.addedSet.has(n)?(jo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Uf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Iu(r,s)]?jo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:kr(t.target)&&Cr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Ji(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Iu(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ge(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Fo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function jo(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>jo(e,r))}function Ru(e,t,n){return e.length===0?!1:Mv(e,t,n)}function Mv(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function ku(e,t){return e.size===0?!1:qf(e,t)}function qf(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:qf(e,n):!1}let Ar;function Nv(e){Ar=e}function Lv(){Ar=void 0}const re=e=>Ar?(...n)=>{try{return e(...n)}catch(r){if(Ar&&Ar(r)===!0)return()=>{};throw r}}:e,Wn=[];function as(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Vf(e,t){var o,a;const n=new Pv;Wn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(re(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Dv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=Br(re(d=>{const p=Date.now()-a;e(o.map(m=>(m.timeOffset-=p,m)),d),o=[],a=null}),i),u=re(Br(re(d=>{const p=as(d),{clientX:m,clientY:h}=Do(d)?d.changedTouches[0]:d;a||(a=ti()),o.push({x:m,y:h,id:r.getId(p),timeOffset:ti()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?q.Drag:d instanceof MouseEvent?q.MouseMove:q.TouchMove)}),s,{trailing:!1})),l=[Le("mousemove",u,n),Le("touchmove",u,n),Le("drag",u,n)];return re(()=>{l.forEach(d=>d())})}function Fv({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>p=>{const m=as(p);if(Ge(m,r,s,i,!0))return;let h=null,g=d;if("pointerType"in p){switch(p.pointerType){case"mouse":h=xt.Mouse;break;case"touch":h=xt.Touch;break;case"pen":h=xt.Pen;break}h===xt.Touch?Me[d]===Me.MouseDown?g="TouchStart":Me[d]===Me.MouseUp&&(g="TouchEnd"):xt.Pen}else Do(p)&&(h=xt.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===xt.Touch||g.startsWith("Mouse")&&h===xt.Mouse)&&(h=null)):Me[d]===Me.Click&&(h=u,u=null);const y=Do(p)?p.changedTouches[0]:p;if(!y)return;const _=n.getId(m),{clientX:T,clientY:I}=y;re(e)({type:Me[g],id:_,x:T,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Me).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let p=ar(d);const m=l(d);if(window.PointerEvent)switch(Me[d]){case Me.MouseDown:case Me.MouseUp:p=p.replace("mouse","pointer");break;case Me.TouchStart:case Me.TouchEnd:return}c.push(Le(p,m,t))}),re(()=>{c.forEach(d=>d())})}function Gf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=re(Br(re(c=>{const u=as(c);if(!u||Ge(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=Df(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return Le("scroll",a,t)}function jv({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=re(Br(re(()=>{const i=Ff(),o=jf();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return Le("resize",s,t)}const Bv=["INPUT","TEXTAREA","SELECT"],Cu=new WeakMap;function Uv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function y(v){let A=as(v);const D=v.isTrusted,E=A&&No(A.tagName);if(E==="OPTION"&&(A=A.parentElement),!A||!E||Bv.indexOf(E)<0||Ge(A,r,s,i,!0))return;const P=A;if(P.classList.contains(o)||a&&P.matches(a))return;const N=Na(A);let B=Zs(P,E,N),F=!1;const ce=_i({maskInputOptions:c,tagName:E,type:N}),V=cr(A,p,h,m,g,ce);(N==="radio"||N==="checkbox")&&(F=A.checked),B=Fr({isMasked:V,element:A,value:B,maskInputFn:u}),_(A,d?{text:B,isChecked:F,userTriggered:D}:{text:B,isChecked:F});const Z=A.name;N==="radio"&&Z&&F&&t.querySelectorAll(`input[type="radio"][name="${Z}"]`).forEach(C=>{if(C!==A){const K=Fr({isMasked:V,element:C,value:Zs(C,E,N),maskInputFn:u});_(C,d?{text:K,isChecked:!F,userTriggered:!1}:{text:K,isChecked:!F})}})}function _(v,A){const D=Cu.get(v);if(!D||D.text!==A.text||D.isChecked!==A.isChecked){Cu.set(v,A);const E=n.getId(v);re(e)({...A,id:E})}}const I=(l.input==="last"?["change"]:["input","change"]).map(v=>Le(v,re(y),t)),w=t.defaultView;if(!w)return()=>{I.forEach(v=>v())};const M=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),k=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return M&&M.set&&I.push(...k.map(v=>Lf(v[0],v[1],{set(){re(y)({target:this,isTrusted:!1})}},!1,w))),re(()=>{I.forEach(v=>v())})}function ni(e){const t=[];function n(r,s){if(ws("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ws("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ws("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ws("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Ft(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function $v({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:re((l,d,p)=>{const[m,h]=p,{id:g,styleId:y}=Ft(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:m,index:h}]}),l.apply(d,p)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:re((l,d,p)=>{const[m]=p,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),l.apply(d,p)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:re((l,d,p)=>{const[m]=p,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),l.apply(d,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:re((l,d,p)=>{const[m]=p,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),l.apply(d,p)})}));const c={};Ts("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ts("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ts("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ts("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:re((p,m,h)=>{const[g,y]=h,{id:_,styleId:T}=Ft(m.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||T&&T!==-1)&&e({id:_,styleId:T,adds:[{rule:g,index:[...ni(m),y||0]}]}),p.apply(m,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:re((p,m,h)=>{const[g]=h,{id:y,styleId:_}=Ft(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||_&&_!==-1)&&e({id:y,styleId:_,removes:[{index:[...ni(m),g]}]}),p.apply(m,h)})})}),re(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Kf({mirror:e,stylesheetManager:t},n){var o,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var u;return(u=i.get)==null?void 0:u.call(this)},set(u){var d;const l=(d=i.set)==null?void 0:d.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return l}}),re(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Hv({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:re((a,c,u)=>{var g;const[l,d,p]=u;if(n.has(l))return i.apply(c,[l,d,p]);const{id:m,styleId:h}=Ft((g=c.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:d,priority:p},index:ni(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:re((a,c,u)=>{var m;const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:p}=Ft((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,remove:{property:l},index:ni(c.parentRule)}),a.apply(c,u)})}),re(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function zv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=re(u=>Br(re(l=>{const d=as(l);if(!d||Ge(d,t,n,r,!0))return;const{currentTime:p,volume:m,muted:h,playbackRate:g}=d;e({type:u,id:s.getId(d),currentTime:p,volume:m,muted:h,playbackRate:g})}),i.media||500)),c=[Le("play",a(Bn.Play),o),Le("pause",a(Bn.Pause),o),Le("seeked",a(Bn.Seeked),o),Le("volumechange",a(Bn.VolumeChange),o),Le("ratechange",a(Bn.RateChange),o)];return re(()=>{c.forEach(u=>u())})}function Wv({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Da(t.fonts,"add",function(a){return function(c){return bi(re(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),re(()=>{r.forEach(a=>a())})}function qv(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=re(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let p=0;p<d;p++){const m=u.getRangeAt(p),{startContainer:h,startOffset:g,endContainer:y,endOffset:_}=m;Ge(h,r,s,i,!0)||Ge(y,r,s,i,!0)||l.push({start:n.getId(h),startOffset:g,end:n.getId(y),endOffset:_})}o({ranges:l})});return c(),Le("selectionchange",c)}function Vv({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Da(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Gv(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Vf(e,e.doc));const s=Dv(e),i=Fv(e),o=Gf(e),a=jv(e,{win:n}),c=Uv(e),u=zv(e);let l=()=>{},d=()=>{},p=()=>{},m=()=>{};e.recordDOM&&(l=$v(e,{win:n}),d=Kf(e,e.doc),p=Hv(e,{win:n}),e.collectFonts&&(m=Wv(e)));const h=qv(e),g=Vv(e),y=[];for(const _ of e.plugins)y.push(_.observer(_.callback,n,_.options));return re(()=>{Wn.forEach(_=>_.reset()),r==null||r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),p(),m(),h(),g(),y.forEach(_=>_())})}function ws(e){return typeof window[e]<"u"}function Ts(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Bo{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Kv{constructor(){this.crossOriginIframeMirror=new Bo(La),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Yv{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Bo(La),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Bo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=ja(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:q.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case q.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case q.Drag:case q.TouchMove:case q.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case q.ViewportResize:return!1;case q.MediaInteraction:case q.MouseInteraction:case q.Scroll:case q.CanvasMutation:case q.Input:return this.replaceIds(n.data,t,["id"]),n;case q.StyleSheetRule:case q.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case q.Font:return n;case q.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case q.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Se.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Jv{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Xv{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Cr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Vf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Gf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),bi(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Kf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=ja(t),r=Av(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Da(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Wf(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Is=0;Is<Au.length;Is++)Qv[Au.charCodeAt(Is)]=Is;class Ou{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Zv{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Tv,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Rf(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class ex{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,kv(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let pe,ri;var Ol;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Ol=e.contentWindow)==null?void 0:Ol.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const rt=QE();function kt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,maxCanvasSize:M=null,packFn:k,sampling:v={},dataURLOptions:A={},mousemoveWait:D,recordDOM:E=!0,recordCanvas:P=!1,recordCrossOriginIframes:N=!1,recordAfter:B=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:F=!1,collectFonts:ce=!1,inlineImages:V=!1,plugins:Z,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:L,onMutation:G,getCanvasManager:Q}=e;Nv(L);const ie=N?window.parent===window:!0;let fe=!1;if(!ie)try{window.parent.document&&(fe=!1)}catch{fe=!0}if(ie&&!t)throw new Error("emit function is required");if(!ie&&!fe)return()=>{};D!==void 0&&v.mousemove===void 0&&(v.mousemove=D),rt.reset();const be=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},_t=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};wv();let Fe,St=0;const Nn=oe=>{for(const nt of Z||[])nt.eventProcessor&&(oe=nt.eventProcessor(oe));return k&&!fe&&(oe=k(oe)),oe};pe=(oe,nt)=>{var je;const te=oe;if(te.timestamp=ti(),(je=Wn[0])!=null&&je.isFrozen()&&te.type!==Y.FullSnapshot&&!(te.type===Y.IncrementalSnapshot&&te.data.source===q.Mutation)&&Wn.forEach(Je=>Je.unfreeze()),ie)t==null||t(Nn(te),nt);else if(fe){const Je={type:"rrweb",event:Nn(te),origin:window.location.origin,isCheckout:nt};window.parent.postMessage(Je,"*")}if(te.type===Y.FullSnapshot)Fe=te,St=0;else if(te.type===Y.IncrementalSnapshot){if(te.data.source===q.Mutation&&te.data.isAttachIframe)return;St++;const Je=r&&St>=r,ue=n&&Fe&&te.timestamp-Fe.timestamp>n;(Je||ue)&&Ni(!0)}};const bt=oe=>{pe({type:Y.IncrementalSnapshot,data:{source:q.Mutation,...oe}})},nc=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.Scroll,...oe}}),rh=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...oe}}),sh=oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.AdoptedStyleSheet,...oe}}),an=new Zv({mutationCb:bt,adoptedStyleSheetCb:sh}),cn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Kv:new Yv({mirror:rt,mutationCb:bt,stylesheetManager:an,recordCrossOriginIframes:N,wrappedEmit:pe});for(const oe of Z||[])oe.getMirror&&oe.getMirror({nodeMirror:rt,crossOriginIframeMirror:cn.crossOriginIframeMirror,crossOriginIframeStyleMirror:cn.crossOriginIframeStyleMirror});const Pi=new ex,Mi=nx(Q,{mirror:rt,win:window,mutationCb:oe=>pe({type:Y.IncrementalSnapshot,data:{source:q.CanvasMutation,...oe}}),recordCanvas:P,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:M,sampling:v.canvas,dataURLOptions:A,errorHandler:L}),hs=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Jv:new Xv({mutationCb:bt,scrollCb:nc,bypassOptions:{onMutation:G,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:be,dataURLOptions:A,maskAttributeFn:T,maskTextFn:w,maskInputFn:I,recordCanvas:P,inlineImages:V,sampling:v,slimDOMOptions:_t,iframeManager:cn,stylesheetManager:an,canvasManager:Mi,keepIframeSrcFn:C,processedNodeManager:Pi,ignoreCSSAttributes:K},mirror:rt}),Ni=(oe=!1)=>{if(!E)return;pe({type:Y.Meta,data:{href:window.location.href,width:jf(),height:Ff()}},oe),an.reset(),hs.init(),Wn.forEach(te=>te.lock());const nt=vv(document,{mirror:rt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:be,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,slimDOM:_t,dataURLOptions:A,recordCanvas:P,inlineImages:V,onSerialize:te=>{$f(te,rt)&&cn.addIframe(te),Hf(te,rt)&&an.trackLinkElement(te),Fo(te)&&hs.addShadowRoot(te.shadowRoot,document)},onIframeLoad:(te,je)=>{cn.attachIframe(te,je),te.contentWindow&&Mi.addWindow(te.contentWindow),hs.observeAttachShadow(te)},onStylesheetLoad:(te,je)=>{an.attachLinkElement(te,je)},onBlockedImageLoad:(te,je,{width:Je,height:ue})=>{bt({adds:[],removes:[],texts:[],attributes:[{id:je.id,attributes:{style:{width:`${Je}px`,height:`${ue}px`}}}]})},keepIframeSrcFn:C,ignoreCSSAttributes:K});if(!nt)return console.warn("Failed to snapshot the document");pe({type:Y.FullSnapshot,data:{node:nt,initialOffset:Df(window)}}),Wn.forEach(te=>te.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&an.adoptStyleSheets(document.adoptedStyleSheets,rt.getId(document))};ri=Ni;try{const oe=[],nt=je=>{var Je;return re(Gv)({onMutation:G,mutationCb:bt,mousemoveCb:(ue,Li)=>pe({type:Y.IncrementalSnapshot,data:{source:Li,positions:ue}}),mouseInteractionCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.MouseInteraction,...ue}}),scrollCb:nc,viewportResizeCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.ViewportResize,...ue}}),inputCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.Input,...ue}}),mediaInteractionCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.MediaInteraction,...ue}}),styleSheetRuleCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.StyleSheetRule,...ue}}),styleDeclarationCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.StyleDeclaration,...ue}}),canvasMutationCb:rh,fontCb:ue=>pe({type:Y.IncrementalSnapshot,data:{source:q.Font,...ue}}),selectionCb:ue=>{pe({type:Y.IncrementalSnapshot,data:{source:q.Selection,...ue}})},customElementCb:ue=>{pe({type:Y.IncrementalSnapshot,data:{source:q.CustomElement,...ue}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:be,inlineStylesheet:h,sampling:v,recordDOM:E,recordCanvas:P,inlineImages:V,userTriggeredOnInput:F,collectFonts:ce,doc:je,maskAttributeFn:T,maskInputFn:I,maskTextFn:w,keepIframeSrcFn:C,blockSelector:i,unblockSelector:o,slimDOMOptions:_t,dataURLOptions:A,mirror:rt,iframeManager:cn,stylesheetManager:an,shadowDomManager:hs,processedNodeManager:Pi,canvasManager:Mi,ignoreCSSAttributes:K,plugins:((Je=Z==null?void 0:Z.filter(ue=>ue.observer))==null?void 0:Je.map(ue=>({observer:ue.observer,options:ue.options,callback:Li=>pe({type:Y.Plugin,data:{plugin:ue.name,payload:Li}})})))||[]},{})};cn.addLoadListener(je=>{try{oe.push(nt(je.contentDocument))}catch(Je){console.warn(Je)}});const te=()=>{Ni(),oe.push(nt(document))};return document.readyState==="interactive"||document.readyState==="complete"?te():(oe.push(Le("DOMContentLoaded",()=>{pe({type:Y.DomContentLoaded,data:{}}),B==="DOMContentLoaded"&&te()})),oe.push(Le("load",()=>{pe({type:Y.Load,data:{}}),B==="load"&&te()},window))),()=>{oe.forEach(je=>je()),Pi.destroy(),ri=void 0,Lv()}}catch(oe){console.warn(oe)}}function tx(e){if(!ri)throw new Error("please take full snapshot after start recording");ri(e)}kt.mirror=rt;kt.takeFullSnapshot=tx;function nx(e,t){try{return e?e(t):new Ou}catch{return console.warn("Unable to initialize CanvasManager"),new Ou}}var Pu;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Pu||(Pu={}));const rx=3,sx=5;function Ba(e){return e>9999999999?e:e*1e3}function Xi(e){return e>9999999999?e/1e3:e}function cs(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:at(t,10,1e3)}}),t.category==="console")))}const ix="button,a";function Yf(e){return e.closest(ix)||e}function Jf(e){const t=Xf(e);return!t||!(t instanceof Element)?t:Yf(t)}function Xf(e){return ox(e)?e.target:e}function ox(e){return typeof e=="object"&&!!e&&"target"in e}let jt;function ax(e){return jt||(jt=[],cx()),jt.push(e),()=>{const t=jt?jt.indexOf(e):-1;t>-1&&jt.splice(t,1)}}function cx(){Ue(de,"open",function(e){return function(...t){if(jt)try{jt.forEach(n=>n())}catch{}return e.apply(de,t)}})}const ux=new Set([q.Mutation,q.StyleSheetRule,q.StyleDeclaration,q.AdoptedStyleSheet,q.CanvasMutation,q.Selection,q.MediaInteraction]);function lx(e,t,n){e.handleClick(t,n)}class dx{constructor(t,n,r=cs){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ax(()=>{this._lastMutation=Mu()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(px(n,this._ignoreSelector)||!hx(t))return;const r={timestamp:Xi(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Xi(t)}registerScroll(t=Date.now()){this._lastScroll=Xi(t)}registerClick(t){const n=Yf(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Mu();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=os(()=>this._checkClicks(),1e3)}}const fx=["A","BUTTON","INPUT"];function px(e,t){return!!(!fx.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function hx(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Mu(){return Date.now()/1e3}function mx(e,t){try{if(!gx(t))return;const{source:n}=t.data;if(ux.has(n)&&e.registerMutation(t.timestamp),n===q.Scroll&&e.registerScroll(t.timestamp),yx(t)){const{type:r,id:s}=t.data,i=kt.mirror.getNode(s);i instanceof HTMLElement&&r===Me.Click&&e.registerClick(i)}}catch{}}function gx(e){return e.type===rx}function yx(e){return e.data.source===q.MouseInteraction}function gt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ua=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ua||{});const _x=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Sx(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(_x.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const bx=e=>t=>{if(!e.isEnabled())return;const n=Ex(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&lx(e.clickDetector,n,Jf(t.event)),cs(e,n)};function Qf(e,t){const n=kt.mirror.getId(e),r=n&&kt.mirror.getNode(n),s=r&&kt.mirror.getMeta(r),i=s&&xx(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Ua.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:Sx(i.attributes)}}:{}}}function Ex(e){const{target:t,message:n}=vx(e);return gt({category:`ui.${e.name}`,...Qf(t,n)})}function vx(e){const t=e.name==="click";let n,r=null;try{r=t?Jf(e.event):Xf(e.event),n=ze(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function xx(e){return e.type===Ua.Element}function wx(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Tx(t);n&&cs(e,n)}function Tx(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||Ix(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=ze(o,{maxStringLength:200})||"<unknown>",l=Qf(o,u);return gt({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function Ix(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Rx={resource:Px,paint:Ax,navigation:Ox};function Qi(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function kx(e){return e.map(Cx).filter(Boolean)}function Cx(e){const t=Rx[e.entryType];return t?t(e):null}function ur(e){return((Ve()||de.performance.timeOrigin)+e)/1e3}function Ax(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=ur(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Ox(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:m,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:ur(m),end:ur(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:p}}}function Px(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:ur(i),end:ur(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Mx(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return $a(e,"largest-contentful-paint",n)}function Nx(e){return e.sources!==void 0}function Lx(e){const t=[],n=[];for(const r of e.entries)if(Nx(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=kt.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return $a(e,"cumulative-layout-shift",n,t)}function Dx(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return $a(e,"interaction-to-next-paint",n)}function $a(e,t,n,r){const s=e.value,i=e.rating,o=ur(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>kt.mirror.getId(a)):void 0,attributions:r}}}function Fx(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Rn(s,n))}),r.push(Ca(Qi(Mx,e)),ka(Qi(Lx,e)),ff(Qi(Dx,e))),()=>{r.forEach(s=>s())}}const U=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,jx='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Bx(){const e=new Blob([jx]);return URL.createObjectURL(e)}const Nu=["log","warn","error"],js="[Replay] ";function Zi(e,t="info"){Zt({category:"console",data:{logger:"replay"},level:t,message:`${js}${e}`},{level:t})}function Ux(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return U?(Nu.forEach(r=>{n[r]=(...s)=>{O[r](js,...s),t&&Zi(s.join(""),Kd(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),O.error(js,r),e?hi(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Zi(r,"error")},n.infoTick=(...r)=>{O.log(js,...r),t&&setTimeout(()=>Zi(r[0]),0)}):Nu.forEach(r=>{n[r]=()=>{}}),n}const $=Ux();class Ha extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ma}.`)}}class Zf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ma)throw new Ha;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Ba(t):null}}class $x{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():(U&&$.warn("Received worker message with unsuccessful status",r),n(new Error("Received worker message with unsuccessful status")))},{once:!0}),this._worker.addEventListener("error",r=>{U&&$.warn("Failed to load Replay compression worker",r),n(new Error(`Failed to load Replay compression worker: ${r instanceof ErrorEvent&&r.message?r.message:"Unknown error. This can happen due to CSP policy restrictions, network issues, or the worker script failing to load."}`))},{once:!0})}),this._ensureReadyPromise)}destroy(){U&&$.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){U&&$.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Hx{constructor(t){this._worker=new $x(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Ba(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Ma?Promise.reject(new Ha):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{U&&$.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class zx{constructor(t){this._fallback=new Zf,this._compression=new Hx(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){U&&$.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){U&&$.exception(i,"Failed to add events when switching buffers.")}}}function Wx({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=qx(t);if(n)return n}return U&&$.log("Using simple buffer"),new Zf}function qx(e){try{const t=e||Vx();if(!t)return;U&&$.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new zx(n)}catch(t){U&&$.exception(t,"Failed to create compression worker")}}function Vx(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Bx():""}function za(){try{return"sessionStorage"in de&&!!de.sessionStorage}catch{return!1}}function Gx(e){Kx(),e.session=void 0}function Kx(){if(za())try{de.sessionStorage.removeItem(Oa)}catch{}}function ep(e){return e===void 0?!1:Math.random()<e}function Ei(e){if(za())try{de.sessionStorage.setItem(Oa,JSON.stringify(e))}catch{}}function tp(e){const t=Date.now(),n=e.id||Ye(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a,dirty:c}}function Yx(e,t){return ep(e)?"session":t?"buffer":!1}function Lu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Yx(e,t),i=tp({sampled:s,previousSessionId:r});return n&&Ei(i),i}function Jx(){if(!za())return null;try{const e=de.sessionStorage.getItem(Oa);if(!e)return null;const t=JSON.parse(e);return U&&$.infoTick("Loading existing session"),tp(t)}catch{return null}}function Uo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function np(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Uo(e.started,t,r)||Uo(e.lastActivity,n,r)}function rp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!np(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function eo({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Jx();return s?rp(s,{sessionIdleExpire:e,maxReplayDuration:t})?(U&&$.infoTick("Session in sessionStorage is expired, creating new one..."),Lu(r,{previousSessionId:s.id})):s:(U&&$.infoTick("Creating new session"),Lu(r,{previousSessionId:n}))}function Xx(e){return e.type===Y.Custom}function Wa(e,t,n){return ip(e,t)?(sp(e,t,n),!0):!1}function Qx(e,t,n){return ip(e,t)?sp(e,t,n):Promise.resolve(null)}async function sp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=Zx(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof Ha,a=o?"addEventSizeExceeded":"addEvent",c=X();if(c){const u=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a})}}function ip(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Ba(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(U&&$.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Zx(e,t){try{if(typeof t=="function"&&Xx(e))return t(e)}catch(n){return U&&$.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function qa(e){return!e.type}function $o(e){return e.type==="transaction"}function ew(e){return e.type==="replay_event"}function Du(e){return e.type==="feedback"}function tw(e){return(t,n)=>{if(!e.isEnabled()||!qa(t)&&!$o(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if($o(t)){nw(e,t);return}rw(e,t)}}}function nw(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function rw(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||os(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function sw(e){return t=>{!e.isEnabled()||!qa(t)||iw(e,t)}}function iw(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=gt({category:"replay.hydrate-error",data:{url:hr()}});cs(e,o)}}function ow(e){const t=X();t&&t.on("beforeAddBreadcrumb",n=>aw(e,n))}function aw(e,t){if(!e.isEnabled()||!op(t))return;const n=cw(t);n&&cs(e,n)}function cw(e){return!op(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?uw(e):gt(e)}function uw(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return gt(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>xs?(n=!0,`${i.slice(0,xs)}`):i;if(typeof i=="object")try{const o=at(i,7);return JSON.stringify(o).length>xs?(n=!0,`${JSON.stringify(o,null,2).slice(0,xs)}`):o}catch{}return i});return gt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function op(e){return!!e.category}function lw(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function ap(){const e=ae().getPropagationContext().dsc;e&&delete e.replay_id;const t=De();if(t){const n=Mt(t);delete n.replay_id}}function dw(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function fw(e,t){return e.recordingMode!=="buffer"||t.message===Pa||!t.exception||t.type?!1:ep(e.getOptions().errorSampleRate)}function pw(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(ew(t))return delete t.breadcrumbs,t;if(!qa(t)&&!$o(t)&&!Du(t))return t;if(!e.checkAndHandleExpiredSession())return ap(),t;if(Du(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),dw(e,t),t;if(lw(t,n)&&!e.getOptions()._experiments.captureExceptions)return U&&$.log("Ignoring error from rrweb internals",t),null;const s=fw(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const a=e.session;a.dirty=!0,e.getOptions().stickySession&&Ei(a)}return t},{id:"Replay"})}function vi(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function hw(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function mw(e){return t=>{if(!e.isEnabled())return;const n=hw(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(vi(e,[n]),!1)))}}function gw(e,t){return U&&e.getOptions()._experiments.traceInternals?!1:Xy(t,X())}function cp(e,t){e.isEnabled()&&t!==null&&(gw(e,t.name)||e.addUpdate(()=>(vi(e,[t]),!0)))}function xi(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ef(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function up(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function si(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function lp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:c}}}function Ur(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Yt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=yw(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function Ho(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function yw(e){if(!e||typeof e!="string")return{body:e};const t=e.length>gu,n=_w(e);if(t){const r=e.slice(0,gu);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function _w(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ii(e,t){const n=Sw(e);return It(n,t)}function Sw(e,t=de.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(de.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function bw(e,t,n){try{const r=await vw(e,t,n),s=lp("resource.fetch",r);cp(n.replay,s)}catch(r){U&&$.exception(r,"Failed to capture fetch breadcrumb")}}function Ew(e,t){const{input:n,response:r}=t,s=n?xf(n):void 0,i=xi(s),o=r?up(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function vw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=ii(o,n.networkDetailAllowUrls)&&!ii(o,n.networkDetailDenyUrls),p=d?xw(n,t.input,u):Ur(u),m=await ww(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:p,response:m}}function xw({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?Rw(n,t):{};if(!e)return Yt(s,r,void 0);const i=xf(n),[o,a]=vf(i,$),c=Yt(s,r,o);return a?si(c,a):c}async function ww(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Ur(s);const i=r?dp(r.headers,n):{};if(!r||!t&&s!==void 0)return Yt(i,s,void 0);const[o,a]=await Iw(r),c=Tw(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?si(c,a):c}function Tw(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?xi(e):n;return r?t?Yt(s,i,e):Yt(s,i,void 0):Ur(i)}catch(i){return U&&$.exception(i,"Failed to serialize response body"),Yt(s,n,void 0)}}async function Iw(e){const t=kw(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Cw(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(U&&$.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(U&&$.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function dp(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Rw(e,t){return e.length===1&&typeof e[0]!="string"?Fu(e[0],t):e.length===2?Fu(e[1],t):{}}function Fu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?dp(n,t):Array.isArray(n)?{}:Ho(n,t):{}}function kw(e){try{return e.clone()}catch(t){U&&$.exception(t,"Failed to clone response body")}}function Cw(e){return new Promise((t,n)=>{const r=os(()=>n(new Error("Timeout while trying to read response body")),500);Aw(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Aw(e){return await e.text()}async function Ow(e,t,n){try{const r=Mw(e,t,n),s=lp("resource.xhr",r);cp(n.replay,s)}catch(r){U&&$.exception(r,"Failed to capture xhr breadcrumb")}}function Pw(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=xi(r),i=n.getResponseHeader("content-length")?up(n.getResponseHeader("content-length")):Dw(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function Mw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!ii(c,n.networkDetailAllowUrls)||ii(c,n.networkDetailDenyUrls)){const k=Ur(d),v=Ur(p);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:k,response:v}}const m=a[ln],h=m?Ho(m.request_headers,n.networkRequestHeaders):{},g=Ho(wf(a),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?vf(o,$):[void 0],[T,I]=n.networkCaptureBodies?Nw(a):[void 0],w=Yt(h,d,y),M=Yt(g,p,T);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:_?si(w,_):w,response:I?si(M,I):M}}function Nw(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Lw(e.response,e.responseType)}catch(n){t.push(n)}return U&&$.warn("Failed to get xhr response body",...t),[void 0]}function Lw(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return U&&$.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U&&$.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Dw(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return xi(n)}catch{return}}function Fw(e){const t=X();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>jw(a,c,u))}catch{}}function jw(e,t,n){if(t.data)try{Bw(t)&&$w(n)&&(Pw(t,n),Ow(t,n,e)),Uw(t)&&Hw(n)&&(Ew(t,n),bw(t,n,e))}catch(r){U&&$.exception(r,"Error when enriching network breadcrumb")}}function Bw(e){return e.category==="xhr"}function Uw(e){return e.category==="fetch"}function $w(e){return e==null?void 0:e.xhr}function Hw(e){return e==null?void 0:e.response}function zw(e){const t=X();_f(bx(e)),yi(mw(e)),ow(e),Fw(e);const n=pw(e);yy(n),t&&(t.on("beforeSendEvent",sw(e)),t.on("afterSendEvent",tw(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Ww(e){try{return Promise.all(vi(e,[qw(de.performance.memory)]))}catch{return[]}}function qw(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Vw(e,t,n){return r_(e,t,{...n,setTimeoutImpl:os})}const Qe=ee.navigator;function Gw(){return/iPhone|iPad|iPod/i.test((Qe==null?void 0:Qe.userAgent)??"")||/Macintosh/i.test((Qe==null?void 0:Qe.userAgent)??"")&&(Qe!=null&&Qe.maxTouchPoints)&&(Qe==null?void 0:Qe.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function Kw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){U&&$.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&mx(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Wa(e,n,s))return!0;if(!s)return!1;const i=e.session;if(Jw(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(U&&$.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&Ei(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Yw(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Jw(e,t){!t||!e.session||e.session.segmentId!==0||Wa(e,Yw(e),!1)}function Xw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Qw(e,t,n,r){return sn(Sd(e,ha(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Zw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function e0({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await Td(e.getOptions(),r,i,t,e,tt());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:l}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:l},o}async function t0({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Zw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=X(),p=ae(),m=d==null?void 0:d.getTransport(),h=d==null?void 0:d.getDsn();if(!d||!m||!h||!i.sampled)return Promise.resolve({});const g={type:OE,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await e0({scope:p,client:d,replayId:t,event:g});if(!y)return d.recordDroppedEvent("event_processor","replay"),U&&$.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const _=Qw(y,o,h,d.getOptions().tunnel);let T;try{T=await m.send(_)}catch(w){const M=new Error(Pa);try{M.cause=w}catch{}throw M}const I=jd({},T);if(Fd(I,"replay"))throw new Va(I);if(typeof T.statusCode=="number"&&(T.statusCode<200||T.statusCode>=300))throw new fp(T.statusCode);return T}class fp extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Va extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class ju extends Error{constructor(){super("Session is too long, not sending replay")}}async function pp(e,t={count:0,interval:FE}){const{recordingData:n,onError:r}=e;if(n.length)try{return await t0(e),!0}catch(s){if(s instanceof fp||s instanceof Va)throw s;if(Rd("Replays",{_retryCount:t.count}),r&&r(s),t.count>=jE){const i=new Error(`${Pa} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{os(async()=>{try{await pp(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const hp="__THROTTLED",n0="__SKIPPED";function r0(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?n0:hp}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class s0{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:PE,sessionIdleExpire:ME},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Vw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=r0((o,a)=>Qx(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(BE,r),timeout:r,scrollTimeout:UE,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new dx(this,i)),U){const o=t._experiments;$.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{de.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=gt({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=gt({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{wx(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){U&&$.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){U&&$.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",U&&$.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){U&&$.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){U&&$.log("Buffering is in progress, call `flush()` to save the replay");return}U&&$.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=eo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){U&&$.log("Buffering is in progress, call `flush()` to save the replay");return}U&&$.infoTick("Starting replay in buffer mode");const t=eo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=kt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:DE}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Kw(this),...Gw(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{U&&$.log(`Stopping Replay${n?` triggered by ${n}`:""}`),ap(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,Gx(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),U&&$.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),U&&$.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();U&&$.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Uo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${de.location.pathname}${de.location.hash}${de.location.search}`,n=`${de.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===hp){const s=gt({category:"replay.throttled"});this.addUpdate(()=>!Wa(this,{type:sx,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||De(),n=t&&Ae(t),s=(n&&se(n).data||{})[ut];if(!(!n||!s||!["route","custom"].includes(s)))return se(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Wx({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=eo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return rp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{de.document.addEventListener("visibilitychange",this._handleVisibilityChange),de.addEventListener("blur",this._handleWindowBlur),de.addEventListener("focus",this._handleWindowFocus),de.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(zw(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Fx(this)}_removeListeners(){try{de.document.removeEventListener("visibilitychange",this._handleVisibilityChange),de.removeEventListener("blur",this._handleWindowBlur),de.removeEventListener("focus",this._handleWindowFocus),de.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||np(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){U&&$.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=kx(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(vi(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){U&&$.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await Ww(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new ju;const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await pp({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=X();if(s){let i;r instanceof Va?i="ratelimit_backoff":r instanceof ju?i="invalid":i="send_error",s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){U&&$.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){U&&$.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&U&&$.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ei(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=Xw(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const a=gt({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Tr(e,t){return[...e,...t].join(",")}function i0({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=Tr(e,[".sentry-mask","[data-sentry-mask]"]),a=Tr(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Tr(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Tr(r,[]),ignoreSelector:Tr(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function o0({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Bu='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',a0=["content-length","content-type","accept"],c0=Symbol.for("sentry__originalRequestBody");let Uu=!1,$u=!1;function u0(){if(typeof Request>"u"||$u)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[c0]=r.body),s};t.prototype=e.prototype,ee.Request=t,$u=!0}catch{}}const l0=e=>new d0(e);class d0{constructor({flushMinDelay:t=NE,flushMaxDelay:n=LE,minReplayDuration:r=$E,maxReplayDuration:s=yu,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:l=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:p=750,mutationLimit:m=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:_=[],networkCaptureBodies:T=!0,networkRequestHeaders:I=[],networkResponseHeaders:w=[],mask:M=[],maskAttributes:k=["title","placeholder","aria-label"],unmask:v=[],block:A=[],unblock:D=[],ignore:E=[],maskFn:P,beforeAddRecordingEvent:N,beforeErrorSampling:B,onError:F,attachRawBodyFromRequest:ce=!1}={}){this.name="Replay";const V=i0({mask:M,unmask:v,block:A,unblock:D,ignore:E});if(this._recordingOptions={maskAllInputs:l,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(Z,C,K)=>o0({maskAttributes:k,maskAllText:u,privacyOptions:V,key:Z,value:C,el:K}),...V,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Z=>{try{Z.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,HE),maxReplayDuration:Math.min(s,yu),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:d,maskAllInputs:l,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:m,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:_,networkCaptureBodies:T,networkRequestHeaders:Hu(I),networkResponseHeaders:Hu(w),beforeAddRecordingEvent:N,beforeErrorSampling:B,onError:F,attachRawBodyFromRequest:ce,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Bu}`:Bu,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&To())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Uu}set _isInitialized(t){Uu=t}afterAllSetup(t){!To()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&u0(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=f0(this._initialOptions,t);this._replay=new s0({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function f0(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Tn(n.replaysSessionSampleRate),i=Tn(n.replaysOnErrorSampleRate);return s==null&&i==null&&An(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function Hu(e){return[...a0,...e.map(t=>t.toLowerCase())]}function p0(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function mp(e){try{return new URL(e,J.location.origin).href}catch{return}}function h0(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function gp(e){try{return new Headers(e)}catch{return}}const zu=new WeakMap,to=new Map,yp={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function m0(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...yp,...t},l=typeof i=="function"?i:h=>!0,d=h=>g0(h,a),p={},m=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const y=to.get(g.span_id);y&&(g.timestamp=y/1e3,to.delete(g.span_id))}}),h)),s&&U_(h=>{if(h.response){const g=zu.get(h.response);g&&h.endTimestamp&&to.set(g,h.endTimestamp)}}),Qd(h=>{const g=O_(h,l,d,p,{propagateTraceparent:m,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&zu.set(h.response,h.fetchData.__span),g){const y=mp(h.fetchData.url),_=y?vn(y).host:void 0;g.setAttributes({"http.url":y?Gt(y):void 0,"server.address":_}),o&&Wu(g),c==null||c(g,{headers:h.headers})}})),r&&bf(h=>{var y;const g=y0(h,l,d,p,m,u);g&&(o&&Wu(g),c==null||c(g,{headers:gp((y=h.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function Wu(e){const{url:t}=se(e).data;if(!t||typeof t!="string")return;const n=Rn("resource",({entries:r})=>{r.forEach(s=>{h0(s)&&s.name.endsWith(t)&&(e.setAttributes(yf(s)),setTimeout(n))})})}function g0(e,t){const n=hr();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?It(r.toString(),t)||i&&It(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?It(e,t):r}}function y0(e,t,n,r,s,i){const o=e.xhr,a=o==null?void 0:o[ln];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=lt()&&t(c);if(e.endTimestamp&&l){const _=o.__sentry_xhr_span_id__;if(!_)return;const T=r[_];T&&a.status_code!==void 0&&(nd(T,a.status_code),T.end(),i==null||i(T,{headers:gp(wf(o)),error:e.error}),delete r[_]);return}const d=mp(c),p=vn(d||c),m=Gt(Jy(c)),h=!!De(),g=l&&h?_r({name:`${u} ${m}`,attributes:{url:Gt(c),type:"xhr","http.method":u,"http.url":d?Gt(d):void 0,"server.address":p==null?void 0:p.host,[xe]:"auto.http.browser",[Pt]:"http.client",...(p==null?void 0:p.search)&&{"http.query":p==null?void 0:p.search},...(p==null?void 0:p.hash)&&{"http.fragment":p==null?void 0:p.hash}}}):new Qt;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(c)&&_0(o,lt()&&h?g:void 0,s);const y=X();return y&&y.emit("beforeOutgoingRequestSpan",g,e),g}function _0(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=Vd({span:t,propagateTraceparent:n});r&&S0(e,r,s,i)}function S0(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!p0(o))&&e.setRequestHeader("baggage",n)}}catch{}}function b0(){J.document?J.document.addEventListener("visibilitychange",()=>{const e=De();if(!e)return;const t=Ae(e);if(J.document.hidden&&t){const n="cancelled",{op:r,status:s}=se(t);qe&&O.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:ve,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):qe&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const E0=3600,_p="sentry_previous_trace",v0="sentry.previous_trace";function x0(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?I0():void 0;e.on("spanStart",o=>{if(Ae(o)!==o)return;const a=ae().getPropagationContext();s=w0(s,o,a),r&&T0(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=ae(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(zo(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=zo(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[td]:s.sampleRate}})}function w0(e,t,n){const r=se(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[ca])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=E0&&(qe&&O.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Um]:"previous_trace"}}),t.setAttribute(v0,`${o.traceId}-${o.spanId}-${zo(o)?1:0}`)),i)}function T0(e){try{J.sessionStorage.setItem(_p,JSON.stringify(e))}catch(t){qe&&O.warn("Could not store previous trace in sessionStorage",t)}}function I0(){var e;try{const t=(e=J.sessionStorage)==null?void 0:e.getItem(_p);return JSON.parse(t)}catch{return}}function zo(e){return e.traceFlags===1}const R0="BrowserTracing",k0={...Ps,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...yp},C0=(e={})=>{const t={name:void 0,source:void 0},n=J.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:p,childSpanTimeout:m,markBackgroundSpan:h,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:_,shouldCreateSpanForRequest:T,enableHTTPTimings:I,ignoreResourceSpans:w,ignorePerformanceApiSpans:M,instrumentPageLoad:k,instrumentNavigation:v,detectRedirects:A,linkPreviousTrace:D,consistentTraceSampling:E,enableReportPageLoaded:P,onRequestSpanStart:N,onRequestSpanEnd:B}={...k0,...e};let F,ce,V;function Z(C,K,L=!0){const G=K.op==="pageload",Q=K.name,ie=l?l(K):K,fe=ie.attributes||{};if(Q!==ie.name&&(fe[ut]="custom",ie.attributes=fe),!L){const Fe=On();_r({...ie,startTime:Fe}).end(Fe);return}t.name=ie.name,t.source=fe[ut];const be=wd(ie,{idleTimeout:d,finalTimeout:p,childSpanTimeout:m,disableAutoFinish:G,beforeSpanEnd:Fe=>{F==null||F(),JS(Fe,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:M}),Gu(C,void 0);const St=ae(),Nn=St.getPropagationContext();St.setPropagationContext({...Nn,traceId:be.spanContext().traceId,sampled:rn(be),dsc:Mt(Fe)}),G&&(V=void 0)},trimIdleSpanEndTimestamp:!P});G&&P&&(V=be),Gu(C,be);function _t(){n&&["interactive","complete"].includes(n.readyState)&&C.emit("idleSpanEnableAutoFinish",be)}G&&!P&&n&&(n.addEventListener("readystatechange",()=>{_t()}),_t())}return{name:R0,setup(C){if(mg(),F=zS({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:C}),r&&vb(),s&&cb(),o&&ee.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?qS():i&&WS(),a&&VS(),A&&n){const L=()=>{ce=Ie()};addEventListener("click",L,{capture:!0}),addEventListener("keydown",L,{capture:!0,passive:!0})}function K(){const L=$r(C);L&&!se(L).timestamp&&(qe&&O.log(`[Tracing] Finishing current active span with op: ${se(L).op}`),L.setAttribute(Nr,"cancelled"),L.end())}C.on("startNavigationSpan",(L,G)=>{if(X()!==C)return;if(G!=null&&G.isRedirect){qe&&O.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Z(C,{op:"navigation.redirect",...L},!1);return}ce=void 0,K(),tt().setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:Rt()});const Q=ae();Q.setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:Rt()}),Q.setSDKProcessingMetadata({normalizedRequest:void 0}),Z(C,{op:"navigation",...L,parentSpan:null,forceTransaction:!0})}),C.on("startPageLoadSpan",(L,G={})=>{if(X()!==C)return;K();const Q=G.sentryTrace||qu("sentry-trace")||Vu("sentry-trace"),ie=G.baggage||qu("baggage")||Vu("baggage"),fe=og(Q,ie),be=ae();be.setPropagationContext(fe),lt()||(be.getPropagationContext().propagationSpanId=Rt()),be.setSDKProcessingMetadata({normalizedRequest:va()}),Z(C,{op:"pageload",...L})}),C.on("endPageloadSpan",()=>{P&&V&&(V.setAttribute(Nr,"reportPageLoaded"),V.end())})},afterAllSetup(C){let K=hr();if(D!=="off"&&x0(C,{linkPreviousTrace:D,consistentTraceSampling:E}),J.location){if(k){const L=Ve();A0(C,{name:J.location.pathname,startTime:L?L/1e3:void 0,attributes:{[ut]:"url",[xe]:"auto.pageload.browser"}})}v&&yi(({to:L,from:G})=>{if(G===void 0&&(K==null?void 0:K.indexOf(L))!==-1){K=void 0;return}K=void 0;const Q=Ea(L),ie=$r(C),fe=ie&&A&&M0(ie,ce);O0(C,{name:(Q==null?void 0:Q.pathname)||J.location.pathname,attributes:{[ut]:"url",[xe]:"auto.navigation.browser"}},{url:L,isRedirect:fe})})}h&&b0(),a&&P0(C,d,p,m,t),r&&Tb(),m0(C,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:_,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:I,onRequestSpanStart:N,onRequestSpanEnd:B})}}};function A0(e,t,n){e.emit("startPageLoadSpan",t,n),ae().setTransactionName(t.name);const r=$r(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function O0(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=ae();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...va(),url:r}}),$r(e)}function qu(e){const t=J.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function Vu(e){var r,s,i;const t=(s=(r=J.performance)==null?void 0:r.getEntriesByType)==null?void 0:s.call(r,"navigation")[0],n=(i=t==null?void 0:t.serverTiming)==null?void 0:i.find(o=>o.name===e);return n==null?void 0:n.description}function P0(e,t,n,r,s){const i=J.document;let o;const a=()=>{const c="ui.action.click",u=$r(e);if(u){const l=se(u).op;if(["navigation","pageload"].includes(l)){qe&&O.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Nr,"interactionInterrupted"),o.end(),o=void 0),!s.name){qe&&O.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=wd({name:s.name,op:c,attributes:{[ut]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const Sp="_sentry_idleSpan";function $r(e){return e[Sp]}function Gu(e,t){We(e,Sp,t)}const Ku=1.5;function M0(e,t){const n=se(e),r=On(),s=n.start_timestamp;return!(r-s>Ku||t&&r-t<=Ku)}function N0(e){const t={...e};return qd(t,"react"),Rd("react",{version:S.version}),AE(t)}function L0(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function D0(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function F0(e,{componentStack:t},n){if(L0(S.version)&&Gr(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,D0(e,r)}return gr(r=>(r.setContext("react",{componentStack:t}),hi(e,n)))}const j0=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,no={componentStack:null,error:null,eventId:null};let B0=class extends S.Component{constructor(t){super(t),this.state=no,this._openFallbackReportDialog=!0;const n=X();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&mu({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;gr(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,l=F0(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});i&&i(t,r,l),o&&(this._lastEventId=l,this._openFallbackReportDialog&&mu({...a,eventId:l})),this.setState({error:t,componentStack:r,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===no?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(no)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?S.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return S.isValidElement(s)?s:(t&&j0&&O.warn("fallback did not produce a valid ReactElement"),null)}};const U0="modulepreload",$0=function(e){return"/"+e},Yu={},we=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=$0(c),c in Yu)return;Yu[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":U0,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},R={purplePrimary:"#1d1a3b",purpleBright:"#1d1a3b",purpleAccent:"#1d1a3b",purpleHover:"#2a2660",purpleGlow:"transparent",bgDeep:"#f3f3f3",bgCoolWhite:"#f9f9fb",bgPanel:"rgba(0,0,0,0.018)",accentGreen:"#2e844a",accentAmber:"#dd7a01",accentBlue:"#0176d3",accentRed:"#ea001b",textPrimary:"#181818",textSecondary:"#444444",textTertiary:"#666666",textDim:"#8a909c",cardSurface:"#ffffff",borderGlass:"#dddbda",borderSubtle:"#e8e8e8",hairline:"#c9c7c5",hairline2:"#b8b6b4",glassBg:"rgba(255,255,255,0.92)",glassBorder:"#dddbda",glassInset:"rgba(255,255,255,0.70)",glassShadow1:"rgba(0,0,0,0.04)",glassShadow2:"rgba(0,0,0,0.06)",frostChrome:"blur(18px) saturate(1.2)",frostPanel:"blur(14px) saturate(1.1)",frostGlass:"blur(22px) saturate(1.3)",frostModal:"blur(18px) saturate(1.2)",frostOverlay:"blur(6px)",frostToast:"blur(10px)",serif:"Georgia, 'Source Serif 4', serif",mono:"'IBM Plex Mono', Consolas, monospace",sans:"'Inter', system-ui, sans-serif",spacing:{xs:"4px",small:"8px",medium:"16px",large:"24px",xl:"32px",xxl:"48px"},statusGreen:{border:"rgba(46,132,74,.25)",text:"#2e844a",bg:"rgba(46,132,74,.06)"},statusAmber:{border:"rgba(221,122,1,.28)",text:"#dd7a01",bg:"rgba(221,122,1,.07)"},statusRed:{border:"rgba(234,0,27,.22)",text:"#ea001b",bg:"rgba(234,0,27,.05)"},transitionFast:"all 0.12s ease",transitionBase:"all 0.18s ease",transitionSlow:"all 0.28s ease"};class H0 extends Xt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:R.bgDeep,padding:"24px"},children:f.jsxs("div",{style:{textAlign:"center",maxWidth:440},children:[f.jsx("div",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:9,letterSpacing:2.5,textTransform:"uppercase",color:"rgba(180,52,52,0.6)",marginBottom:12},children:"System Error"}),f.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:28,fontWeight:200,color:R.textPrimary,marginBottom:8},children:"Something went wrong"}),f.jsx("p",{style:{fontFamily:"Consolas, monospace",fontSize:12,color:"rgba(15,18,30,.56)",lineHeight:1.6,marginBottom:24},children:"An unexpected error occurred. Your data is safe."}),f.jsx("button",{onClick:()=>window.location.reload(),style:{appearance:"none",background:"transparent",border:"1px solid rgba(29,26,59,0.25)",color:R.purpleBright,padding:"12px 24px",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2.5,textTransform:"uppercase",cursor:"pointer"},children:"Reload"})]})}):this.props.children}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const Ju="popstate";function z0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Wo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oi(s)}return q0(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ga(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W0(){return Math.random().toString(36).substr(2,8)}function Xu(e,t){return{usr:e.state,key:e.key,idx:t}}function Wo(e,t,n,r){return n===void 0&&(n=null),Hr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||W0()})}function oi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qt.Pop,c=null,u=l();u==null&&(u=0,o.replaceState(Hr({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=qt.Pop;let y=l(),_=y==null?null:y-u;u=y,c&&c({action:a,location:g.location,delta:_})}function p(y,_){a=qt.Push;let T=Wo(g.location,y,_);u=l()+1;let I=Xu(T,u),w=g.createHref(T);try{o.pushState(I,"",w)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(w)}i&&c&&c({action:a,location:g.location,delta:1})}function m(y,_){a=qt.Replace;let T=Wo(g.location,y,_);u=l();let I=Xu(T,u),w=g.createHref(T);o.replaceState(I,"",w),i&&c&&c({action:a,location:g.location,delta:0})}function h(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof y=="string"?y:oi(y);return T=T.replace(/ $/,"%20"),ye(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let g={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ju,d),c=y,()=>{s.removeEventListener(Ju,d),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let _=h(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(y){return o.go(y)}};return g}var Qu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qu||(Qu={}));function V0(e,t,n){return n===void 0&&(n="/"),G0(e,t,n)}function G0(e,t,n,r){let s=typeof t=="string"?Er(t):t,i=Ka(s.pathname||"/",n);if(i==null)return null;let o=bp(e);K0(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=oT(i);a=rT(o[c],u)}return a}function bp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jt([r,c.relativePath]),l=n.concat(c);i.children&&i.children.length>0&&(ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bp(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tT(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Ep(i.path))s(i,o,c)}),t}function Ep(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ep(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function K0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Y0=/^:[\w-]+$/,J0=3,X0=2,Q0=1,Z0=10,eT=-2,Zu=e=>e==="*";function tT(e,t){let n=e.split("/"),r=n.length;return n.some(Zu)&&(r+=eT),t&&(r+=X0),n.filter(s=>!Zu(s)).reduce((s,i)=>s+(Y0.test(i)?J0:i===""?Q0:Z0),r)}function nT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rT(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,l=i==="/"?t:t.slice(i.length)||"/",d=sT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),p=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Jt([i,d.pathname]),pathnameBase:dT(Jt([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Jt([i,d.pathnameBase]))}return o}function sT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:p,isOptional:m}=l;if(p==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[d];return m&&!h?u[p]=void 0:u[p]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function iT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ga(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function oT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ga(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=e=>aT.test(e);function uT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Er(e):e,i;if(n)if(cT(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Ga(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=el(n.substring(1),"/"):i=el(n,t)}else i=t;return{pathname:i,search:fT(r),hash:pT(s)}}function el(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ro(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ya(e,t){let n=lT(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ja(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Er(e):(s=Hr({},e),ye(!s.pathname||!s.pathname.includes("?"),ro("?","pathname","search",s)),ye(!s.pathname||!s.pathname.includes("#"),ro("#","pathname","hash",s)),ye(!s.search||!s.search.includes("#"),ro("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?t[d]:"/"}let c=uT(s,a),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),dT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vp=["post","put","patch","delete"];new Set(vp);const mT=["get",...vp];new Set(mT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(this,arguments)}const Xa=S.createContext(null),gT=S.createContext(null),on=S.createContext(null),wi=S.createContext(null),Nt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),xp=S.createContext(null);function yT(e,t){let{relative:n}=t===void 0?{}:t;vr()||ye(!1);let{basename:r,navigator:s}=S.useContext(on),{hash:i,pathname:o,search:a}=Tp(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jt([r,o])),s.createHref({pathname:c,search:a,hash:i})}function vr(){return S.useContext(wi)!=null}function Mn(){return vr()||ye(!1),S.useContext(wi).location}function wp(e){S.useContext(on).static||S.useLayoutEffect(e)}function Ti(){let{isDataRoute:e}=S.useContext(Nt);return e?AT():_T()}function _T(){vr()||ye(!1);let e=S.useContext(Xa),{basename:t,future:n,navigator:r}=S.useContext(on),{matches:s}=S.useContext(Nt),{pathname:i}=Mn(),o=JSON.stringify(Ya(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return wp(()=>{a.current=!0}),S.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Ja(u,JSON.parse(o),i,l.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Jt([t,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[t,r,o,i,e])}function lk(){let{matches:e}=S.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function Tp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(on),{matches:s}=S.useContext(Nt),{pathname:i}=Mn(),o=JSON.stringify(Ya(s,r.v7_relativeSplatPath));return S.useMemo(()=>Ja(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function ST(e,t){return bT(e,t)}function bT(e,t,n,r){vr()||ye(!1);let{navigator:s}=S.useContext(on),{matches:i}=S.useContext(Nt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Mn(),l;if(t){var d;let y=typeof t=="string"?Er(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||ye(!1),l=y}else l=u;let p=l.pathname||"/",m=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=V0(e,{pathname:m}),g=TT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Jt([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Jt([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?S.createElement(wi.Provider,{value:{location:zr({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:qt.Pop}},g):g}function ET(){let e=CT(),t=hT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const vT=S.createElement(ET,null);class xT extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Nt.Provider,{value:this.props.routeContext},S.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wT(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(Xa);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Nt.Provider,{value:t},r)}function TT(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||ye(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:p,errors:m}=n,h=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,p)=>{let m,h=!1,g=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||vT,c&&(u<0&&p===0?(OT("route-fallback"),h=!0,y=null):u===p&&(h=!0,y=d.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,p+1)),T=()=>{let I;return m?I=g:h?I=y:d.route.Component?I=S.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=l,S.createElement(wT,{match:d,routeContext:{outlet:l,matches:_,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?S.createElement(xT,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var Ip=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ip||{}),Rp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rp||{});function IT(e){let t=S.useContext(Xa);return t||ye(!1),t}function RT(e){let t=S.useContext(gT);return t||ye(!1),t}function kT(e){let t=S.useContext(Nt);return t||ye(!1),t}function kp(e){let t=kT(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function CT(){var e;let t=S.useContext(xp),n=RT(),r=kp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function AT(){let{router:e}=IT(Ip.UseNavigateStable),t=kp(Rp.UseNavigateStable),n=S.useRef(!1);return wp(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zr({fromRouteId:t},i)))},[e,t])}const tl={};function OT(e,t,n){tl[e]||(tl[e]=!0)}function PT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qo(e){let{to:t,replace:n,state:r,relative:s}=e;vr()||ye(!1);let{future:i,static:o}=S.useContext(on),{matches:a}=S.useContext(Nt),{pathname:c}=Mn(),u=Ti(),l=Ja(t,Ya(a,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(l);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function he(e){ye(!1)}function MT(e){let{basename:t="/",children:n=null,location:r,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=e;vr()&&ye(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:zr({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Er(r));let{pathname:l="/",search:d="",hash:p="",state:m=null,key:h="default"}=r,g=S.useMemo(()=>{let y=Ka(l,c);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:h},navigationType:s}},[c,l,d,p,m,h,s]);return g==null?null:S.createElement(on.Provider,{value:u},S.createElement(wi.Provider,{children:n,value:g}))}function NT(e){let{children:t,location:n}=e;return ST(Vo(t),n)}new Promise(()=>{});function Vo(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,Vo(r.props.children,i));return}r.type!==he&&ye(!1),!r.props.index||!r.props.children||ye(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(this,arguments)}function LT(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function DT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FT(e,t){return e.button===0&&(!t||t==="_self")&&!DT(e)}function Ko(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function jT(e,t){let n=Ko(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const BT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UT="6";try{window.__reactRouterVersion=UT}catch{}const $T="startTransition",nl=ih[$T];function HT(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=z0({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},l=S.useCallback(d=>{u&&nl?nl(()=>c(d)):c(d)},[c,u]);return S.useLayoutEffect(()=>o.listen(l),[o,l]),S.useEffect(()=>PT(r),[r]),S.createElement(MT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rl=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:l,viewTransition:d}=t,p=LT(t,BT),{basename:m}=S.useContext(on),h,g=!1;if(typeof u=="string"&&WT.test(u)&&(h=u,zT))try{let I=new URL(window.location.href),w=u.startsWith("//")?new URL(I.protocol+u):new URL(u),M=Ka(w.pathname,m);w.origin===I.origin&&M!=null?u=M+w.search+w.hash:g=!0}catch{}let y=yT(u,{relative:s}),_=qT(u,{replace:o,state:a,target:c,preventScrollReset:l,relative:s,viewTransition:d});function T(I){r&&r(I),I.defaultPrevented||_(I)}return S.createElement("a",Go({},p,{href:h||y,onClick:g||i?r:T,ref:n,target:c}))});var sl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sl||(sl={}));var il;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(il||(il={}));function qT(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ti(),u=Mn(),l=Tp(e,{relative:o});return S.useCallback(d=>{if(FT(d,n)){d.preventDefault();let p=r!==void 0?r:oi(u)===oi(l);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,l,r,s,n,e,i,o,a])}function dk(e){let t=S.useRef(Ko(e)),n=S.useRef(!1),r=Mn(),s=S.useMemo(()=>jT(r.search,n.current?null:t.current),[r.search]),i=Ti(),o=S.useCallback((a,c)=>{const u=Ko(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function fk(e,t){let{capture:n}={};S.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",e,r),()=>{window.removeEventListener("beforeunload",e,r)}},[e,n])}function Cp(e,t){return function(){return e.apply(t,arguments)}}const{toString:VT}=Object.prototype,{getPrototypeOf:Qa}=Object,{iterator:Ii,toStringTag:Ap}=Symbol,Ri=(e=>t=>{const n=VT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dt=e=>(e=e.toLowerCase(),t=>Ri(t)===e),ki=e=>t=>typeof t===e,{isArray:xr}=Array,lr=ki("undefined");function us(e){return e!==null&&!lr(e)&&e.constructor!==null&&!lr(e.constructor)&&$e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Op=dt("ArrayBuffer");function GT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Op(e.buffer),t}const KT=ki("string"),$e=ki("function"),Pp=ki("number"),ls=e=>e!==null&&typeof e=="object",YT=e=>e===!0||e===!1,Bs=e=>{if(Ri(e)!=="object")return!1;const t=Qa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ap in e)&&!(Ii in e)},JT=e=>{if(!ls(e)||us(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XT=dt("Date"),QT=dt("File"),ZT=dt("Blob"),eI=dt("FileList"),tI=e=>ls(e)&&$e(e.pipe),nI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$e(e.append)&&((t=Ri(e))==="formdata"||t==="object"&&$e(e.toString)&&e.toString()==="[object FormData]"))},rI=dt("URLSearchParams"),[sI,iI,oI,aI]=["ReadableStream","Request","Response","Headers"].map(dt),cI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ds(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),xr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(us(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Mp(e,t){if(us(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Np=e=>!lr(e)&&e!==fn;function Yo(){const{caseless:e,skipUndefined:t}=Np(this)&&this||{},n={},r=(s,i)=>{const o=e&&Mp(n,i)||i;Bs(n[o])&&Bs(s)?n[o]=Yo(n[o],s):Bs(s)?n[o]=Yo({},s):xr(s)?n[o]=s.slice():(!t||!lr(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ds(arguments[s],r);return n}const uI=(e,t,n,{allOwnKeys:r}={})=>(ds(t,(s,i)=>{n&&$e(s)?Object.defineProperty(e,i,{value:Cp(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),lI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},fI=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Qa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},hI=e=>{if(!e)return null;if(xr(e))return e;let t=e.length;if(!Pp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qa(Uint8Array)),gI=(e,t)=>{const r=(e&&e[Ii]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},yI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},_I=dt("HTMLFormElement"),SI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ol=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),bI=dt("RegExp"),Lp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ds(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},EI=e=>{Lp(e,(t,n)=>{if($e(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($e(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vI=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return xr(e)?r(e):r(String(e).split(t)),n},xI=()=>{},wI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TI(e){return!!(e&&$e(e.append)&&e[Ap]==="FormData"&&e[Ii])}const II=e=>{const t=new Array(10),n=(r,s)=>{if(ls(r)){if(t.indexOf(r)>=0)return;if(us(r))return r;if(!("toJSON"in r)){t[s]=r;const i=xr(r)?[]:{};return ds(r,(o,a)=>{const c=n(o,s+1);!lr(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},RI=dt("AsyncFunction"),kI=e=>e&&(ls(e)||$e(e))&&$e(e.then)&&$e(e.catch),Dp=((e,t)=>e?setImmediate:t?((n,r)=>(fn.addEventListener("message",({source:s,data:i})=>{s===fn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),fn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$e(fn.postMessage)),CI=typeof queueMicrotask<"u"?queueMicrotask.bind(fn):typeof process<"u"&&process.nextTick||Dp,AI=e=>e!=null&&$e(e[Ii]),b={isArray:xr,isArrayBuffer:Op,isBuffer:us,isFormData:nI,isArrayBufferView:GT,isString:KT,isNumber:Pp,isBoolean:YT,isObject:ls,isPlainObject:Bs,isEmptyObject:JT,isReadableStream:sI,isRequest:iI,isResponse:oI,isHeaders:aI,isUndefined:lr,isDate:XT,isFile:QT,isBlob:ZT,isRegExp:bI,isFunction:$e,isStream:tI,isURLSearchParams:rI,isTypedArray:mI,isFileList:eI,forEach:ds,merge:Yo,extend:uI,trim:cI,stripBOM:lI,inherits:dI,toFlatObject:fI,kindOf:Ri,kindOfTest:dt,endsWith:pI,toArray:hI,forEachEntry:gI,matchAll:yI,isHTMLForm:_I,hasOwnProperty:ol,hasOwnProp:ol,reduceDescriptors:Lp,freezeMethods:EI,toObjectSet:vI,toCamelCase:SI,noop:xI,toFiniteNumber:wI,findKey:Mp,global:fn,isContextDefined:Np,isSpecCompliantForm:TI,toJSONObject:II,isAsyncFn:RI,isThenable:kI,setImmediate:Dp,asap:CI,isIterable:AI};let H=class Fp extends Error{static from(t,n,r,s,i,o){const a=new Fp(t.message,n||t.code,r,s,i);return a.cause=t,a.name=t.name,o&&Object.assign(a,o),a}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}};H.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";H.ERR_BAD_OPTION="ERR_BAD_OPTION";H.ECONNABORTED="ECONNABORTED";H.ETIMEDOUT="ETIMEDOUT";H.ERR_NETWORK="ERR_NETWORK";H.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";H.ERR_DEPRECATED="ERR_DEPRECATED";H.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";H.ERR_BAD_REQUEST="ERR_BAD_REQUEST";H.ERR_CANCELED="ERR_CANCELED";H.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";H.ERR_INVALID_URL="ERR_INVALID_URL";const OI=null;function Jo(e){return b.isPlainObject(e)||b.isArray(e)}function jp(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function al(e,t,n){return e?e.concat(t).map(function(s,i){return s=jp(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function PI(e){return b.isArray(e)&&!e.some(Jo)}const MI=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function Ci(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!b.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(b.isDate(h))return h.toISOString();if(b.isBoolean(h))return h.toString();if(!c&&b.isBlob(h))throw new H("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(h)||b.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function l(h,g,y){let _=h;if(h&&!y&&typeof h=="object"){if(b.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(b.isArray(h)&&PI(h)||(b.isFileList(h)||b.endsWith(g,"[]"))&&(_=b.toArray(h)))return g=jp(g),_.forEach(function(I,w){!(b.isUndefined(I)||I===null)&&t.append(o===!0?al([g],w,i):o===null?g:g+"[]",u(I))}),!1}return Jo(h)?!0:(t.append(al(y,g,i),u(h)),!1)}const d=[],p=Object.assign(MI,{defaultVisitor:l,convertValue:u,isVisitable:Jo});function m(h,g){if(!b.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(h),b.forEach(h,function(_,T){(!(b.isUndefined(_)||_===null)&&s.call(t,_,b.isString(T)?T.trim():T,g,p))===!0&&m(_,g?g.concat(T):[T])}),d.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return m(e),t}function cl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Za(e,t){this._pairs=[],e&&Ci(e,this,t)}const Bp=Za.prototype;Bp.append=function(t,n){this._pairs.push([t,n])};Bp.toString=function(t){const n=t?function(r){return t.call(this,r,cl)}:cl;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Up(e,t,n){if(!t)return e;const r=n&&n.encode||NI,s=b.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=b.isURLSearchParams(t)?t.toString():new Za(t,s).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ul{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $p={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LI=typeof URLSearchParams<"u"?URLSearchParams:Za,DI=typeof FormData<"u"?FormData:null,FI=typeof Blob<"u"?Blob:null,jI={isBrowser:!0,classes:{URLSearchParams:LI,FormData:DI,Blob:FI},protocols:["http","https","file","blob","url","data"]},ec=typeof window<"u"&&typeof document<"u",Xo=typeof navigator=="object"&&navigator||void 0,BI=ec&&(!Xo||["ReactNative","NativeScript","NS"].indexOf(Xo.product)<0),UI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$I=ec&&window.location.href||"http://localhost",HI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ec,hasStandardBrowserEnv:BI,hasStandardBrowserWebWorkerEnv:UI,navigator:Xo,origin:$I},Symbol.toStringTag,{value:"Module"})),Ce={...HI,...jI};function zI(e,t){return Ci(e,new Ce.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ce.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function WI(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qI(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Hp(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,c?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=qI(s[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,s)=>{t(WI(r),s,n,0)}),n}return null}function VI(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const fs={transitional:$p,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return s?JSON.stringify(Hp(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zI(t,this.formSerializer).toString();if((a=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ci(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),VI(t)):t}],transformResponse:[function(t){const n=this.transitional||fs.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?H.from(a,H.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{fs.headers[e]={}});const GI=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KI=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&GI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ll=Symbol("internals");function Ir(e){return e&&String(e).trim().toLowerCase()}function Us(e){return e===!1||e==null?e:b.isArray(e)?e.map(Us):String(e)}function YI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const JI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function so(e,t,n,r,s){if(b.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function XI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function QI(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let He=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const l=Ir(c);if(!l)throw new Error("header name must be a non-empty string");const d=b.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Us(a))}const o=(a,c)=>b.forEach(a,(u,l)=>i(u,l,c));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!JI(t))o(KI(t),n);else if(b.isObject(t)&&b.isIterable(t)){let a={},c,u;for(const l of t){if(!b.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?b.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ir(t),t){const r=b.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return YI(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ir(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||so(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ir(o),o){const a=b.findKey(r,o);a&&(!n||so(r,r[a],a,n))&&(delete r[a],s=!0)}}return b.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||so(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=Us(s),delete n[i];return}const a=t?XI(i):String(i).trim();a!==i&&delete n[i],n[a]=Us(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ll]=this[ll]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ir(o);r[a]||(QI(s,o),r[a]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}};He.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(He.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods(He);function io(e,t){const n=this||fs,r=t||n,s=He.from(r.headers);let i=r.data;return b.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function zp(e){return!!(e&&e.__CANCEL__)}let ps=class extends H{constructor(t,n,r){super(t??"canceled",H.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Wp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new H("Request failed with status code "+n.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ZI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eR(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),n[s]=c,r[s]=u;let d=i,p=0;for(;d!==s;)p+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const m=l&&u-l;return m?Math.round(p*1e3/m):void 0}}function tR(e,t){let n=0,r=1e3/t,s,i;const o=(u,l=Date.now())=>{n=l,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),d=l-n;d>=r?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const ai=(e,t,n=3)=>{let r=0;const s=eR(50,250);return tR(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},dl=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fl=e=>(...t)=>b.asap(()=>e(...t)),nR=Ce.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ce.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,rR=Ce.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];b.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),b.isString(r)&&a.push(`path=${r}`),b.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function qp(e,t,n){let r=!sR(t);return e&&(r||n==!1)?iR(e,t):t}const pl=e=>e instanceof He?{...e}:e;function kn(e,t){t=t||{};const n={};function r(u,l,d,p){return b.isPlainObject(u)&&b.isPlainObject(l)?b.merge.call({caseless:p},u,l):b.isPlainObject(l)?b.merge({},l):b.isArray(l)?l.slice():l}function s(u,l,d,p){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u,d,p)}else return r(u,l,d,p)}function i(u,l){if(!b.isUndefined(l))return r(void 0,l)}function o(u,l){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in t)return r(u,l);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(pl(u),pl(l),d,!0)};return b.forEach(Object.keys({...e,...t}),function(l){const d=c[l]||s,p=d(e[l],t[l],l);b.isUndefined(p)&&d!==a||(n[l]=p)}),n}const Vp=e=>{const t=kn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=He.from(o),t.url=Up(qp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(n)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(Ce.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(t)),r||r!==!1&&nR(t.url))){const c=s&&i&&rR.read(i);c&&o.set(s,c)}return t},oR=typeof XMLHttpRequest<"u",aR=oR&&function(e){return new Promise(function(n,r){const s=Vp(e);let i=s.data;const o=He.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,p,m,h;function g(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function _(){if(!y)return;const I=He.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:I,config:e,request:y};Wp(function(v){n(v),g()},function(v){r(v),g()},M),y=null}"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(_)},y.onabort=function(){y&&(r(new H("Request aborted",H.ECONNABORTED,e,y)),y=null)},y.onerror=function(w){const M=w&&w.message?w.message:"Network Error",k=new H(M,H.ERR_NETWORK,e,y);k.event=w||null,r(k),y=null},y.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||$p;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new H(w,M.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&b.forEach(o.toJSON(),function(w,M){y.setRequestHeader(M,w)}),b.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([p,h]=ai(u,!0),y.addEventListener("progress",p)),c&&y.upload&&([d,m]=ai(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(l=I=>{y&&(r(!I||I.type?new ps(null,e,y):I),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const T=ZI(s.url);if(T&&Ce.protocols.indexOf(T)===-1){r(new H("Unsupported protocol "+T+":",H.ERR_BAD_REQUEST,e));return}y.send(i||null)})},cR=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof H?l:new ps(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new H(`timeout of ${t}ms exceeded`,H.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>b.asap(a),c}},uR=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},lR=async function*(e,t){for await(const n of dR(e))yield*uR(n,t)},dR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},hl=(e,t,n,r)=>{const s=lR(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(n){let p=i+=d;n(p)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},ml=64*1024,{isFunction:Rs}=b,fR=(({Request:e,Response:t})=>({Request:e,Response:t}))(b.global),{ReadableStream:gl,TextEncoder:yl}=b.global,_l=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pR=e=>{e=b.merge.call({skipUndefined:!0},fR,e);const{fetch:t,Request:n,Response:r}=e,s=t?Rs(t):typeof fetch=="function",i=Rs(n),o=Rs(r);if(!s)return!1;const a=s&&Rs(gl),c=s&&(typeof yl=="function"?(h=>g=>h.encode(g))(new yl):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=i&&a&&_l(()=>{let h=!1;const g=new n(Ce.origin,{body:new gl,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),l=o&&a&&_l(()=>b.isReadableStream(new r("").body)),d={stream:l&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(g,y)=>{let _=g&&g[h];if(_)return _.call(g);throw new H(`Response type '${h}' is not supported`,H.ERR_NOT_SUPPORT,y)})});const p=async h=>{if(h==null)return 0;if(b.isBlob(h))return h.size;if(b.isSpecCompliantForm(h))return(await new n(Ce.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(b.isArrayBufferView(h)||b.isArrayBuffer(h))return h.byteLength;if(b.isURLSearchParams(h)&&(h=h+""),b.isString(h))return(await c(h)).byteLength},m=async(h,g)=>{const y=b.toFiniteNumber(h.getContentLength());return y??p(g)};return async h=>{let{url:g,method:y,data:_,signal:T,cancelToken:I,timeout:w,onDownloadProgress:M,onUploadProgress:k,responseType:v,headers:A,withCredentials:D="same-origin",fetchOptions:E}=Vp(h),P=t||fetch;v=v?(v+"").toLowerCase():"text";let N=cR([T,I&&I.toAbortSignal()],w),B=null;const F=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let ce;try{if(k&&u&&y!=="get"&&y!=="head"&&(ce=await m(A,_))!==0){let G=new n(g,{method:"POST",body:_,duplex:"half"}),Q;if(b.isFormData(_)&&(Q=G.headers.get("content-type"))&&A.setContentType(Q),G.body){const[ie,fe]=dl(ce,ai(fl(k)));_=hl(G.body,ml,ie,fe)}}b.isString(D)||(D=D?"include":"omit");const V=i&&"credentials"in n.prototype,Z={...E,signal:N,method:y.toUpperCase(),headers:A.normalize().toJSON(),body:_,duplex:"half",credentials:V?D:void 0};B=i&&new n(g,Z);let C=await(i?P(B,E):P(g,Z));const K=l&&(v==="stream"||v==="response");if(l&&(M||K&&F)){const G={};["status","statusText","headers"].forEach(be=>{G[be]=C[be]});const Q=b.toFiniteNumber(C.headers.get("content-length")),[ie,fe]=M&&dl(Q,ai(fl(M),!0))||[];C=new r(hl(C.body,ml,ie,()=>{fe&&fe(),F&&F()}),G)}v=v||"text";let L=await d[b.findKey(d,v)||"text"](C,h);return!K&&F&&F(),await new Promise((G,Q)=>{Wp(G,Q,{data:L,headers:He.from(C.headers),status:C.status,statusText:C.statusText,config:h,request:B})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,h,B),{cause:V.cause||V}):H.from(V,V&&V.code,h,B)}}},hR=new Map,Gp=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,l=hR;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:pR(t)),l=u;return u};Gp();const tc={http:OI,xhr:aR,fetch:{get:Gp}};b.forEach(tc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sl=e=>`- ${e}`,mR=e=>b.isFunction(e)||e===null||e===!1;function gR(e,t){e=b.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!mR(r)&&(s=tc[(a=String(r)).toLowerCase()],s===void 0))throw new H(`Unknown adapter '${a}'`);if(s&&(b.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Sl).join(`
`):" "+Sl(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Kp={getAdapter:gR,adapters:tc};function oo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ps(null,e)}function bl(e){return oo(e),e.headers=He.from(e.headers),e.data=io.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kp.getAdapter(e.adapter||fs.adapter,e)(e).then(function(r){return oo(e),r.data=io.call(e,e.transformResponse,r),r.headers=He.from(r.headers),r},function(r){return zp(r)||(oo(e),r&&r.response&&(r.response.data=io.call(e,e.transformResponse,r.response),r.response.headers=He.from(r.response.headers))),Promise.reject(r)})}const Yp="1.13.3",Ai={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ai[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const El={};Ai.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Yp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new H(s(o," has been removed"+(n?" in "+n:"")),H.ERR_DEPRECATED);return n&&!El[o]&&(El[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ai.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function yR(e,t,n){if(typeof e!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new H("option "+i+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new H("Unknown option "+i,H.ERR_BAD_OPTION)}}const $s={assertOptions:yR,validators:Ai},ft=$s.validators;let xn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ul,response:new ul}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=kn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&$s.assertOptions(r,{silentJSONParsing:ft.transitional(ft.boolean),forcedJSONParsing:ft.transitional(ft.boolean),clarifyTimeoutError:ft.transitional(ft.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:$s.assertOptions(s,{encode:ft.function,serialize:ft.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$s.assertOptions(n,{baseUrl:ft.spelling("baseURL"),withXsrfToken:ft.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=He.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,d=0,p;if(!c){const h=[bl.bind(this),void 0];h.unshift(...a),h.push(...u),p=h.length,l=Promise.resolve(n);let g=n;for(;d<p;)l=l.then(h[d++]).then(y=>{g=y!==void 0?y:g}).catch(h[d++]).then(()=>g);return l}p=a.length;let m=n;for(;d<p;){const h=a[d++],g=a[d++];try{m=h(m)}catch(y){g.call(this,y);break}}try{l=bl.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,p=u.length;d<p;)l=l.then(u[d++]).catch(u[d++]);return l}getUri(t){t=kn(this.defaults,t);const n=qp(t.baseURL,t.url,t.allowAbsoluteUrls);return Up(n,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){xn.prototype[t]=function(n,r){return this.request(kn(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(kn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}xn.prototype[t]=n(),xn.prototype[t+"Form"]=n(!0)});let _R=class Jp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new ps(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Jp(function(s){t=s}),cancel:t}}};function SR(e){return function(n){return e.apply(null,n)}}function bR(e){return b.isObject(e)&&e.isAxiosError===!0}const Qo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qo).forEach(([e,t])=>{Qo[t]=e});function Xp(e){const t=new xn(e),n=Cp(xn.prototype.request,t);return b.extend(n,xn.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Xp(kn(e,s))},n}const _e=Xp(fs);_e.Axios=xn;_e.CanceledError=ps;_e.CancelToken=_R;_e.isCancel=zp;_e.VERSION=Yp;_e.toFormData=Ci;_e.AxiosError=H;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=SR;_e.isAxiosError=bR;_e.mergeConfig=kn;_e.AxiosHeaders=He;_e.formToJSON=e=>Hp(b.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=Kp.getAdapter;_e.HttpStatusCode=Qo;_e.default=_e;const{Axios:gk,AxiosError:yk,CanceledError:_k,isCancel:Sk,CancelToken:bk,VERSION:Ek,all:vk,Cancel:xk,isAxiosError:wk,spread:Tk,toFormData:Ik,AxiosHeaders:Rk,HttpStatusCode:kk,formToJSON:Ck,getAdapter:Ak,mergeConfig:Ok}=_e,Qp="https://sentinel-authority-production.up.railway.app",Pk=Qp,Ke=_e.create({baseURL:Qp});Ke.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Ke.interceptors.response.use(e=>e,e=>{var t,n,r,s;return e.response&&e.response.status===401&&!((n=(t=e.config)==null?void 0:t.url)!=null&&n.includes("/api/chat"))&&!((s=(r=e.config)==null?void 0:r.url)!=null&&s.includes("/api/envelo/sessions"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Zp=S.createContext(null);function ER({children:e}){const[t,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("user");c&&u&&n(JSON.parse(u)),s(!1)},[]);const i=async(c,u)=>{const l=await Ke.post("/api/auth/login",{email:c,password:u});return localStorage.setItem("token",l.data.access_token),localStorage.setItem("user",JSON.stringify(l.data.user)),n(l.data.user),l.data.user},o=async c=>{const u=await Ke.post("/api/auth/register",c);return localStorage.setItem("token",u.data.access_token),localStorage.setItem("user",JSON.stringify(u.data.user)),n(u.data.user),u.data.user},a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return f.jsx(Zp.Provider,{value:{user:t,login:i,register:o,logout:a,loading:r},children:e})}function Oi(){return S.useContext(Zp)}const eh=Xt.createContext();function vR({children:e}){const[t,n]=S.useState([]),r=Xt.useCallback((o,a="info")=>{const c=Date.now()+Math.random();n(u=>[...u,{id:c,message:o,type:a}]),setTimeout(()=>n(u=>u.filter(l=>l.id!==c)),4500)},[]),s=Xt.useCallback(o=>{n(a=>a.filter(c=>c.id!==o))},[]),i={success:{bg:"rgba(22,135,62,.08)",border:"rgba(22,135,62,.25)",text:R.accentGreen,icon:""},error:{bg:"rgba(180,52,52,.08)",border:"rgba(180,52,52,.25)",text:R.accentRed,icon:""},warning:{bg:"rgba(158,110,18,.08)",border:"rgba(158,110,18,.25)",text:R.accentAmber,icon:""},info:{bg:"rgba(29,26,59,.08)",border:"rgba(29,26,59,.25)",text:R.purpleBright,icon:""}};return f.jsxs(eh.Provider,{value:{show:r},children:[e,f.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"6px",maxWidth:"380px"},children:t.map(o=>{const a=i[o.type]||i.info;return f.jsxs("div",{style:{background:a.bg,backdropFilter:R.frostToast,border:`1px solid ${a.border}`,padding:"10px 14px",display:"flex",alignItems:"flex-start",gap:"8px",animation:"slideIn .25s ease-out"},children:[f.jsx("span",{style:{fontSize:"13px",lineHeight:1,marginTop:"1px"},children:a.icon}),f.jsx("span",{style:{flex:1,color:a.text,fontSize:"12px",lineHeight:1.4,fontFamily:R.mono},children:o.message}),f.jsx("button",{onClick:()=>s(o.id),style:{background:"none",border:"none",color:a.text,cursor:"pointer",fontSize:"14px",padding:0,lineHeight:1,opacity:.6},children:""})]},o.id)})})]})}function Mk(){return Xt.useContext(eh)}const th=Xt.createContext();function xR({children:e}){const[t,n]=S.useState({open:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmLabel:"Confirm",danger:!1}),r=i=>new Promise(o=>{n({open:!0,title:i.title||"Confirm",message:i.message||"Are you sure?",confirmLabel:i.confirmLabel||"Confirm",danger:i.danger||!1,onConfirm:()=>{n(a=>({...a,open:!1})),o(!0)},onCancel:()=>{n(a=>({...a,open:!1})),o(!1)}})}),s=t.open?wh.createPortal(f.jsx("div",{onClick:t.onCancel,style:{position:"fixed",inset:0,zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.25)",backdropFilter:R.frostOverlay,WebkitBackdropFilter:R.frostOverlay},children:f.jsxs("div",{onClick:i=>i.stopPropagation(),style:{background:"rgba(255,255,255,0.95)",backdropFilter:R.frostModal,WebkitBackdropFilter:R.frostModal,border:"1px solid "+R.borderGlass,maxWidth:"420px",width:"90%",padding:"32px",position:"relative"},children:[f.jsx("button",{onClick:t.onCancel,style:{position:"absolute",top:14,right:14,appearance:"none",border:"none",background:"none",color:R.textDim,fontFamily:R.mono,fontSize:"18px",cursor:"pointer",lineHeight:1},children:""}),f.jsx("h3",{style:{fontFamily:R.mono,fontSize:"10px",fontWeight:400,letterSpacing:"2.5px",textTransform:"uppercase",color:t.danger?R.accentRed:R.purpleBright,margin:"0 0 4px"},children:t.title}),f.jsx("p",{style:{color:R.textTertiary,fontFamily:R.mono,fontSize:"13px",lineHeight:1.6,margin:"0 0 24px"},children:t.message}),f.jsxs("button",{onClick:t.onConfirm,style:{appearance:"none",width:"100%",border:"1px solid "+(t.danger?"rgba(180,52,52,.25)":"rgba(29,26,59,.25)"),background:"transparent",color:t.danger?R.accentRed:R.purpleBright,padding:"12px 24px",fontFamily:R.mono,fontSize:"10px",letterSpacing:"2.5px",textTransform:"uppercase",cursor:"pointer"},children:[t.confirmLabel," "]})]})}),document.body):null;return f.jsxs(th.Provider,{value:r,children:[e,s]})}const Nk=()=>Xt.useContext(th);function Oe({children:e,roles:t}){const{user:n,loading:r}=Oi();return r?f.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:R.bgDeep,color:R.textPrimary},children:"Loading..."}):n?t&&!t.includes(n.role)?f.jsx(qo,{to:"/dashboard"}):e:f.jsx(qo,{to:"/login"})}function wR(){const e=()=>{const r=window.innerWidth,s="ontouchstart"in window||navigator.maxTouchPoints>0;return r<768||s&&r<1024},[t,n]=S.useState(e);return S.useEffect(()=>{const r=()=>n(e());return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function TR({size:e=32}){return f.jsxs("svg",{width:e,height:e,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0},children:[f.jsx("circle",{cx:"50",cy:"50",r:"46",stroke:"#1d1a3b",strokeWidth:"5",fill:"white"}),f.jsx("circle",{cx:"50",cy:"50",r:"39",stroke:"#1d1a3b",strokeWidth:"1.5",strokeOpacity:"0.20",fill:"none"}),f.jsx("text",{x:"50",y:"64",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"38",fill:"#1d1a3b",letterSpacing:"-1",children:"SA"})]})}function nh({height:e=48}){const t=e/68;return f.jsxs("svg",{width:320*t,height:e,viewBox:"0 0 460 120",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"Sentinel Authority",children:[f.jsx("circle",{cx:"62",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),f.jsx("circle",{cx:"62",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),f.jsx("text",{x:"62",y:"74",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"40",fill:"#1d1a3b",letterSpacing:"-1.1",children:"SA"}),f.jsx("text",{x:"132",y:"54",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.15",children:"SENTINEL"}),f.jsx("text",{x:"132",y:"84",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"34",fill:"#1d1a3b",letterSpacing:"-0.25",children:"AUTHORITY"})]})}const IR="https://sentinel-authority-production.up.railway.app";function RR({user:e,applications:t,certificates:n,sessions:r,activeTests:s}){var h;const i=(e==null?void 0:e.role)||"customer",o=((h=e==null?void 0:e.full_name)==null?void 0:h.split(" ")[0])||"",a=t||[],c=n||[],u=r||[],l=a.length?a.map(g=>{var y;return`   ${g.system_name} [${g.application_number||g.id}]  state: ${g.state}, updated: ${((y=g.updated_at)==null?void 0:y.split("T")[0])||"?"}`}).join(`
`):"  (none)",d=c.length?c.map(g=>`   ${g.certificate_number}  ${g.system_name}  state: ${g.state}${g.expires_at?", expires: "+g.expires_at.split("T")[0]:""}`).join(`
`):"  (none)",p=u.filter(g=>{const y=g.last_heartbeat_at||g.last_telemetry_at||g.started_at;return g.status==="active"&&y&&Date.now()-new Date(y).getTime()<12e4}),m=(s||[]).length?(s||[]).map(g=>{const y=g.cat72_started_at?new Date(g.cat72_started_at):null,_=y?(Date.now()-y.getTime())/1e3:0,T=Math.max(0,72*3600-_),I=Math.min(100,_/(72*3600)*100).toFixed(0);return`   ${g.system_name}  ${I}% complete, ${(T/3600).toFixed(1)}h remaining`}).join(`
`):"  (none)";return`You are the Sentinel Authority operations assistant  an AI built into the certification platform dashboard. You have complete, authoritative knowledge of the ODDC certification process and the ENVELO Interlock system.

IDENTITY: You are the Sentinel Authority AI  not a generic assistant. Speak with operational precision. Be direct, specific, and actionable. Never say "I'm just an AI."

CURRENT USER:
  Name: ${o||"unknown"}
  Role: ${i}
  Organization: ${(e==null?void 0:e.organization_name)||"unknown"}

THEIR LIVE DATA:
Applications:
${l}

Certificates:
${d}

Active CAT-72 Tests:
${m}

Live Interlocks: ${p.length} online / ${u.length} total sessions


COMPLETE ODDC WORKFLOW  EVERY STEP


STEP 1  APPLICATION SUBMITTED
  Customer submits: org info, system description, ODD, boundary definitions
  Boundary types: numeric (speed/temp/etc), geographic (lat/lon/radius), time (hours/days), state (allowed/forbidden modes)
  State becomes: "pending"
  Admin action needed: click "Begin Review"

STEP 2  ADMIN REVIEW (HUMAN STEP)
  Admin clicks "Begin Review"  state: "under_review"
  Admin evaluates boundary completeness and reasonableness
  Admin writes justification note, clicks "Approve"  state: "approved"
  ON APPROVAL (AUTOMATIC): API key is generated AND emailed to customer
  Customer should NEVER need to generate their own key manually

STEP 3  CUSTOMER DEPLOYS INTERLOCK (HUMAN STEP)
  Customer receives API key via email (also visible in ENVELO tab)
  Customer downloads envelo_agent.py from ENVELO Interlock tab
  Customer runs:
    pip install httpx
    python envelo_agent.py
  Interlock starts sending heartbeats every 30 seconds to the Railway backend
  Dashboard state: "approved" but interlock not yet confirmed

STEP 4  ADMIN BEGINS CAT-72 (HUMAN STEP)
  Admin sees interlock online in Monitoring tab (green dot = heartbeat <2 min ago)
  Admin clicks "Begin CAT-72" button for that system  state: "testing"
  72-hour clock starts

STEP 5  CAT-72 RUNS (FULLY AUTOMATIC  no human action needed)
  Interlock enforces all defined boundaries on every action
  Every enforcement logged as PASS or BLOCK with telemetry
  Telemetry flushes to backend every 10 seconds
  If any violation occurs  test FAILS (admin is notified)
  If 72 hours pass without violations  PASS is auto-triggered

STEP 6  CERTIFICATE ISSUED (AUTOMATIC ON PASS)
  Certificate auto-issues immediately on PASS
  Certificate number format: ODDC-YYYY-XXXXX
  Customer views/downloads certificate from dashboard
  State: "conformant"

STEP 7  ONGOING PRODUCTION MONITORING
  Certified interlock continues sending telemetry indefinitely
  Violations logged but don't auto-revoke (admin decision required)
  Certificates expire annually
  Renewal triggers a new CAT-72 cycle


TECHNICAL FACTS

ENVELO = Enforced Non-Violable Execution-Limit Override
ODDC   = Operational Design Domain Conformance
CAT-72 = 72-hour Continuous Autonomy Test
Backend: Railway  sentinel-authority-production.up.railway.app
Frontend: Vercel  app.sentinelauthority.org
Heartbeat: every 30 seconds
"Online" = heartbeat received within last 2 minutes
API key format: sa_live_XXXXXXXX...

COMMON ISSUES:
  "Stuck in pending"  Admin needs to click Begin Review (ENVELO tab  Review Queue)
  "Approved but test not starting"  Customer hasn't deployed interlock yet, OR admin hasn't clicked Begin CAT-72
  "Interlock offline during test"  Customer needs to restart agent. >5 min offline = admin may need to restart test
  "Test failed"  Boundary violation occurred  check telemetry for which parameter and what value caused it
  "No API key"  Emailed on approval; admin can resend from ENVELO tab  Approved section  Resend Key
  "Install error"  Run: pip install httpx, then python envelo_agent.py
  "Can't connect"  Firewall must allow outbound HTTPS to sentinel-authority-production.up.railway.app port 443

${i==="admin"?`
ADMIN MODE: You have full visibility across all customers.
When asked "what needs attention?" surface: pending reviews, approved apps where interlock hasn't connected, near-complete CAT-72 tests, any anomalies.
Be direct about operational decisions. Help the admin run a tight, efficient certification operation.
`:`
CUSTOMER MODE: Guide this customer through their certification journey.
Be specific  tell them exactly what to click, where to find things, what commands to run.
Make the complex simple. Acknowledge their progress.
`}

RESPONSE STYLE:
  - 2-4 sentences max unless steps require more
  - Use bullet points only for multi-step instructions
  - Specific UI labels and terminal commands when relevant
  - Never make up data  reference only what's in the live data above
  - If uncertain, say so and direct them where to find the answer`}function kR(e,t){var a;const n=e==null?void 0:e.role,r=(a=e==null?void 0:e.full_name)==null?void 0:a.split(" ")[0],s=t.applications||[];if(n==="admin"){const c=s.filter(m=>m.state==="pending").length,u=s.filter(m=>m.state==="under_review").length,l=s.filter(m=>m.state==="approved").length,d=s.filter(m=>m.state==="testing").length,p=[];return c&&p.push(`${c} application${c>1?"s":""} in queue`),u&&p.push(`${u} under review  awaiting your decision`),l&&p.push(`${l} approved  waiting for customer to deploy interlock`),d&&p.push(`${d} CAT-72 test${d>1?"s":""} running`),p.length?`${r?"Hey "+r+".":"Hey."} Here's what's in motion:

${p.map(m=>" "+m).join(`
`)}

What do you want to work on?`:`${r?"Hey "+r+".":"Hey."} Queue is clear. How can I help?`}const i=[...s].sort((c,u)=>new Date(u.updated_at)-new Date(c.updated_at))[0];if(!i)return`${r?"Hey "+r+".":"Hey."} Ready to start your ODDC certification? I can walk you through submitting an application.`;const o={pending:`Your application for **${i.system_name}** is in the review queue. No action needed from you right now.`,under_review:`Your application for **${i.system_name}** is being reviewed. You'll hear back soon.`,approved:`Your application for **${i.system_name}** is approved  time to deploy the ENVELO Interlock. I can walk you through it step by step.`,testing:`Your CAT-72 test is running for **${i.system_name}**. Keep the agent running  I'll let you know if anything looks off.`,conformant:`**${i.system_name}** is ODDC conformant. Certificate active. Anything you need?`,rejected:`Your application for **${i.system_name}** was returned with required changes. Want help understanding what needs to change?`};return`${r?"Hey "+r+".":"Hey."} ${o[i.state]||"How can I help with your certification?"}`}function CR({msg:e}){if(e.role==="note")return f.jsx("div",{style:{textAlign:"center",padding:"4px 0",color:R.textTertiary,fontFamily:R.mono,fontSize:"10px",letterSpacing:"1px"},children:e.content});const t=e.role==="user",n=r=>r.split(`
`).map((s,i)=>{const o=/^[\-*] /.test(s),c=(o?s.replace(/^[\-*] /,""):s).split(/\*\*(.+?)\*\*/g).map((u,l)=>l%2===1?f.jsx("strong",{children:u},l):u);return f.jsxs("div",{style:{marginBottom:s===""?"7px":"1px",paddingLeft:o?"14px":0,position:"relative"},children:[o&&f.jsx("span",{style:{position:"absolute",left:0,color:R.purpleBright,fontSize:"12px"},children:""}),f.jsx("span",{children:c})]},i)});return f.jsxs("div",{style:{display:"flex",justifyContent:t?"flex-end":"flex-start",marginBottom:"9px",gap:"7px",alignItems:"flex-start"},children:[!t&&f.jsx("div",{style:{width:"20px",height:"20px",flexShrink:0,marginTop:"4px",borderRadius:"50%",background:"rgba(74,61,117,0.09)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("svg",{width:"12",height:"13",viewBox:"0 0 26 28",fill:"none",children:[f.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),f.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),f.jsx("div",{style:{maxWidth:"84%",padding:"9px 12px",background:t?"rgba(74,61,117,0.07)":"rgba(255,255,255,0.75)",border:`1px solid ${t?"rgba(74,61,117,0.14)":R.borderGlass}`,borderRadius:t?"11px 3px 11px 11px":"3px 11px 11px 11px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:f.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.65",color:R.textPrimary,fontFamily:R.sans},children:[n(e.content),e.streaming&&f.jsx("span",{style:{display:"inline-block",width:"2px",height:"13px",background:R.purpleBright,marginLeft:"2px",verticalAlign:"middle",animation:"sa-blink 0.7s step-end infinite"}})]})})]})}function AR({role:e,onSend:t}){const n=e==="admin"?["What needs my attention?","Show pending apps","Any interlocks offline?","CAT-72 status?"]:["What's my next step?","How do I install the interlock?","Where's my API key?","How long does the test take?"];return f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"7px 11px 3px",borderTop:`1px solid ${R.borderSubtle}`},children:n.map((r,s)=>f.jsx("button",{onClick:()=>t(r),style:{padding:"4px 9px",background:"rgba(74,61,117,0.05)",border:"1px solid rgba(74,61,117,0.15)",color:R.purpleBright,fontFamily:R.mono,fontSize:"10px",cursor:"pointer",borderRadius:"999px",whiteSpace:"nowrap"},onMouseEnter:i=>i.currentTarget.style.background="rgba(74,61,117,0.11)",onMouseLeave:i=>i.currentTarget.style.background="rgba(74,61,117,0.05)",children:r},s))})}function OR(){const{user:e}=Oi(),[t,n]=S.useState(!1),[r,s]=S.useState(!1);S.useEffect(()=>{if(!sessionStorage.getItem("sa-chat-hint")){const v=setTimeout(()=>s(!0),2e3),A=setTimeout(()=>{s(!1),sessionStorage.setItem("sa-chat-hint","1")},7e3);return()=>{clearTimeout(v),clearTimeout(A)}}},[]);const[i,o]=S.useState([]),[a,c]=S.useState(""),[u,l]=S.useState(!1),[d,p]=S.useState(!1),[m,h]=S.useState({}),[g,y]=S.useState(!0),_=S.useRef(null),T=S.useRef(null);S.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[i]),S.useEffect(()=>{t&&T.current&&setTimeout(()=>{var k;return(k=T.current)==null?void 0:k.focus()},100)},[t]),S.useEffect(()=>{t&&!d&&I()},[t]);const I=async()=>{var k,v,A;try{const[D,E,P]=await Promise.all([Ke.get("/api/applications/").catch(()=>({data:[]})),Ke.get("/api/certificates/").catch(()=>({data:[]})),Ke.get("/api/envelo/sessions").catch(()=>({data:{sessions:[]}}))]),N={applications:((k=D.data)==null?void 0:k.applications)||D.data||[],certificates:E.data||[],sessions:((v=P.data)==null?void 0:v.sessions)||[],activeTests:(((A=D.data)==null?void 0:A.applications)||D.data||[]).filter(B=>B.state==="testing")};h(N),p(!0),o([{role:"assistant",content:kR(e,N)}])}catch{p(!0),o([{role:"assistant",content:`Hey${e!=null&&e.full_name?" "+e.full_name.split(" ")[0]:""}! I'm your Sentinel Authority assistant. How can I help?`}])}},w=S.useCallback(async k=>{var E,P,N,B,F,ce,V,Z;const v=(k||a).trim();if(!v||u)return;c(""),y(!1);const A=i.filter(C=>(C.role==="user"||C.role==="assistant")&&C.content&&!C.streaming).map(C=>({role:C.role,content:C.content}));A.push({role:"user",content:v}),o(C=>[...C,{role:"user",content:v},{role:"assistant",content:"",streaming:!0}]),l(!0);const D=RR({user:e,...m});try{const C=localStorage.getItem("token")||sessionStorage.getItem("token")||"",K=await fetch(`${IR}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({system:D,messages:A,stream:!0})});if(!K.ok)throw new Error(`HTTP ${K.status}`);const L=K.body.getReader(),G=new TextDecoder;let Q="";for(;;){const{done:ie,value:fe}=await L.read();if(ie)break;for(const be of G.decode(fe,{stream:!0}).split(`
`)){if(!be.startsWith("data: "))continue;const _t=be.slice(6).trim();if(_t!=="[DONE]")try{const Fe=JSON.parse(_t),St=((E=Fe.delta)==null?void 0:E.text)||((B=(N=(P=Fe.choices)==null?void 0:P[0])==null?void 0:N.delta)==null?void 0:B.content)||((ce=(F=Fe.content)==null?void 0:F[0])==null?void 0:ce.text)||"";St&&(Q+=St,o(Nn=>{const bt=[...Nn];return bt[bt.length-1]={role:"assistant",content:Q,streaming:!0},bt}))}catch{}}}o(ie=>{const fe=[...ie];return fe[fe.length-1]={role:"assistant",content:Q||"Sorry, try again.",streaming:!1},fe})}catch(C){let K="Connection error. Try again.";(V=C.message)!=null&&V.includes("404")&&(K="The /api/chat endpoint is not deployed yet. Add chat.py to Railway and set ANTHROPIC_API_KEY."),(Z=C.message)!=null&&Z.includes("401")&&(K="Auth error  try refreshing."),o(L=>{const G=[...L];return G[G.length-1]={role:"assistant",content:K,streaming:!1},G})}finally{l(!1)}},[a,u,i,e,m]),M=()=>{o([]),p(!1),h({}),y(!0),n(!1),setTimeout(()=>n(!0),60)};return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:"@keyframes sa-blink{0%,100%{opacity:1}50%{opacity:0}} @keyframes sa-up{from{opacity:0;transform:translateY(12px) scale(0.97)}to{opacity:1;transform:translateY(0) scale(1)}} @keyframes spin{to{transform:rotate(360deg)}}"}),!t&&r&&f.jsxs("div",{style:{position:"fixed",bottom:"80px",right:"24px",zIndex:1e3,background:"#1d1a3b",color:"#fff",fontFamily:"'IBM Plex Mono', monospace",fontSize:"11px",letterSpacing:"0.5px",padding:"8px 14px",borderRadius:"8px",boxShadow:"0 4px 16px rgba(29,26,59,0.3)",animation:"sa-up 0.3s ease-out",whiteSpace:"nowrap"},children:["Need Help? ",f.jsx("span",{style:{opacity:.7},children:"Ask Sentinel AI"}),f.jsx("div",{style:{position:"absolute",bottom:"-6px",right:"18px",width:"12px",height:"12px",background:"#1d1a3b",transform:"rotate(45deg)"}})]}),!t&&f.jsx("button",{onClick:()=>{n(!0),s(!1),sessionStorage.setItem("sa-chat-hint","1")},style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3,width:"50px",height:"50px",borderRadius:"50%",background:"#1d1a3b",border:"1px solid rgba(29,26,59,0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(74,61,117,0.35)",transition:"all 0.2s",fontSize:"22px",color:"#fff"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.07)",k.currentTarget.style.boxShadow="0 6px 28px rgba(74,61,117,0.5)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.boxShadow="0 4px 20px rgba(74,61,117,0.35)"},title:"Sentinel Assistant",children:f.jsxs("svg",{width:"26",height:"28",viewBox:"0 0 26 28",fill:"none",children:[f.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#fff",strokeWidth:"1.8",fill:"none"}),f.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#fff",children:">_"})]})}),t&&f.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1001,width:"min(390px, calc(100vw - 40px))",height:"min(570px, calc(100vh - 96px))",display:"flex",flexDirection:"column",background:"rgba(248,248,252,0.94)",backdropFilter:"blur(24px) saturate(1.5)",WebkitBackdropFilter:"blur(24px) saturate(1.5)",border:`1px solid ${R.borderGlass}`,borderRadius:"16px",boxShadow:"0 12px 56px rgba(15,18,30,0.14), 0 2px 8px rgba(15,18,30,0.06)",animation:"sa-up 0.2s ease-out",overflow:"hidden"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",borderBottom:`1px solid ${R.borderSubtle}`,background:"rgba(255,255,255,0.55)",flexShrink:0},children:[f.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",background:"rgba(74,61,117,0.08)",border:"1px solid rgba(74,61,117,0.18)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f.jsxs("svg",{width:"15",height:"16",viewBox:"0 0 26 28",fill:"none",children:[f.jsx("path",{d:"M13 1L24.5 7.5V20.5L13 27L1.5 20.5V7.5L13 1Z",stroke:"#1d1a3b",strokeWidth:"2.2",fill:"none"}),f.jsx("text",{x:"13",y:"18",textAnchor:"middle",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"600",fontSize:"11",fill:"#1d1a3b",children:">_"})]})}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontFamily:R.mono,fontSize:"11px",letterSpacing:"2px",textTransform:"uppercase",color:R.textPrimary,fontWeight:500},children:"Sentinel Assistant"}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginTop:"2px"},children:[f.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:d?R.accentGreen:R.accentAmber}}),f.jsx("span",{style:{fontFamily:R.mono,fontSize:"9px",color:d?R.accentGreen:R.accentAmber,letterSpacing:"0.5px"},children:d?"Ready":"Loading"})]})]}),f.jsx("button",{onClick:M,title:"Reset",style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:R.textTertiary,display:"flex"},onMouseEnter:k=>k.currentTarget.style.color=R.textSecondary,onMouseLeave:k=>k.currentTarget.style.color=R.textTertiary,children:f.jsx(oh,{size:13})}),f.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:R.textTertiary,display:"flex"},onMouseEnter:k=>k.currentTarget.style.color=R.textSecondary,onMouseLeave:k=>k.currentTarget.style.color=R.textTertiary,children:f.jsx(ah,{size:16})})]}),f.jsxs("div",{ref:_,style:{flex:1,overflowY:"auto",padding:"13px 11px",display:"flex",flexDirection:"column"},children:[!d&&i.length===0&&f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"12px",color:R.textTertiary},children:[f.jsx("div",{style:{width:"26px",height:"26px",border:`2px solid ${R.borderGlass}`,borderTopColor:R.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),f.jsx("span",{style:{fontFamily:R.mono,fontSize:"11px",letterSpacing:"1px"},children:"Loading your context"})]}),i.map((k,v)=>f.jsx(CR,{msg:k},v))]}),g&&i.length<=1&&d&&f.jsx(AR,{role:e==null?void 0:e.role,onSend:w}),f.jsxs("div",{style:{padding:"10px",borderTop:`1px solid ${R.borderSubtle}`,background:"rgba(255,255,255,0.45)",flexShrink:0},children:[f.jsxs("div",{style:{display:"flex",gap:"7px",alignItems:"flex-end",background:"rgba(255,255,255,0.65)",border:`1px solid ${R.borderGlass}`,borderRadius:"10px",padding:"7px 10px"},children:[f.jsx("textarea",{ref:T,value:a,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),w())},placeholder:"Ask about your certification",rows:1,disabled:u,style:{flex:1,background:"none",border:"none",outline:"none",resize:"none",fontFamily:R.sans,fontSize:"13px",color:R.textPrimary,lineHeight:"1.5",maxHeight:"72px",overflowY:"auto"},onInput:k=>{k.target.style.height="auto",k.target.style.height=Math.min(k.target.scrollHeight,72)+"px"}}),f.jsx("button",{onClick:()=>w(),disabled:!a.trim()||u,style:{width:"29px",height:"29px",borderRadius:"6px",flexShrink:0,background:a.trim()&&!u?R.purplePrimary:"transparent",border:`1px solid ${a.trim()&&!u?"transparent":R.borderGlass}`,cursor:a.trim()&&!u?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},children:u?f.jsx("div",{style:{width:"13px",height:"13px",border:`2px solid ${R.textTertiary}`,borderTopColor:R.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):f.jsx(ch,{size:12,color:a.trim()?"#fff":R.textTertiary})})]}),f.jsx("div",{style:{textAlign:"center",marginTop:"5px",fontFamily:R.mono,fontSize:"9px",color:R.textTertiary,letterSpacing:"0.3px"},children:"Enter to send  Shift+Enter new line"})]})]})]})}function Pe({children:e}){var D;const{user:t,logout:n}=Oi(),r=wR(),[s,i]=S.useState(!r),[o,a]=S.useState([]),[c,u]=S.useState([]),l=Mn(),[d,p]=S.useState([]),[m,h]=S.useState(!1),[g,y]=S.useState(0);S.useEffect(()=>{r&&i(!1)},[l.pathname]),S.useEffect(()=>{t&&(Ke.get("/api/certificates/").then(E=>a(E.data||[])).catch(()=>a([])),Ke.get("/api/applications/").then(E=>u(E.data.applications||E.data||[])).catch(()=>u([])),localStorage.getItem("token")&&Ke.get("/api/users/notifications").then(E=>{p(E.data.notifications||[]),y(E.data.unread_count||0)}).catch(()=>{}))},[t]),S.useEffect(()=>{if(!t)return;const E=setInterval(()=>{localStorage.getItem("token")&&Ke.get("/api/users/notifications").then(P=>{p(P.data.notifications||[]),y(P.data.unread_count||0)}).catch(()=>{})},6e4);return()=>clearInterval(E)},[t]);const _=()=>{Ke.post("/api/users/notifications/mark-read").then(()=>y(0)).catch(()=>{}),h(!1)},T=[{name:"Dashboard",href:"/dashboard",icon:uh,roles:["admin","applicant"]},{name:"Applications",href:"/applications",icon:sc,roles:["admin","applicant"]},{name:"CAT-72 Console",href:"/cat72",icon:lh,roles:["admin","applicant"]},{name:"Certificates",href:"/certificates",icon:dh,roles:["admin","applicant"]},{name:"Resources",href:"/resources",icon:fh,roles:["admin","applicant"]},{name:"ENVELO Interlock",href:"/envelo",icon:"brand",roles:["admin","applicant"],requiresCert:!0},{name:"Monitoring",href:"/monitoring",icon:ph,roles:["admin","applicant"]},{name:"User Management",href:"/users",icon:hh,roles:["admin"]},{name:"My Activity",href:"/my-activity",icon:mh,roles:["admin","applicant"]},{name:"Activity Log",href:"/activity",icon:sc,roles:["admin"]},{name:"Settings",href:"/settings",icon:gh,roles:["admin","applicant"]},{name:"API Docs",href:"/api-docs",icon:ic,roles:["admin"]}],I=Array.isArray(o)&&o.some(E=>E.state==="conformant"||E.state==="active"||E.state==="issued"),w=Array.isArray(c)&&c.some(E=>E.state==="approved"||E.state==="testing"),M=I||w,k=T.filter(E=>!(!E.roles.includes((t==null?void 0:t.role)||"")||E.requiresCert&&(t==null?void 0:t.role)!=="admin"&&!M)),v=E=>l.pathname===E||E!=="/dashboard"&&l.pathname.startsWith(E),A=E=>({display:"flex",alignItems:"center",gap:"10px",padding:"9px 16px",textDecoration:"none",fontFamily:R.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",color:E?R.textPrimary:"rgba(15,18,30,0.72)",borderLeft:E?"2px solid "+R.purpleBright:"2px solid transparent",background:E?"rgba(74,61,117,.06)":"transparent",transition:"color 0.25s ease, background 0.15s"});return f.jsxs("div",{style:{minHeight:"100vh",color:R.textPrimary,fontFamily:R.sans,background:R.bgDeep},children:[f.jsx("div",{className:"sa-grid-overlay"}),f.jsx("div",{className:"sa-noise"}),r&&s&&f.jsx("div",{onClick:()=>i(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,.12)",zIndex:40}}),f.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,zIndex:50,width:"240px",transform:s||!r?"translateX(0)":"translateX(-100%)",transition:"transform 0.2s ease",background:"rgba(255,255,255,0.95)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",borderRight:"1px solid rgba(15,18,30,0.06)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[f.jsxs("div",{style:{height:r?"52px":"72px",minHeight:r?"52px":"72px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[f.jsx(rl,{to:"/dashboard",style:{display:"flex",alignItems:"center",textDecoration:"none"},children:f.jsx(nh,{height:r?36:52})}),f.jsx("button",{onClick:()=>i(!1),style:{color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:f.jsx(yh,{size:18})})]}),f.jsx("nav",{style:{padding:r?"4px 0":"12px 0",flex:1,minHeight:0,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:k.map(E=>{const P=v(E.href);return f.jsxs(rl,{to:E.href,style:{...A(P),padding:r?"7px 16px":"9px 16px"},onMouseEnter:N=>{P||(N.currentTarget.style.color=R.textPrimary,N.currentTarget.style.background="rgba(0,0,0,.025)")},onMouseLeave:N=>{P||(N.currentTarget.style.color="rgba(15,18,30,0.72)",N.currentTarget.style.background="transparent")},children:[E.icon==="brand"?f.jsx(TR,{size:14}):f.jsx(E.icon,{size:14,style:{opacity:P?1:.6}}),E.name]},E.name)})}),f.jsxs("div",{style:{padding:r?"10px 16px":"16px",borderTop:"1px solid rgba(15,18,30,0.06)",flexShrink:0},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:r?"8px":"12px"},children:[f.jsx("div",{"data-avatar":"true",style:{width:"28px",height:"28px",background:R.purplePrimary,border:"1px solid rgba(107,90,158,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("span",{style:{color:"#fff",fontSize:"11px",fontWeight:500},children:((D=t==null?void 0:t.full_name)==null?void 0:D[0])||"U"})}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"13px",color:R.textPrimary},children:t==null?void 0:t.full_name}),f.jsx("div",{style:{fontFamily:R.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary},children:t==null?void 0:t.role})]})]}),f.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:R.mono,fontSize:"9px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:0},onMouseEnter:E=>E.currentTarget.style.color=R.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=R.textTertiary,children:[f.jsx(_h,{size:12}),"Sign Out"]})]})]}),f.jsxs("div",{style:{marginLeft:r?0:"240px",position:"relative",zIndex:10},children:[f.jsxs("header",{style:{height:r?"48px":"72px",display:"flex",alignItems:"center",padding:r?"0 12px":"0 20px",gap:"14px",borderBottom:"1px solid rgba(15,18,30,0.06)",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",position:"sticky",top:0,zIndex:30},children:[f.jsx("button",{onClick:()=>i(!s),style:{color:R.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px",display:r?"block":"none"},children:f.jsx(Sh,{size:18})}),f.jsx("div",{style:{flex:1}}),f.jsxs("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"6px",color:R.textTertiary,fontFamily:R.mono,fontSize:"9px",letterSpacing:"1.5px",textTransform:"uppercase",textDecoration:"none",padding:"8px 4px",transition:"color 0.25s ease"},onMouseEnter:E=>E.currentTarget.style.color=R.textPrimary,onMouseLeave:E=>E.currentTarget.style.color=R.textTertiary,children:[f.jsx(ic,{size:12}),!r&&"Main Site"]}),f.jsxs("div",{style:{position:"relative"},children:[f.jsxs("button",{onClick:()=>h(!m),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",color:m?R.purpleBright:R.textTertiary},children:[f.jsx(bh,{size:16,strokeWidth:1.5}),g>0&&f.jsx("span",{"data-dot":"true",style:{position:"absolute",top:"-2px",right:"-2px",minWidth:"14px",height:"14px",borderRadius:"50%",background:R.accentRed,color:"#fff",fontSize:"8px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:R.mono,padding:"0 2px"},children:g>9?"9+":g})]}),m&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>h(!1),style:{position:"fixed",inset:0,zIndex:90}}),f.jsxs("div",{style:{position:"absolute",right:0,top:"44px",width:"min(340px, 90vw)",maxHeight:"70vh",overflowY:"auto",background:"rgba(255,255,255,0.82)",backdropFilter:"blur(20px) saturate(1.3)",WebkitBackdropFilter:"blur(20px) saturate(1.3)",border:"1px solid rgba(15,18,30,0.06)",zIndex:100},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.06)"},children:[f.jsx("span",{style:{fontFamily:R.mono,fontSize:"10px",letterSpacing:"2px",textTransform:"uppercase",color:R.textTertiary},children:"Notifications"}),g>0&&f.jsx("button",{onClick:_,style:{background:"none",border:"none",color:R.purpleBright,fontFamily:R.mono,fontSize:"9px",letterSpacing:"1px",cursor:"pointer",padding:0},children:"Mark all read"})]}),d.length===0?f.jsx("div",{style:{padding:"32px 16px",textAlign:"center",color:R.textDim,fontSize:"12px"},children:"No recent activity"}):d.map((E,P)=>{const N={success:R.accentGreen,warning:R.accentAmber,info:R.purpleBright,error:R.accentRed}[E.type]||R.purpleBright;return f.jsx("div",{onClick:()=>{E.resource_type==="application"&&E.resource_id&&(h(!1),window.location.hash="#/applications/"+E.resource_id)},style:{padding:"12px 16px",borderBottom:"1px solid rgba(15,18,30,0.04)",cursor:E.resource_id?"pointer":"default"},children:f.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[f.jsx("span",{"data-dot":"true",style:{display:"inline-block",width:"4px",height:"4px",borderRadius:"50%",background:N,marginTop:"6px",flexShrink:0}}),f.jsxs("div",{style:{flex:1,minWidth:0},children:[f.jsx("p",{style:{margin:0,fontSize:"13px",color:E.read?R.textSecondary:R.textPrimary,lineHeight:1.4},children:E.message}),f.jsxs("span",{style:{fontFamily:R.mono,fontSize:"9px",color:R.textDim,marginTop:"4px",display:"block"},children:[E.timestamp?new Date(E.timestamp).toLocaleString():"",E.user_email?"  "+E.user_email:""]})]})]})},E.id||P)})]})]})]})]}),f.jsx("main",{className:"sa-main-content",style:{padding:"clamp(16px, 3vw, 32px)",position:"relative",zIndex:1},children:e})]}),f.jsx(OR,{})]})}const Vn={background:"linear-gradient(90deg, rgba(0,0,0,0.04) 25%, rgba(0,0,0,0.08) 50%, rgba(0,0,0,0.04) 75%)",backgroundSize:"200% 100%",animation:"sa-shimmer 1.5s ease infinite",borderRadius:0};function PR({style:e={}}){return f.jsxs("div",{style:{padding:"20px 16px",borderBottom:"1px solid rgba(0,0,0,0.06)",...e},children:[f.jsx("div",{style:{...Vn,width:60,height:8,marginBottom:12}}),f.jsx("div",{style:{...Vn,width:80,height:24,marginBottom:8}}),f.jsx("div",{style:{...Vn,width:"70%",height:8}})]})}function MR({rows:e=5}){return f.jsxs("div",{style:{padding:"16px 0"},children:[f.jsx("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"0 0 10px",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[80,120,100,60].map((t,n)=>f.jsx("div",{style:{...Vn,width:t,height:8}},n))}),Array.from({length:e}).map((t,n)=>f.jsx("div",{style:{display:"flex",gap:16,padding:"12px 0",borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[80,120,100,60].map((r,s)=>f.jsx("div",{style:{...Vn,width:r+Math.random()*40,height:10}},s))},n))]})}function NR(){return f.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"24px 0"},children:[f.jsx("div",{style:{...Vn,width:200,height:24,marginBottom:32}}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:32},children:Array.from({length:5}).map((e,t)=>f.jsx(PR,{},t))}),f.jsx(MR,{rows:4})]})}function LR(){const{login:e,register:t}=Oi(),n=Ti(),[r,s]=S.useState(!1),[i,o]=S.useState(""),[a,c]=S.useState({email:"",password:"",full_name:"",organization_name:""}),[u,l]=S.useState(!1),[d,p]=S.useState(!1),[m,h]=S.useState(""),[g,y]=S.useState(!1),[_,T]=S.useState(!1),[I,w]=S.useState(""),[M,k]=S.useState(!1),[v,A]=S.useState(!1),D=async N=>{var B,F,ce,V;N.preventDefault(),o("");try{r?await t(a):await e(a.email,a.password),n("/dashboard")}catch(Z){((F=(B=Z.response)==null?void 0:B.data)==null?void 0:F.detail)==="2FA_REQUIRED"?p(!0):o(((V=(ce=Z.response)==null?void 0:ce.data)==null?void 0:V.detail)||"Authentication failed")}},E=async N=>{var B,F;N.preventDefault(),y(!0),o("");try{await e(a.email,a.password,m),n("/dashboard")}catch(ce){o(((F=(B=ce.response)==null?void 0:B.data)==null?void 0:F.detail)||"Invalid code")}finally{y(!1)}},P=async N=>{N.preventDefault(),k(!0),o("");try{await Ke.post("/api/auth/forgot-password",{email:I}),A(!0)}catch{A(!0)}finally{k(!1)}};return f.jsx("div",{"data-page":"login",children:f.jsx("div",{id:"sa-login",children:f.jsxs("div",{className:"sa-wrap",children:[f.jsxs("div",{className:`sa-card${r?" register":""}`,children:[f.jsx("div",{className:"sa-brand",children:f.jsx(nh,{height:48})}),f.jsx("h1",{className:"sa-title",children:_?f.jsxs(f.Fragment,{children:["Reset ",f.jsx("em",{children:"Password"})]}):d?f.jsxs(f.Fragment,{children:["Two-Factor ",f.jsx("em",{children:"Auth"})]}):r?f.jsxs(f.Fragment,{children:["Create ",f.jsx("em",{children:"Account"})]}):f.jsxs(f.Fragment,{children:["Sign ",f.jsx("em",{children:"In"})]})}),f.jsx("p",{className:"sa-lead",children:_?"Enter your email address and well send you a link to reset your password.":d?"Enter the 6-digit code from your authenticator app to complete sign-in.":"Access the ODDC certification portal. Manage applications, certificates, and ENVELO Interlock."}),_?f.jsx("div",{children:v?f.jsxs(f.Fragment,{children:[f.jsxs("p",{style:{fontSize:"14px",lineHeight:1.6,color:"var(--sa-text-2)",marginBottom:"24px"},children:["If an account exists for ",f.jsx("strong",{children:I}),", a password reset link has been sent. Check your inbox and spam folder."]}),f.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),A(!1),w(""),o("")},children:[""," Back to sign in"]})]}):f.jsxs(f.Fragment,{children:[i&&f.jsx("p",{className:"sa-error",children:i}),f.jsxs("form",{onSubmit:P,children:[f.jsxs("div",{className:"sa-field",children:[f.jsx("label",{className:"sa-field-label",children:"Email Address"}),f.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:I,onChange:N=>w(N.target.value),required:!0,autoFocus:!0})]}),f.jsx("button",{className:"sa-submit",type:"submit",disabled:M,children:M?"Sending":"Send Reset Link "})]}),f.jsxs("button",{className:"sa-ghost",onClick:()=>{T(!1),w(""),o("")},children:[""," Back to sign in"]})]})}):d?f.jsxs("div",{children:[i&&f.jsx("p",{className:"sa-error",children:i}),f.jsxs("form",{onSubmit:E,children:[f.jsx("input",{className:"sa-2fa-input",type:"text",value:m,onChange:N=>h(N.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,autoFocus:!0}),f.jsx("button",{className:"sa-submit",type:"submit",disabled:g||m.length!==6,children:g?"Verifying":"Verify "})]}),f.jsxs("button",{className:"sa-ghost",onClick:()=>{p(!1),h(""),o("")},children:[""," Back to sign in"]})]}):f.jsxs("div",{children:[f.jsxs("div",{className:"sa-tabs",children:[f.jsx("button",{className:`sa-tab ${r?"":"active"}`,onClick:()=>{s(!1),o("")},type:"button",children:"Sign In"}),f.jsx("button",{className:`sa-tab ${r?"active":""}`,onClick:()=>{s(!0),o("")},type:"button",children:"Register"})]}),i&&f.jsx("p",{className:"sa-error",children:i}),f.jsxs("form",{onSubmit:D,children:[r&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"sa-field",children:[f.jsx("label",{className:"sa-field-label",children:"Full Name"}),f.jsx("input",{className:"sa-input",type:"text",placeholder:"Jane Smith",value:a.full_name,onChange:N=>c({...a,full_name:N.target.value}),required:!0})]}),f.jsxs("div",{className:"sa-field",children:[f.jsx("label",{className:"sa-field-label",children:"Organization"}),f.jsx("input",{className:"sa-input",type:"text",placeholder:"Acme Robotics Inc.",value:a.organization_name,onChange:N=>c({...a,organization_name:N.target.value}),required:!0})]})]}),f.jsxs("div",{className:"sa-field",children:[f.jsx("label",{className:"sa-field-label",children:"Email Address"}),f.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:a.email,onChange:N=>c({...a,email:N.target.value}),required:!0})]}),f.jsxs("div",{className:"sa-field",children:[f.jsx("label",{className:"sa-field-label",children:"Password"}),f.jsxs("div",{className:"sa-pw-wrap",children:[f.jsx("input",{className:"sa-input",type:u?"text":"password",placeholder:"".repeat(12),value:a.password,onChange:N=>c({...a,password:N.target.value}),required:!0}),f.jsx("button",{className:"sa-pw-toggle",type:"button",onClick:()=>l(!u),children:u?f.jsx(Eh,{size:16}):f.jsx(vh,{size:16})})]})]}),f.jsx("button",{className:"sa-submit",type:"submit",children:r?"Create Account ":"Sign In "})]}),!r&&f.jsx("button",{className:"sa-ghost",onClick:()=>{T(!0),w(a.email),o("")},children:"Forgot password?"})]})]}),f.jsx("hr",{className:"sa-sep"}),f.jsxs("div",{className:"sa-footer",children:[f.jsx("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noreferrer noopener",className:"sa-footer-text",style:{textDecoration:"none"},children:" Public Site"}),f.jsxs("div",{style:{display:"flex",gap:"16px"},children:[f.jsx("a",{href:"https://sentinelauthority.org/privacy.html",children:"Privacy"}),f.jsx("a",{href:"https://sentinelauthority.org/terms.html",children:"Terms"})]})]})]})})})}const DR=S.lazy(()=>we(()=>import("./DashboardPage-CXSEY_CP.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.RoleBasedDashboard}))),FR=S.lazy(()=>we(()=>import("./ApplicationsList-CfGS6nAX.js"),__vite__mapDeps([6,1,7,2,8,4,5]))),jR=S.lazy(()=>we(()=>import("./NewApplication-B5bgpxsr.js"),__vite__mapDeps([9,1,2,8,5]))),BR=S.lazy(()=>we(()=>import("./ApplicationDetail-GkikxT7j.js"),__vite__mapDeps([10,1,7,2,8,5]))),UR=S.lazy(()=>we(()=>import("./CAT72Console-Q3JOW4Uu.js"),__vite__mapDeps([11,1,2,5]))),$R=S.lazy(()=>we(()=>import("./CertificatesPage-BS9L4JIu.js"),__vite__mapDeps([12,1,7,2,13,8,5]))),HR=S.lazy(()=>we(()=>import("./VerifyPage-DAjnSdBo.js"),__vite__mapDeps([14,1,2,5]))),zR=S.lazy(()=>we(()=>import("./PendingPage-vMupHTzk.js"),__vite__mapDeps([15,1,5]))),WR=S.lazy(()=>we(()=>import("./ResourcesPage-D8Vb4zx6.js"),__vite__mapDeps([16,1,5]))),qR=S.lazy(()=>we(()=>import("./EnveloPage-BR0BK66a.js"),__vite__mapDeps([17,1,2,18,5]))),VR=S.lazy(()=>we(()=>import("./MonitoringPage-DWYRJwTT.js"),__vite__mapDeps([19,1,7,2,5]))),GR=S.lazy(()=>we(()=>import("./UserManagementPage-O5LQwvwV.js"),__vite__mapDeps([20,1,2,18,3,5]))),KR=S.lazy(()=>we(()=>import("./LicenseesPage-DsSMw1EA.js"),__vite__mapDeps([21,1,2,5]))),YR=S.lazy(()=>we(()=>import("./ActivityPage-C-4LouHJ.js"),__vite__mapDeps([22,1,7,2,18,13,5]))),JR=S.lazy(()=>we(()=>import("./MyActivityPage-DkecqYoq.js"),__vite__mapDeps([23,1,2,18,5]))),XR=S.lazy(()=>we(()=>import("./SettingsPage-Bb6aay-3.js"),__vite__mapDeps([24,1,5]))),QR=S.lazy(()=>we(()=>import("./NotFoundPage-9J7Si5jT.js"),__vite__mapDeps([25,1,5]))),ZR=S.lazy(()=>we(()=>import("./ApiDocsPage-CYodt3hf.js"),__vite__mapDeps([26,1,5]))),ek=S.lazy(()=>we(()=>import("./ResetPasswordPage-vVEf9uqn.js"),__vite__mapDeps([27,1,5])));function Ee({children:e}){return f.jsx(S.Suspense,{fallback:f.jsx(NR,{}),children:e})}function tk(){return f.jsx(H0,{children:f.jsx(vR,{children:f.jsx(HT,{children:f.jsx(xR,{children:f.jsx(ER,{children:f.jsxs(NT,{children:[f.jsx(he,{path:"/login",element:f.jsx(LR,{})}),f.jsx(he,{path:"/reset-password",element:f.jsx(Ee,{children:f.jsx(ek,{})})}),f.jsx(he,{path:"/verify",element:f.jsx(Ee,{children:f.jsx(HR,{})})}),f.jsx(he,{path:"/dashboard",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(DR,{})})})})}),f.jsx(he,{path:"/applications",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(FR,{})})})})}),f.jsx(he,{path:"/applications/new",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(jR,{})})})})}),f.jsx(he,{path:"/applications/:id",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(BR,{})})})})}),f.jsx(he,{path:"/cat72",element:f.jsx(Oe,{roles:["admin","operator","applicant"],children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(UR,{})})})})}),f.jsx(he,{path:"/certificates",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx($R,{})})})})}),f.jsx(he,{path:"/pending",element:f.jsx(Ee,{children:f.jsx(zR,{})})}),f.jsx(he,{path:"/resources",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(WR,{})})})})}),f.jsx(he,{path:"/monitoring",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(VR,{})})})})}),f.jsx(he,{path:"/envelo",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(qR,{})})})})}),f.jsx(he,{path:"/activity",element:f.jsx(Oe,{roles:["admin"],children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(YR,{})})})})}),f.jsx(he,{path:"/my-activity",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(JR,{})})})})}),f.jsx(he,{path:"/settings",element:f.jsx(Oe,{children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(XR,{})})})})}),f.jsx(he,{path:"/api-docs",element:f.jsx(Oe,{roles:["admin"],children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(ZR,{})})})})}),f.jsx(he,{path:"/licensees",element:f.jsx(Oe,{roles:["admin"],children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(KR,{})})})})}),f.jsx(he,{path:"/users",element:f.jsx(Oe,{roles:["admin"],children:f.jsx(Pe,{children:f.jsx(Ee,{children:f.jsx(GR,{})})})})}),f.jsx(he,{path:"/",element:f.jsx(qo,{to:"/dashboard"})}),f.jsx(he,{path:"*",element:f.jsx(Ee,{children:f.jsx(QR,{})})})]})})})})})})}N0({dsn:"undefined",environment:"production",integrations:[C0(),l0({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.05,replaysOnErrorSampleRate:1});const nk=new rm({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchInterval:3e4},mutations:{onError:e=>hi(e)}}});ao.createRoot(document.getElementById("root")).render(f.jsx(Xt.StrictMode,{children:f.jsx(B0,{fallback:f.jsx("div",{style:{padding:"40px",textAlign:"center",fontFamily:"monospace",fontSize:"13px",color:"#666"},children:"Something went wrong. The team has been notified."}),children:f.jsx(sm,{client:nk,children:f.jsx(tk,{})})})}));export{Pk as A,TR as B,dk as C,nh as D,rl as L,ui as S,Mk as a,Ti as b,wR as c,Ke as d,Nk as e,ck as f,fk as g,lk as h,ok as i,f as j,uo as k,li as l,Lh as m,st as n,co as o,qh as p,Dl as q,Fh as r,R as s,Dh as t,Oi as u,Xh as v,Uh as w,Ne as x,ak as y,Qp as z};
