const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-BQhvcWWl.js","assets/icons-BOtGoKI6.js","assets/Panel-D9wzy4mG.js","assets/StatCard-Dk2S9Wgb.js","assets/EmptyState-MHN8cZt0.js","assets/vendor-CrGXBcEq.js","assets/ApplicationsList-C0dCi8aX.js","assets/useQuery-cXUmLQWq.js","assets/CopyableId-olmKXoAR.js","assets/NewApplication-BnNdqIqg.js","assets/ApplicationDetail-CCJ_6bOI.js","assets/CAT72Console-DXEUoUEl.js","assets/CertificatesPage-IT-U35yl.js","assets/Badge-PTsZIntW.js","assets/VerifyPage-9A7ipUc9.js","assets/PendingPage-CPd4N72M.js","assets/ResourcesPage-bLmojfMJ.js","assets/EnveloPage-Dy2CLcHV.js","assets/SectionHeader-C5S3iz5k.js","assets/MonitoringPage-DEZ69gvT.js","assets/UserManagementPage-ChUsGwB1.js","assets/LicenseesPage-CNnIfXRF.js","assets/ActivityPage-CvcB53IT.js","assets/MyActivityPage-BRFUKzpo.js","assets/SettingsPage-Dxtadkvp.js","assets/NotFoundPage-pxwbwKxh.js","assets/ApiDocsPage-BkVjyST6.js"])))=>i.map(i=>d[i]);
var rc=e=>{throw TypeError(e)};var Di=(e,t,n)=>t.has(e)||rc("Cannot "+n);var x=(e,t,n)=>(Di(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>t.has(e)?rc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Di(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ke=(e,t,n)=>(Di(e,t,"access private method"),n);var ms=(e,t,n,r)=>({set _(s){q(e,t,s,n)},get _(){return x(e,t,r)}});import{r as v,R as Rt,a as nh,b as rh,C as sh,S as ih,H as oh,F as ah,c as ch,B as uh,A as lh,d as sc,e as dh,U as fh,f as ph,E as hh,h as mh,X as gh,L as yh,M as _h,i as Sh,j as bh,k as Eh}from"./icons-BOtGoKI6.js";import{r as vh,R as xh}from"./vendor-CrGXBcEq.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Al={exports:{}},ci={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=v,Th=Symbol.for("react.element"),Ih=Symbol.for("react.fragment"),kh=Object.prototype.hasOwnProperty,Rh=wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ch={key:!0,ref:!0,__self:!0,__source:!0};function Ol(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kh.call(t,r)&&!Ch.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Th,type:e,key:i,ref:o,props:s,_owner:Rh.current}}ci.Fragment=Ih;ci.jsx=Ol;ci.jsxs=Ol;Al.exports=ci;var p=Al.exports,oo={},ic=vh;oo.createRoot=ic.createRoot,oo.hydrateRoot=ic.hydrateRoot;var ui=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ah={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bt,Qo,bl,Oh=(bl=class{constructor(){ne(this,Bt,Ah);ne(this,Qo,!1)}setTimeoutProvider(e){q(this,Bt,e)}setTimeout(e,t){return x(this,Bt).setTimeout(e,t)}clearTimeout(e){x(this,Bt).clearTimeout(e)}setInterval(e,t){return x(this,Bt).setInterval(e,t)}clearInterval(e){x(this,Bt).clearInterval(e)}},Bt=new WeakMap,Qo=new WeakMap,bl),ao=new Oh;function Ph(e){setTimeout(e,0)}var li=typeof window>"u"||"Deno"in globalThis;function st(){}function Mh(e,t){return typeof e=="function"?e(t):e}function Nh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function co(e,t){return typeof e=="function"?e(t):e}function Lh(e,t){return typeof e=="function"?e(t):e}function oc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Zo(o,t.options))return!1}else if(!Or(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function ac(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ar(t.options.mutationKey)!==Ar(i))return!1}else if(!Or(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zo(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ar)(e)}function Ar(e){return JSON.stringify(e,(t,n)=>uo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Or(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Or(e[n],t[n])):!1}var Fh=Object.prototype.hasOwnProperty;function Pl(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=cc(e)&&cc(t);if(!r&&!(uo(e)&&uo(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,c=r?new Array(a):{};let u=0;for(let l=0;l<a;l++){const d=r?l:o[l],f=e[d],m=t[d];if(f===m){c[d]=f,(r?l<i:Fh.call(e,d))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){c[d]=m;continue}const h=Pl(f,m,n+1);c[d]=h,h===f&&u++}return i===a&&u===i?e:c}function oR(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function cc(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uo(e){if(!uc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!uc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uc(e){return Object.prototype.toString.call(e)==="[object Object]"}function jh(e){return new Promise(t=>{ao.setTimeout(t,e)})}function Bh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Pl(e,t):t}function Uh(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $h(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ea=Symbol();function Ml(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ea?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function aR(e,t){return typeof e=="function"?e(...t):!!e}function Hh(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var fn,Ut,Wn,El,zh=(El=class extends ui{constructor(){super();ne(this,fn);ne(this,Ut);ne(this,Wn);q(this,Wn,t=>{if(!li&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){x(this,Ut)||this.setEventListener(x(this,Wn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Ut))==null||t.call(this),q(this,Ut,void 0))}setEventListener(t){var n;q(this,Wn,t),(n=x(this,Ut))==null||n.call(this),q(this,Ut,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){x(this,fn)!==t&&(q(this,fn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof x(this,fn)=="boolean"?x(this,fn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fn=new WeakMap,Ut=new WeakMap,Wn=new WeakMap,El),Nl=new zh;function Wh(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var qh=Ph;function Vh(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=qh;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ne=Vh(),qn,$t,Vn,vl,Gh=(vl=class extends ui{constructor(){super();ne(this,qn,!0);ne(this,$t);ne(this,Vn);q(this,Vn,t=>{if(!li&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){x(this,$t)||this.setEventListener(x(this,Vn))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,$t))==null||t.call(this),q(this,$t,void 0))}setEventListener(t){var n;q(this,Vn,t),(n=x(this,$t))==null||n.call(this),q(this,$t,t(this.setOnline.bind(this)))}setOnline(t){x(this,qn)!==t&&(q(this,qn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return x(this,qn)}},qn=new WeakMap,$t=new WeakMap,Vn=new WeakMap,vl),Hs=new Gh;function Kh(e){return Math.min(1e3*2**e,3e4)}function Dl(e){return(e??"online")==="online"?Hs.isOnline():!0}var lo=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ll(e){let t=!1,n=0,r;const s=Wh(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const S=new lo(g);f(S),(y=e.onCancel)==null||y.call(e,S)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Nl.isFocused()&&(e.networkMode==="always"||Hs.isOnline())&&e.canRun(),l=()=>Dl(e.networkMode)&&e.canRun(),d=g=>{i()||(r==null||r(),s.resolve(g))},f=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var y;r=S=>{(i()||u())&&g(S)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),h=()=>{if(i())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(S){g=Promise.reject(S)}Promise.resolve(g).then(d).catch(S=>{var M;if(i())return;const k=e.retry??(li?0:3),I=e.retryDelay??Kh,_=typeof I=="function"?I(n,S):I,A=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,S);if(t||!A){f(S);return}n++,(M=e.onFail)==null||M.call(e,n,S),jh(_).then(()=>u()?void 0:m()).then(()=>{t?f(S):h()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?h():m().then(h),s)}}var pn,xl,Fl=(xl=class{constructor(){ne(this,pn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nh(this.gcTime)&&q(this,pn,ao.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(li?1/0:5*60*1e3))}clearGcTimeout(){x(this,pn)&&(ao.clearTimeout(x(this,pn)),q(this,pn,void 0))}},pn=new WeakMap,xl),hn,Gn,Xe,mn,we,zr,gn,it,Et,wl,Yh=(wl=class extends Fl{constructor(t){super();ne(this,it);ne(this,hn);ne(this,Gn);ne(this,Xe);ne(this,mn);ne(this,we);ne(this,zr);ne(this,gn);q(this,gn,!1),q(this,zr,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,mn,t.client),q(this,Xe,x(this,mn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,hn,dc(this.options)),this.state=t.state??x(this,hn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,we))==null?void 0:t.promise}setOptions(t){if(this.options={...x(this,zr),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=dc(this.options);n.data!==void 0&&(this.setState(lc(n.data,n.dataUpdatedAt)),q(this,hn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Xe).remove(this)}setData(t,n){const r=Bh(this.state.data,t,this.options);return ke(this,it,Et).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ke(this,it,Et).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=x(this,we))==null?void 0:r.promise;return(s=x(this,we))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,hn))}isActive(){return this.observers.some(t=>Lh(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ea||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>co(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Dh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,we))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=x(this,we))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,Xe).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(x(this,we)&&(x(this,gn)?x(this,we).cancel({revert:!0}):x(this,we).cancelRetry()),this.scheduleGc()),x(this,Xe).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,it,Et).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,l,d,f,m,h,g,y,S,k,I;if(this.state.fetchStatus!=="idle"&&((c=x(this,we))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(x(this,we))return x(this,we).continueRetry(),x(this,we).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(A=>A.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(q(this,gn,!0),r.signal)})},i=()=>{const _=Ml(this.options,n),M=(()=>{const E={client:x(this,mn),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return q(this,gn,!1),this.options.persister?this.options.persister(_,M,this):_(M)},a=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:x(this,mn),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(a,this),q(this,Gn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=a.fetchOptions)==null?void 0:l.meta))&&ke(this,it,Et).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),q(this,we,Ll({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof lo&&_.revert&&this.setState({...x(this,Gn),fetchStatus:"idle"}),r.abort()},onFail:(_,A)=>{ke(this,it,Et).call(this,{type:"failed",failureCount:_,error:A})},onPause:()=>{ke(this,it,Et).call(this,{type:"pause"})},onContinue:()=>{ke(this,it,Et).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await x(this,we).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(f=x(this,Xe).config).onSuccess)==null||m.call(f,_,this),(g=(h=x(this,Xe).config).onSettled)==null||g.call(h,_,this.state.error,this),_}catch(_){if(_ instanceof lo){if(_.silent)return x(this,we).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ke(this,it,Et).call(this,{type:"error",error:_}),(S=(y=x(this,Xe).config).onError)==null||S.call(y,_,this),(I=(k=x(this,Xe).config).onSettled)==null||I.call(k,this.state.data,_,this),_}finally{this.scheduleGc()}}},hn=new WeakMap,Gn=new WeakMap,Xe=new WeakMap,mn=new WeakMap,we=new WeakMap,zr=new WeakMap,gn=new WeakMap,it=new WeakSet,Et=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jh(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...lc(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,Gn,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),x(this,Xe).notify({query:this,type:"updated",action:t})})},wl);function Jh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dl(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lc(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function dc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function fc(e){return{onFetch:(t,n)=>{var l,d,f,m,h;const r=t.options,s=(f=(d=(l=t.fetchOptions)==null?void 0:l.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=I=>{Hh(I,()=>t.signal,()=>g=!0)},S=Ml(t.options,t.fetchOptions),k=async(I,_,A)=>{if(g)return Promise.reject();if(_==null&&I.pages.length)return Promise.resolve(I);const E=(()=>{const w={client:t.client,queryKey:t.queryKey,pageParam:_,direction:A?"backward":"forward",meta:t.options.meta};return y(w),w})(),R=await S(E),{maxPages:F}=t.options,P=A?$h:Uh;return{pages:P(I.pages,R,F),pageParams:P(I.pageParams,_,F)}};if(s&&i.length){const I=s==="backward",_=I?Xh:pc,A={pages:i,pageParams:o},M=_(r,A);a=await k(A,M,I)}else{const I=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:pc(r,a);if(c>0&&_==null)break;a=await k(a,_),c++}while(c<I)}return a};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function pc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Xh(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Wr,ht,Re,yn,mt,Lt,Tl,Qh=(Tl=class extends Fl{constructor(t){super();ne(this,mt);ne(this,Wr);ne(this,ht);ne(this,Re);ne(this,yn);q(this,Wr,t.client),this.mutationId=t.mutationId,q(this,Re,t.mutationCache),q(this,ht,[]),this.state=t.state||Zh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,ht).includes(t)||(x(this,ht).push(t),this.clearGcTimeout(),x(this,Re).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,ht,x(this,ht).filter(n=>n!==t)),this.scheduleGc(),x(this,Re).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,ht).length||(this.state.status==="pending"?this.scheduleGc():x(this,Re).remove(this))}continue(){var t;return((t=x(this,yn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,l,d,f,m,h,g,y,S,k,I,_,A,M,E;const n=()=>{ke(this,mt,Lt).call(this,{type:"continue"})},r={client:x(this,Wr),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,yn,Ll({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,F)=>{ke(this,mt,Lt).call(this,{type:"failed",failureCount:R,error:F})},onPause:()=>{ke(this,mt,Lt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Re).canRun(this)}));const s=this.state.status==="pending",i=!x(this,yn).canStart();try{if(s)n();else{ke(this,mt,Lt).call(this,{type:"pending",variables:t,isPaused:i}),x(this,Re).config.onMutate&&await x(this,Re).config.onMutate(t,this,r);const F=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t,r));F!==this.state.context&&ke(this,mt,Lt).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const R=await x(this,yn).start();return await((u=(c=x(this,Re).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this,r)),await((d=(l=this.options).onSuccess)==null?void 0:d.call(l,R,t,this.state.context,r)),await((m=(f=x(this,Re).config).onSettled)==null?void 0:m.call(f,R,null,this.state.variables,this.state.context,this,r)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,R,null,t,this.state.context,r)),ke(this,mt,Lt).call(this,{type:"success",data:R}),R}catch(R){try{await((S=(y=x(this,Re).config).onError)==null?void 0:S.call(y,R,t,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((I=(k=this.options).onError)==null?void 0:I.call(k,R,t,this.state.context,r))}catch(F){Promise.reject(F)}try{await((A=(_=x(this,Re).config).onSettled)==null?void 0:A.call(_,void 0,R,this.state.variables,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((E=(M=this.options).onSettled)==null?void 0:E.call(M,void 0,R,t,this.state.context,r))}catch(F){Promise.reject(F)}throw ke(this,mt,Lt).call(this,{type:"error",error:R}),R}finally{x(this,Re).runNext(this)}}},Wr=new WeakMap,ht=new WeakMap,Re=new WeakMap,yn=new WeakMap,mt=new WeakSet,Lt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ne.batch(()=>{x(this,ht).forEach(r=>{r.onMutationUpdate(t)}),x(this,Re).notify({mutation:this,type:"updated",action:t})})},Tl);function Zh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xt,ot,qr,Il,em=(Il=class extends ui{constructor(t={}){super();ne(this,xt);ne(this,ot);ne(this,qr);this.config=t,q(this,xt,new Set),q(this,ot,new Map),q(this,qr,0)}build(t,n,r){const s=new Qh({client:t,mutationCache:this,mutationId:++ms(this,qr)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){x(this,xt).add(t);const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n);r?r.push(t):x(this,ot).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,xt).delete(t)){const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&x(this,ot).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gs(t);if(typeof n=="string"){const r=x(this,ot).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gs(t);if(typeof n=="string"){const s=(r=x(this,ot).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ne.batch(()=>{x(this,xt).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,xt).clear(),x(this,ot).clear()})}getAll(){return Array.from(x(this,xt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ac(n,r))}findAll(t={}){return this.getAll().filter(n=>ac(t,n))}notify(t){Ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ne.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},xt=new WeakMap,ot=new WeakMap,qr=new WeakMap,Il);function gs(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gt,kl,tm=(kl=class extends ui{constructor(t={}){super();ne(this,gt);this.config=t,q(this,gt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Zo(s,n);let o=this.get(i);return o||(o=new Yh({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){x(this,gt).has(t.queryHash)||(x(this,gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=x(this,gt).get(t.queryHash);n&&(t.destroy(),n===t&&x(this,gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,gt).get(t)}getAll(){return[...x(this,gt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>oc(t,r)):n}notify(t){Ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gt=new WeakMap,kl),pe,Ht,zt,Kn,Yn,Wt,Jn,Xn,Rl,nm=(Rl=class{constructor(e={}){ne(this,pe);ne(this,Ht);ne(this,zt);ne(this,Kn);ne(this,Yn);ne(this,Wt);ne(this,Jn);ne(this,Xn);q(this,pe,e.queryCache||new tm),q(this,Ht,e.mutationCache||new em),q(this,zt,e.defaultOptions||{}),q(this,Kn,new Map),q(this,Yn,new Map),q(this,Wt,0)}mount(){ms(this,Wt)._++,x(this,Wt)===1&&(q(this,Jn,Nl.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,pe).onFocus())})),q(this,Xn,Hs.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,pe).onOnline())})))}unmount(){var e,t;ms(this,Wt)._--,x(this,Wt)===0&&((e=x(this,Jn))==null||e.call(this),q(this,Jn,void 0),(t=x(this,Xn))==null||t.call(this),q(this,Xn,void 0))}isFetching(e){return x(this,pe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Ht).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,pe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=x(this,pe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(co(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return x(this,pe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=x(this,pe).get(r.queryHash),i=s==null?void 0:s.state.data,o=Mh(t,i);if(o!==void 0)return x(this,pe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ne.batch(()=>x(this,pe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=x(this,pe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=x(this,pe);Ne.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=x(this,pe);return Ne.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ne.batch(()=>x(this,pe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return Ne.batch(()=>(x(this,pe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ne.batch(()=>x(this,pe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=x(this,pe).build(this,t);return n.isStaleByTime(co(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=fc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=fc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hs.isOnline()?x(this,Ht).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,pe)}getMutationCache(){return x(this,Ht)}getDefaultOptions(){return x(this,zt)}setDefaultOptions(e){q(this,zt,e)}setQueryDefaults(e,t){x(this,Kn).set(Ar(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,Kn).values()],n={};return t.forEach(r=>{Or(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){x(this,Yn).set(Ar(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Yn).values()],n={};return t.forEach(r=>{Or(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,zt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ea&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,zt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,pe).clear(),x(this,Ht).clear()}},pe=new WeakMap,Ht=new WeakMap,zt=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,Wt=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,Rl),jl=v.createContext(void 0),cR=e=>{const t=v.useContext(jl);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},rm=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(jl.Provider,{value:e,children:t}));const L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ee=globalThis,_n="10.39.0";function Rn(){return di(ee),ee}function di(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||_n,t[_n]=t[_n]||{}}function cr(e,t,n=ee){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[_n]=r[_n]||{};return s[e]||(s[e]=t())}const sm=["debug","info","warn","error","log","assert","trace"],im="Sentry Logger ",zs={};function Cn(e){if(!("console"in ee))return e();const t=ee.console,n={},r=Object.keys(zs);r.forEach(s=>{const i=zs[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function om(){na().enabled=!0}function am(){na().enabled=!1}function Bl(){return na().enabled}function cm(...e){ta("log",...e)}function um(...e){ta("warn",...e)}function lm(...e){ta("error",...e)}function ta(e,...t){L&&Bl()&&Cn(()=>{ee.console[e](`${im}[${e}]:`,...t)})}function na(){return L?cr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const C={enable:om,disable:am,isEnabled:Bl,log:cm,warn:um,error:lm},Ul=50,xn="?",hc=/\(error: (.*)\)/,mc=/captureMessage|captureException/;function $l(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=hc.test(c)?c.replace(hc,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){i.push(d);break}}if(i.length>=Ul+s)break}}return fm(i.slice(s))}}function dm(e){return Array.isArray(e)?$l(...e):e}function fm(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ys(t).function||"")&&t.pop(),t.reverse(),mc.test(ys(t).function||"")&&(t.pop(),mc.test(ys(t).function||"")&&t.pop()),t.slice(0,Ul).map(n=>({...n,filename:n.filename||ys(t).filename,function:n.function||xn}))}function ys(e){return e[e.length-1]||{}}const Li="<anonymous>";function Ct(e){try{return!e||typeof e!="function"?Li:e.name||Li}catch{return Li}}function gc(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Hl(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Rs={},yc={};function en(e,t){Rs[e]=Rs[e]||[],Rs[e].push(t)}function tn(e,t){if(!yc[e]){yc[e]=!0;try{t()}catch(n){L&&C.error(`Error while instrumenting ${e}`,n)}}}function Ze(e,t){const n=e&&Rs[e];if(n)for(const r of n)try{r(t)}catch(s){L&&C.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}let Fi=null;function zl(e){const t="error";en(t,e),tn(t,pm)}function pm(){Fi=ee.onerror,ee.onerror=function(e,t,n,r,s){return Ze("error",{column:r,error:s,line:n,msg:e,url:t}),Fi?Fi.apply(this,arguments):!1},ee.onerror.__SENTRY_INSTRUMENTED__=!0}let ji=null;function Wl(e){const t="unhandledrejection";en(t,e),tn(t,hm)}function hm(){ji=ee.onunhandledrejection,ee.onunhandledrejection=function(e){return Ze("unhandledrejection",e),ji?ji.apply(this,arguments):!0},ee.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ql=Object.prototype.toString;function Vr(e){switch(ql.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return At(e,Error)}}function ur(e,t){return ql.call(e)===`[object ${t}]`}function Vl(e){return ur(e,"ErrorEvent")}function _c(e){return ur(e,"DOMError")}function mm(e){return ur(e,"DOMException")}function wt(e){return ur(e,"String")}function ra(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Qn(e){return e===null||ra(e)||typeof e!="object"&&typeof e!="function"}function Pr(e){return ur(e,"Object")}function fi(e){return typeof Event<"u"&&At(e,Event)}function gm(e){return typeof Element<"u"&&At(e,Element)}function ym(e){return ur(e,"RegExp")}function lr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function _m(e){return Pr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function At(e,t){try{return e instanceof t}catch{return!1}}function Gl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function sa(e){return typeof Request<"u"&&At(e,Request)}const ia=ee,Sm=80;function He(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Sm;for(;n&&i++<r&&(u=bm(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function bm(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(ia.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&wt(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function dr(){try{return ia.document.location.href}catch{return""}}function Kl(e){if(!ia.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Be(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Yl(s,r);try{e[t]=s}catch{L&&C.log(`Failed to replace method "${t}" in object`,e)}}function ze(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{L&&C.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Yl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ze(e,"__sentry_original__",t)}catch{}}function oa(e){return e.__sentry_original__}function Jl(e){if(Vr(e))return{message:e.message,name:e.name,stack:e.stack,...bc(e)};if(fi(e)){const t={type:e.type,target:Sc(e.target),currentTarget:Sc(e.currentTarget),...bc(e)};return typeof CustomEvent<"u"&&At(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Sc(e){try{return gm(e)?He(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function bc(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Em(e){const t=Object.keys(Jl(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Pn;function Gr(e){if(Pn!==void 0)return Pn?Pn(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=ee;return t in n&&typeof n[t]=="function"?(Pn=n[t],Pn(e)):(Pn=null,e())}function Vt(){return Gr(()=>Math.random())}function Kr(){return Gr(()=>Date.now())}function fo(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ec(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Gl(s)?n.push(Hl(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Cs(e,t,n=!1){return wt(e)?ym(t)?t.test(e):wt(t)?n?e===t:e.includes(t):!1:!1}function Tt(e,t=[],n=!1){return t.some(r=>Cs(e,r,n))}function vm(){const e=ee;return e.crypto||e.msCrypto}let Bi;function xm(){return Vt()*16}function Ge(e=vm()){try{if(e!=null&&e.randomUUID)return Gr(()=>e.randomUUID()).replace(/-/g,"")}catch{}return Bi||(Bi="10000000100040008000"+1e11),Bi.replace(/[018]/g,t=>(t^(xm()&15)>>t/4).toString(16))}function Xl(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function cn(e){const{message:t,event_id:n}=e;if(t)return t;const r=Xl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function po(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Zn(e,t){const n=Xl(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function vc(e){if(wm(e))return!0;try{ze(e,"__sentry_captured__",!0)}catch{}return!1}function wm(e){try{return e.__sentry_captured__}catch{}}const Ql=1e3;function An(){return Kr()/Ql}function Tm(){const{performance:e}=ee;if(!(e!=null&&e.now)||!e.timeOrigin)return An;const t=e.timeOrigin;return()=>(t+Gr(()=>e.now()))/Ql}let xc;function Te(){return(xc??(xc=Tm()))()}let Ui=null;function Im(){var o;const{performance:e}=ee;if(!(e!=null&&e.now))return;const t=3e5,n=Gr(()=>e.now()),r=Kr(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const i=(o=e.timing)==null?void 0:o.navigationStart;return typeof i=="number"&&Math.abs(i+n-r)<t?i:r-n}function qe(){return Ui===null&&(Ui=Im()),Ui}function km(e){const t=Te(),n={sid:Ge(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Cm(n)};return e&&er(n,e),n}function er(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Te(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ge()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Rm(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),er(e,n)}function Cm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Yr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Yr(r[s],t[s],n-1));return r}function Ot(){return Ge()}function It(){return Ge().substring(16)}const ho="_sentrySpan";function tr(e,t){t?ze(e,ho,t):delete e[ho]}function Ws(e){return e[ho]}const Am=100;class _t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ot(),sampleRand:Vt()}}clone(){const t=new _t;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,tr(t,Ws(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&er(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof _t?n.getScopeData():Pr(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d,conversationId:f}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),f&&(this._conversationId=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,tr(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ot(),sampleRand:Vt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:Am;if(r<=0)return this;const s={timestamp:An(),...t,message:t.message?fo(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ws(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Yr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Ge();if(!this._client)return L&&C.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Ge();if(!this._client)return L&&C.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=t.event_id||(n==null?void 0:n.event_id)||Ge();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(L&&C.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Om(){return cr("defaultCurrentScope",()=>new _t)}function Pm(){return cr("defaultIsolationScope",()=>new _t)}class Mm{constructor(t,n){let r;t?r=t:r=new _t;let s;n?s=n:s=new _t,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return lr(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function nr(){const e=Rn(),t=di(e);return t.stack=t.stack||new Mm(Om(),Pm())}function Nm(e){return nr().withScope(e)}function Dm(e,t){const n=nr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function wc(e){return nr().withScope(()=>e(nr().getIsolationScope()))}function Lm(){return{withIsolationScope:wc,withScope:Nm,withSetScope:Dm,withSetIsolationScope:(e,t)=>wc(t),getCurrentScope:()=>nr().getScope(),getIsolationScope:()=>nr().getIsolationScope()}}function fr(e){const t=di(e);return t.acs?t.acs:Lm()}function oe(){const e=Rn();return fr(e).getCurrentScope()}function et(){const e=Rn();return fr(e).getIsolationScope()}function Fm(){return cr("globalScope",()=>new _t)}function pr(...e){const t=Rn(),n=fr(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Z(){return oe().getClient()}function jm(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||It()};return r&&(i.parent_span_id=r),i}const ut="sentry.source",aa="sentry.sample_rate",Zl="sentry.previous_trace_sample_rate",Pt="sentry.op",ve="sentry.origin",Mr="sentry.idle_span_finish_reason",Jr="sentry.measurement_unit",Xr="sentry.measurement_value",Tc="sentry.custom_span_name",ca="sentry.profile_id",hr="sentry.exclusive_time",Bm="sentry.link.type",Um="gen_ai.conversation.id",$m=0,ua=1,Ee=2;function Hm(e){if(e<400&&e>=100)return{code:ua};if(e>=400&&e<500)switch(e){case 401:return{code:Ee,message:"unauthenticated"};case 403:return{code:Ee,message:"permission_denied"};case 404:return{code:Ee,message:"not_found"};case 409:return{code:Ee,message:"already_exists"};case 413:return{code:Ee,message:"failed_precondition"};case 429:return{code:Ee,message:"resource_exhausted"};case 499:return{code:Ee,message:"cancelled"};default:return{code:Ee,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ee,message:"unimplemented"};case 503:return{code:Ee,message:"unavailable"};case 504:return{code:Ee,message:"deadline_exceeded"};default:return{code:Ee,message:"internal_error"}}return{code:Ee,message:"internal_error"}}function ed(e,t){e.setAttribute("http.response.status_code",t);const n=Hm(t);n.message!=="unknown_error"&&e.setStatus(n)}const td="_sentryScope",nd="_sentryIsolationScope";function zm(e){try{const t=ee.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Wm(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function qm(e,t,n){e&&(ze(e,nd,zm(n)),ze(e,td,t))}function qs(e){const t=e;return{scope:t[td],isolationScope:Wm(t[nd])}}const la="sentry-",Vm=/^sentry-/,Gm=8192;function rd(e){const t=Ym(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Vm)){const o=s.slice(la.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Km(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${la}${r}`]=s),n),{});return Jm(t)}function Ym(e){if(!(!e||!wt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Ic(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Ic(e)}function Ic(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Jm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Gm?(L&&C.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Xm=/^o(\d+)\./,Qm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Zm(e){return e==="http"||e==="https"}function On(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function eg(e){const t=Qm.exec(e);if(!t){Cn(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return sd({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function sd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function tg(e){if(!L)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(C.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Zm(r)?t&&isNaN(parseInt(t,10))?(C.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(C.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(C.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function ng(e){const t=e.match(Xm);return t==null?void 0:t[1]}function rg(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=ng(n)),r}function id(e){const t=typeof e=="string"?eg(e):sd(e);if(!(!t||!tg(t)))return t}function wn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const od=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function sg(e){if(!e)return;const t=e.match(od);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ig(e,t){const n=sg(e),r=rd(t);if(!(n!=null&&n.traceId))return{traceId:Ot(),sampleRand:Vt()};const s=og(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function ad(e=Ot(),t=It(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function cd(e=Ot(),t=It(),n){return`00-${e}-${t}-${n?"01":"00"}`}function og(e,t){const n=wn(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=wn(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Vt()*r:r+Vt()*(1-r):Vt()}const ud=0,da=1;let kc=!1;function ag(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=se(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function cg(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:se(e).parent_span_id,i=qs(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||It():t;return{parent_span_id:s,span_id:o,trace_id:n}}function ug(e){const{traceId:t,spanId:n}=e.spanContext(),r=nn(e);return ad(t,n,r)}function lg(e){const{traceId:t,spanId:n}=e.spanContext(),r=nn(e);return cd(t,n,r)}function ld(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===da,attributes:i,...s}))}function Sn(e){return typeof e=="number"?Rc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Rc(e.getTime()):Te()}function Rc(e){return e>9999999999?e/1e3:e}function se(e){var r;if(fg(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(dg(e)){const{attributes:s,startTime:i,name:o,endTime:a,status:c,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:l,start_timestamp:Sn(i),timestamp:Sn(a)||void 0,status:dd(c),op:s[Pt],origin:s[ve],links:ld(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function dg(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function fg(e){return typeof e.getSpanJSON=="function"}function nn(e){const{traceFlags:t}=e.spanContext();return t===da}function dd(e){if(!(!e||e.code===$m))return e.code===ua?"ok":e.message||"internal_error"}const bn="_sentryChildSpans",mo="_sentryRootSpan";function fd(e,t){const n=e[mo]||e;ze(t,mo,n),e[bn]?e[bn].add(t):ze(e,bn,new Set([t]))}function pg(e,t){e[bn]&&e[bn].delete(t)}function As(e){const t=new Set;function n(r){if(!t.has(r)&&nn(r)){t.add(r);const s=r[bn]?Array.from(r[bn]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function Ae(e){return e[mo]||e}function Le(){const e=Rn(),t=fr(e);return t.getActiveSpan?t.getActiveSpan():Ws(oe())}function go(){kc||(Cn(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),kc=!0)}let Cc=!1;function hg(){if(Cc)return;function e(){const t=Le(),n=t&&Ae(t);if(n){const r="internal_error";L&&C.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Ee,message:r})}}e.tag="sentry_tracingErrorCallback",Cc=!0,zl(e),Wl(e)}function lt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Z())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Ac(e){C.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Vs(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(gg(n)){if(Cs(e.description,n))return L&&Ac(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Cs(e.description,n.name):!0,s=n.op?e.op&&Cs(e.op,n.op):!0;if(r&&s)return L&&Ac(e),!0}return!1}function mg(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function gg(e){return typeof e=="string"||e instanceof RegExp}const fa="production",pd="_frozenDsc";function Os(e,t){ze(e,pd,t)}function hd(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||fa,release:n.release,public_key:r,trace_id:e,org_id:rg(t)};return t.emit("createDsc",s),s}function md(e,t){const n=t.getPropagationContext();return n.dsc||hd(n.traceId,e)}function Mt(e){var h;const t=Z();if(!t)return{};const n=Ae(e),r=se(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[aa]??s[Zl];function a(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const c=n[pd];if(c)return a(c);const u=i==null?void 0:i.get("sentry.dsc"),l=u&&rd(u);if(l)return a(l);const d=hd(e.spanContext().traceId,t),f=s[ut],m=r.description;return f!=="url"&&m&&(d.transaction=m),lt()&&(d.sampled=String(nn(n)),d.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((h=qs(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(d),t.emit("createDsc",d,n),d}class Xt{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||It()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:ud}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function at(e,t=100,n=1/0){try{return yo("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function gd(e,t=3,n=100*1024){const r=at(e,t);return bg(r)>n?gd(e,t-1,n):r}function yo(e,t,n=1/0,r=1/0,s=Eg()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=yg(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return yo("",m,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=Jl(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(d>=r){l[m]="[MaxProperties ~]";break}const h=f[m];l[m]=yo(m,h,c-1,r,s),d++}return o(t),l}function yg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Gl(t))return Hl(t);if(_m(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ct(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=_g(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function _g(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Sg(e){return~-encodeURI(e).split(/%..|./).length}function bg(e){return Sg(JSON.stringify(e))}function Eg(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function rn(e,t=[]){return[e,t]}function vg(e,t){const[n,r]=e;return[n,[...r,t]]}function _o(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function xg(e,t){return _o(e,(n,r)=>t.includes(r))}function So(e){const t=di(ee);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function wg(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[So(r),i]:r.push(typeof i=="string"?So(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(at(a))}s(c)}}return typeof r=="string"?r:Tg(r)}function Tg(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ig(e){return[{type:"span"},e]}function kg(e){const t=typeof e.data=="string"?So(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Rg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Oc(e){return Rg[e]}function pa(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function yd(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:On(r)},...s&&{trace:s}}}function Cg(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function Ag(e,t,n,r){const s=pa(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:On(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return rn(i,[o])}function Og(e,t,n,r){const s=pa(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Cg(e,n==null?void 0:n.sdk);const o=yd(e,s,r,t);return delete e.sdkProcessingMetadata,rn(o,[[{type:i},e]])}function Pg(e,t){function n(m){return!!m.trace_id&&!!m.public_key}const r=Mt(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:On(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(m=>!Vs(se(m),c)):e,l=e.length-u.length;l&&(t==null||t.recordDroppedEvent("before_send","span",l));const d=a?m=>{const h=se(m),g=a(h);return g||(go(),h)}:se,f=[];for(const m of u){const h=d(m);h&&f.push(Ig(h))}return rn(o,f)}function Mg(e){if(!L)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=se(e),{spanId:s}=e.spanContext(),i=nn(e),o=Ae(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=se(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}C.log(`${c}
  ${u.join(`
  `)}`)}function Ng(e){if(!L)return;const{description:t="< unknown name >",op:n="< unknown op >"}=se(e),{spanId:r}=e.spanContext(),i=Ae(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;C.log(o)}function Dg(e,t,n,r=Le()){const s=r&&Ae(r);s&&(L&&C.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Xr]:t,[Jr]:n}))}function Pc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Jr],i=r[Xr];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Mc=1e3;class pi{constructor(t={}){this._traceId=t.traceId||Ot(),this._spanId=t.spanId||It(),this._startTime=t.startTimestamp||Te(),this._links=t.links,this._attributes={},this.setAttributes({[ve]:"manual",[Pt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?da:ud}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Sn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(ut,"custom"),this}end(t){this._endTime||(this._endTime=Sn(t),Ng(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Pt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:dd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ve],profile_id:this._attributes[ca],exclusive_time:this._attributes[hr],measurements:Pc(this._events),is_segment:this._isStandaloneSpan&&Ae(this)===this||void 0,segment_id:this._isStandaloneSpan?Ae(this).spanContext().spanId:void 0,links:ld(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){L&&C.log("[Tracing] Adding an event to span:",t);const s=Nc(n)?n:r||Te(),i=Nc(n)?{}:n||{},o={name:t,time:Sn(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Z();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ae(this)))return;if(this._isStandaloneSpan){this._sampled?Fg(Pg([this],t)):(L&&C.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(qs(this).scope||oe()).captureEvent(r)}_convertSpanToTransaction(){var l;if(!Dc(se(this)))return;this._name||(L&&C.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=qs(this),r=(l=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:l.normalizedRequest;if(this._sampled!==!0)return;const i=As(this).filter(d=>d!==this&&!Lg(d)).map(d=>se(d)).filter(Dc),o=this._attributes[ut];delete this._attributes[Tc],i.forEach(d=>{delete d.data[Tc]});const a={contexts:{trace:ag(this)},spans:i.length>Mc?i.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,Mc):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Mt(this)},request:r,...o&&{transaction_info:{source:o}}},c=Pc(this._events);return c&&Object.keys(c).length&&(L&&C.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Nc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Dc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Lg(e){return e instanceof pi&&e.isStandaloneSpan()}function Fg(e){const t=Z();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function jg(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return Bg(s,t,n,r)}function Bg(e,t,n,r){return lr(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function Ug(e,t,n){if(!lt(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=wn(s);if(i===void 0)return L&&C.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return L&&C.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||L&&C.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const _d="__SENTRY_SUPPRESS_TRACING__";function $g(e,t){const n=ma();if(n.startSpan)return n.startSpan(e,t);const r=bd(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o==null?void 0:o.clone();return pr(a,()=>zg(i)(()=>{const u=oe(),l=Ed(u,i),f=e.onlyIfParent&&!l?new Xt:Sd({parentSpan:l,spanArguments:r,forceTransaction:s,scope:u});return tr(u,f),jg(()=>t(f),()=>{const{status:m}=se(f);f.isRecording()&&(!m||m==="ok")&&f.setStatus({code:Ee,message:"internal_error"})},()=>{f.end()})}))}function mr(e){const t=ma();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=bd(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>pr(e.scope,o):s!==void 0?o=>ha(s,o):o=>o())(()=>{const o=oe(),a=Ed(o,s);return e.onlyIfParent&&!a?new Xt:Sd({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function ha(e,t){const n=ma();return n.withActiveSpan?n.withActiveSpan(e,t):pr(r=>(tr(r,e||void 0),t(r)))}function Sd({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!lt()){const o=new Xt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Mt(o)};Os(o,a)}return o}const s=et();let i;if(e&&!n)i=Hg(e,r,t),fd(e,i);else if(e){const o=Mt(e),{traceId:a,spanId:c}=e.spanContext(),u=nn(e);i=Lc({traceId:a,parentSpanId:c,...t},r,u),Os(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=Lc({traceId:o,parentSpanId:c,...t},r,u),a&&Os(i,a)}return Mg(i),qm(i,r,s),i}function bd(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Sn(e.startTime),delete r.startTime,r}return n}function ma(){const e=Rn();return fr(e)}function Lc(e,t,n){var h;const r=Z(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,f]=t.getScopeData().sdkProcessingMetadata[_d]?[!1]:Ug(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:wn((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),m=new pi({...e,attributes:{[ut]:"custom",[aa]:d!==void 0&&f?d:void 0,...c},sampled:l});return!l&&r&&(L&&C.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",m),m}function Hg(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[_d]?!1:nn(e),o=i?new pi({...n,parentSpanId:r,traceId:s,sampled:i}):new Xt({traceId:s});fd(e,o);const a=Z();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function Ed(e,t){if(t)return t;if(t===null)return;const n=Ws(e);if(!n)return;const r=Z();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ae(n):n}function zg(e){return e!==void 0?t=>ha(e,t):t=>t()}const Ps={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Wg="heartbeatFailed",qg="idleTimeout",Vg="finalTimeout",Gg="externalFinish";function vd(e,t={}){const n=new Map;let r=!1,s,i=Gg,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Ps.idleTimeout,finalTimeout:u=Ps.finalTimeout,childSpanTimeout:l=Ps.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:f=!0}=t,m=Z();if(!m||!lt()){const E=new Xt,R={sample_rate:"0",sampled:"false",...Mt(E)};return Os(E,R),E}const h=oe(),g=Le(),y=Kg(e);y.end=new Proxy(y.end,{apply(E,R,F){if(d&&d(y),R instanceof Xt)return;const[P,...w]=F,B=P||Te(),U=Sn(B),D=As(y).filter(N=>N!==y),de=se(y);if(!D.length||!f)return M(U),Reflect.apply(E,R,[U,...w]);const j=m.getOptions().ignoreSpans,Q=D==null?void 0:D.reduce((N,G)=>{const Y=se(G);return!Y.timestamp||j&&Vs(Y,j)?N:N?Math.max(N,Y.timestamp):Y.timestamp},void 0),O=de.start_timestamp,K=Math.min(O?O+u/1e3:1/0,Math.max(O||-1/0,Math.min(U,Q||1/0)));return M(K),Reflect.apply(E,R,[K,...w])}});function S(){s&&(clearTimeout(s),s=void 0)}function k(E){S(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=qg,y.end(E))},c)}function I(E){s=setTimeout(()=>{!r&&o&&(i=Wg,y.end(E))},l)}function _(E){S(),n.set(E,!0);const R=Te();I(R+l/1e3)}function A(E){if(n.has(E)&&n.delete(E),n.size===0){const R=Te();k(R+c/1e3)}}function M(E){r=!0,n.clear(),a.forEach(D=>D()),tr(h,g);const R=se(y),{start_timestamp:F}=R;if(!F)return;R.data[Mr]||y.setAttribute(Mr,i);const w=R.status;(!w||w==="unknown")&&y.setStatus({code:ua}),C.log(`[Tracing] Idle span "${R.op}" finished`);const B=As(y).filter(D=>D!==y);let U=0;B.forEach(D=>{D.isRecording()&&(D.setStatus({code:Ee,message:"cancelled"}),D.end(E),L&&C.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));const de=se(D),{timestamp:j=0,start_timestamp:Q=0}=de,O=Q<=E,K=(u+c)/1e3,N=j-Q<=K;if(L){const G=JSON.stringify(D,void 0,2);O?N||C.log("[Tracing] Discarding span since it finished after idle span final timeout",G):C.log("[Tracing] Discarding span since it happened after idle span was finished",G)}(!N||!O)&&(pg(y,D),U++)}),U>0&&y.setAttribute("sentry.idle_span_discarded_spans",U)}return a.push(m.on("spanStart",E=>{if(r||E===y||se(E).timestamp||E instanceof pi&&E.isStandaloneSpan())return;As(y).includes(E)&&_(E.spanContext().spanId)})),a.push(m.on("spanEnd",E=>{r||A(E.spanContext().spanId)})),a.push(m.on("idleSpanEnableAutoFinish",E=>{E===y&&(o=!0,k(),n.size&&I())})),t.disableAutoFinish||k(),setTimeout(()=>{r||(y.setStatus({code:Ee,message:"deadline_exceeded"}),i=Vg,y.end())},u),y}function Kg(e){const t=mr(e);return tr(oe(),t),L&&C.log("[Tracing] Started span is an idle span"),t}const $i=0,Fc=1,jc=2;function Qr(e){return new Nr(t=>{t(e)})}function ga(e){return new Nr((t,n)=>{n(e)})}class Nr{constructor(t){this._state=$i,this._handlers=[],this._runExecutor(t)}then(t,n){return new Nr((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Nr((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===$i)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fc&&n[1](this._value),this._state===jc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===$i){if(lr(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(Fc,i)},s=i=>{n(jc,i)};try{t(r,s)}catch(i){s(i)}}}function Yg(e,t,n,r=0){try{const s=bo(t,n,e,r);return lr(s)?s:Qr(s)}catch(s){return ga(s)}}function bo(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return L&&i===null&&C.log(`Event processor "${s.id||"?"}" dropped event`),lr(i)?i.then(o=>bo(o,t,n,r+1)):bo(i,t,n,r+1)}let bt,Bc,Uc,Dt;function Jg(e){const t=ee._sentryDebugIds,n=ee._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(Dt&&r.length===Bc&&s.length===Uc)return Dt;Bc=r.length,Uc=s.length,Dt={},bt||(bt={});const i=(o,a)=>{for(const c of o){const u=a[c],l=bt==null?void 0:bt[c];if(l&&Dt&&u)Dt[l[0]]=u,bt&&(bt[c]=[l[0],u]);else if(u){const d=e(c);for(let f=d.length-1;f>=0;f--){const m=d[f],h=m==null?void 0:m.filename;if(h&&Dt&&bt){Dt[h]=u,bt[c]=[h,u];break}}}}};return t&&i(r,t),n&&i(s,n),Dt}function Xg(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Zg(e,t),r&&ny(e,r),ry(e,n),ey(e,s),ty(e,i)}function $c(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:f,propagationContext:m,transactionName:h,span:g}=t;xr(e,"extra",n),xr(e,"tags",r),xr(e,"attributes",s),xr(e,"user",i),xr(e,"contexts",o),e.sdkProcessingMetadata=Yr(e.sdkProcessingMetadata,c,2),a&&(e.level=a),h&&(e.transactionName=h),g&&(e.span=g),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function xr(e,t,n){e[t]=Yr(e[t],n,1)}function Qg(e,t){const n=Fm().getScopeData();return e&&$c(n,e.getScopeData()),t&&$c(n,t.getScopeData()),n}function Zg(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function ey(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ty(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ny(e,t){e.contexts={trace:cg(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Mt(t),...e.sdkProcessingMetadata};const n=Ae(t),r=se(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function ry(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function xd(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Ge(),timestamp:t.timestamp||An()},u=n.integrations||e.integrations.map(S=>S.name);sy(c,e),ay(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&iy(c,e.stackParser);const l=uy(r,n.captureContext);n.mechanism&&Zn(c,n.mechanism);const d=s?s.getEventProcessors():[],f=Qg(i,l),m=[...n.attachments||[],...f.attachments];m.length&&(n.attachments=m),Xg(c,f);const h=[...d,...f.eventProcessors];return(n.data&&n.data.__sentry__===!0?Qr(c):Yg(h,c,n)).then(S=>(S&&oy(S),typeof o=="number"&&o>0?cy(S,o,a):S))}function sy(e,t){var a,c;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||fa,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=fo(o.url,i)),i&&((c=(a=e.exception)==null?void 0:a.values)==null||c.forEach(u=>{u.value&&(u.value=fo(u.value,i))}))}function iy(e,t){var r,s;const n=Jg(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function oy(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function ay(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function cy(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))},...e.user&&{user:at(e.user,t,n)},...e.contexts&&{contexts:at(e.contexts,t,n)},...e.extra&&{extra:at(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=at(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:at(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=at(e.contexts.flags,3,n)),r}function uy(e,t){if(!t)return e;const n=e?e.clone():new _t;return n.update(t),n}function ly(e){if(e)return dy(e)?{captureContext:e}:py(e)?{captureContext:e}:e}function dy(e){return e instanceof _t||typeof e=="function"}const fy=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function py(e){return Object.keys(e).some(t=>fy.includes(t))}function hi(e,t){return oe().captureException(e,ly(t))}function wd(e,t){return oe().captureEvent(e,t)}function Td(e,t){et().setContext(e,t)}function hy(){return et().lastEventId()}function my(){const e=Z();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function gy(e){et().addEventProcessor(e)}function Hc(e){const t=et(),n=oe(),{userAgent:r}=ee.navigator||{},s=km({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&er(i,{status:"exited"}),Id(),t.setSession(s),s}function Id(){const e=et(),n=oe().getSession()||e.getSession();n&&Rm(n),kd(),e.setSession()}function kd(){const e=et(),t=Z(),n=e.getSession();n&&t&&t.captureSession(n)}function zc(e=!1){if(e){Id();return}kd()}const yy="7";function Rd(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function _y(e){return`${Rd(e)}${e.projectId}/envelope/`}function Sy(e,t){const n={sentry_version:yy};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function by(e,t,n){return t||`${_y(e)}?${Sy(e,n)}`}function Ey(e,t){const n=id(e);if(!n)return"";const r=`${Rd(n)}embed/error-page/`;let s=`dsn=${On(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const Wc=[];function vy(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function xy(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return vy(r)}function wy(e,t){const n={};return t.forEach(r=>{r&&Cd(e,r,n)}),n}function qc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Cd(e,t,n){if(n[t.name]){L&&C.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Wc.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Wc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}L&&C.log(`Integration installed: ${t.name}`)}function Ty(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Iy(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=On(r)),rn(s,[Ty(e)])}function Ad(e,t){const n=t??ky(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Iy(n,r._metadata,r.tunnel,e.getDsn());Od().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function ky(e){return Od().get(e)}function Od(){return cr("clientToLogBufferMap",()=>new WeakMap)}function Ry(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Cy(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=On(r)),rn(s,[Ry(e)])}function Pd(e,t){const n=t??Ay(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Cy(n,r._metadata,r.tunnel,e.getDsn());Md().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function Ay(e){return Md().get(e)}function Md(){return cr("clientToMetricBufferMap",()=>new WeakMap)}function Nd(e){return typeof e=="object"&&typeof e.unref=="function"&&e.unref(),e}const ya=Symbol.for("SentryBufferFullError");function _a(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return ga(ya);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return Qr(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>Nd(setTimeout(()=>u(!1),o)))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const Oy=60*1e3;function Py(e,t=Kr()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Oy:r-t}function My(e,t){return e[t]||e.all||0}function Dd(e,t,n=Kr()){return My(e,t)>n}function Ld(e,{statusCode:t,headers:n},r=Kr()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const m of u.split(";"))m==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[m]=r+f):s[m]=r+f}else o?s.all=r+Py(o,r):t===429&&(s.all=r+60*1e3);return s}const Fd=64;function Ny(e,t,n=_a(e.bufferSize||Fd)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(_o(o,(d,f)=>{const m=Oc(f);Dd(r,m)?e.recordDroppedEvent("ratelimit_backoff",m):a.push(d)}),a.length===0)return Promise.resolve({});const c=rn(o[0],a),u=d=>{if(xg(c,["client_report"])){L&&C.warn(`Dropping client report. Will not send outcomes (reason: ${d}).`);return}_o(c,(f,m)=>{e.recordDroppedEvent(d,Oc(m))})},l=()=>t({body:wg(c)}).then(d=>d.statusCode===413?(L&&C.error("Sentry responded with status code 413. Envelope was discarded due to exceeding size limits."),u("send_error"),d):(L&&d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&C.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Ld(r,d),d),d=>{throw u("network_error"),L&&C.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===ya)return L&&C.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function Dy(e,t,n){const r=[{type:"client_report"},{timestamp:An(),discarded_events:e}];return rn(t?{dsn:t}:{},[r])}function jd(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Ly(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[ca],exclusive_time:o==null?void 0:o[hr],measurements:e.measurements,is_segment:!0}}function Fy(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ca]:e.profile_id},...e.exclusive_time&&{[hr]:e.exclusive_time}}}},measurements:e.measurements}}const Vc="Not capturing exception because it's already been captured.",Gc="Discarded session because of missing or non-string release",Bd=Symbol.for("SentryInternalError"),Ud=Symbol.for("SentryDoNotSendEventError"),jy=5e3;function Ms(e){return{message:e,[Bd]:!0}}function Hi(e){return{message:e,[Ud]:!0}}function Kc(e){return!!e&&typeof e=="object"&&Bd in e}function Yc(e){return!!e&&typeof e=="object"&&Ud in e}function Jc(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=Nd(setTimeout(()=>{s(e)},jy)))}),e.on("flush",()=>{s(e)})}class By{constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=_a(((r=t.transportOptions)==null?void 0:r.bufferSize)??Fd),t.dsn?this._dsn=id(t.dsn):L&&C.warn("No DSN provided, client will not send events."),this._dsn){const o=by(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&Jc(this,"afterCaptureLog","flushLogs",zy,Ad),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&Jc(this,"afterCaptureMetric","flushMetrics",Hy,Pd)}captureException(t,n,r){const s=Ge();if(vc(t))return L&&C.log(Vc),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Ge(),...r},o=ra(t)?t:String(t),a=Qn(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Ge();if(n!=null&&n.originalException&&vc(n.originalException))return L&&C.log(Vc),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Xc(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),er(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Cd(this,t,this._integrations),n||qc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Og(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=vg(r,kg(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=fa}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){L&&C.warn(Gc);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){L&&C.warn(Gc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=Ag(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;L&&C.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return L&&C.error("Error while sending envelope:",n),{}}return L&&C.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=wy(this,t),qc(this,t)}_updateSessionFromEvent(t,n){var c,u;let r=n.level==="fatal",s=!1;const i=(c=n.exception)==null?void 0:c.values;if(i){s=!0,r=!1;for(const l of i)if(((u=l.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(er(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),xd(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:jm(r),...a.contexts};const c=md(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=oe(),s=et()){return L&&Eo(t)&&C.log(`Captured error event \`${jd(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{L&&(Yc(i)?C.log(i.message):Kc(i)?C.warn(i.message):C.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=$d(t),c=Eo(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:wn(o);if(c&&typeof d=="number"&&Vt()>d)return this.recordDroppedEvent("sample_rate","error"),ga(Hi(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=Xc(t.type);return this._prepareEvent(t,n,r,s).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f),Hi("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return m;const g=$y(this,i,m,n);return Uy(g,l)}).then(m=>{var y;if(m===null){if(this.recordDroppedEvent("before_send",f),a){const k=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw Hi(`${l} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,m),a){const S=((y=m.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,k=m.spans?m.spans.length:0,I=S-k;I>0&&this.recordDroppedEvent("before_send","span",I)}const g=m.transaction_info;if(a&&g&&m.transaction!==t.transaction){const S="custom";m.transaction_info={...g,source:S}}return this.sendEvent(m,n),m}).then(null,m=>{throw Yc(m)||Kc(m)?m:(this.captureException(m,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:m}),Ms(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===ya&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){L&&C.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){L&&C.log("No outcomes to send");return}if(!this._dsn){L&&C.log("No dsn provided, will not send outcomes");return}L&&C.log("Sending outcomes:",t);const n=Dy(t,this._options.tunnel&&On(this._dsn));this.sendEnvelope(n)}}function Xc(e){return e==="replay_event"?"replay":e||"error"}function Uy(e,t){const n=`${t} must return \`null\` or a valid event.`;if(lr(e))return e.then(r=>{if(!Pr(r)&&r!==null)throw Ms(n);return r},r=>{throw Ms(`${t} rejected with ${r}`)});if(!Pr(e)&&e!==null)throw Ms(n);return e}function $y(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(Eo(c)&&s)return s(c,r);if($d(c)){if(o||a){const u=Ly(c);if(a!=null&&a.length&&Vs(u,a))return null;if(o){const l=o(u);l?c=Yr(n,Fy(l)):go()}if(c.spans){const l=[],d=c.spans;for(const m of d){if(a!=null&&a.length&&Vs(m,a)){mg(d,m);continue}if(o){const h=o(m);h?l.push(h):(go(),l.push(m))}else l.push(m)}const f=c.spans.length-l.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=l}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Eo(e){return e.type===void 0}function $d(e){return e.type==="transaction"}function Hy(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Hd(e.attributes)}function zy(e){let t=0;return e.message&&(t+=e.message.length*2),t+Hd(e.attributes)}function Hd(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Qc(n[0]):Qn(n)?t+=Qc(n):t+=100}),t}function Qc(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Wy(e){return Vr(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function Zc(e){return Wy(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function qy(e,t){t.debug===!0&&(L?C.enable():Cn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),oe().update(t.initialScope);const r=new e(t);return Vy(r),r.init(),r}function Vy(e){oe().setClient(e)}const Gy="thismessage:/";function Sa(e){return"isRelative"in e}function ba(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Gy:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Ky(e){if(Sa(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function En(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Yy(e){return e.split(/[?#]/,1)[0]}function Gt(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),i=e.indexOf(",");let o="";if(t&&i!==-1){const a=e.slice(i+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${s?",base64":""}${o?`,${o}`:""}`}return e}function Jy(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Qy(e,n)||Xy(e,r)}function Xy(e,t){return t?eu(e)===eu(t):!1}function Qy(e,t){const n=ba(e);return!n||Sa(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function eu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Zy(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function zd(e,t,n=[t],r="npm"){const s=(e._metadata=e._metadata||{}).sdk=e._metadata.sdk||{};s.name||(s.name=`sentry.javascript.${t}`,s.packages=n.map(i=>({name:`${r}:@sentry/${i}`,version:_n})),s.version=_n)}function Wd(e={}){const t=e.client||Z();if(!my()||!t)return{};const n=Rn(),r=fr(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||oe(),i=e.span||Le(),o=i?ug(i):e_(s),a=i?Mt(i):md(t,s),c=Km(a);if(!od.test(o))return C.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(l.traceparent=i?lg(i):t_(s)),l}function e_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ad(t,r,n)}function t_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return cd(t,r,n)}function n_(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function l(){return s!==void 0||i!==void 0?c():r}function d(){return s&&clearTimeout(s),s=a(c,t),o&&i===void 0&&(i=a(c,o)),r}return d.cancel=u,d.flush=l,d}const r_=100;function Qt(e,t){const n=Z(),r=et();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=r_}=n.getOptions();if(i<=0)return;const a={timestamp:An(),...e},c=s?Cn(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let tu;const s_="FunctionToString",nu=new WeakMap,i_=()=>({name:s_,setupOnce(){tu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=oa(this),n=nu.has(Z())&&t!==void 0?t:this;return tu.apply(n,e)}}catch{}},setup(e){nu.set(e,!0)}}),o_=i_,a_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],c_="EventFilters",u_=(e={})=>{let t;return{name:c_,setup(n){const r=n.getOptions();t=ru(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=ru(e,i)}return d_(n,t)?null:n}}},l_=(e={})=>({...u_(e),name:"InboundFilters"});function ru(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:a_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function d_(e,t){if(e.type){if(e.type==="transaction"&&p_(e,t.ignoreTransactions))return L&&C.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${cn(e)}`),!0}else{if(f_(e,t.ignoreErrors))return L&&C.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${cn(e)}`),!0;if(y_(e))return L&&C.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${cn(e)}`),!0;if(h_(e,t.denyUrls))return L&&C.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${cn(e)}.
Url: ${Gs(e)}`),!0;if(!m_(e,t.allowUrls))return L&&C.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${cn(e)}.
Url: ${Gs(e)}`),!0}return!1}function f_(e,t){return t!=null&&t.length?jd(e).some(n=>Tt(n,t)):!1}function p_(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Tt(n,t):!1}function h_(e,t){if(!(t!=null&&t.length))return!1;const n=Gs(e);return n?Tt(n,t):!1}function m_(e,t){if(!(t!=null&&t.length))return!0;const n=Gs(e);return n?Tt(n,t):!0}function g_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Gs(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,a,c;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(a=i.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?g_(s):null}catch{return L&&C.error(`Cannot extract url for event ${cn(e)}`),null}}function y_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function __(e,t,n,r,s,i){var a;if(!((a=s.exception)!=null&&a.values)||!i||!At(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=vo(e,t,r,i.originalException,n,s.exception.values,o,0))}function vo(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(At(r[s],Error)){su(o,a,r);const u=e(t,r[s]),l=c.length;iu(u,s,l,a),c=vo(e,t,n,r[s],s,[u,...c],u,l)}return qd(r)&&r.errors.forEach((u,l)=>{if(At(u,Error)){su(o,a,r);const d=e(t,u),f=c.length;iu(d,`errors[${l}]`,f,a),c=vo(e,t,n,u,s,[d,...c],d,f)}}),c}function qd(e){return Array.isArray(e.errors)}function su(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...qd(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function iu(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function S_(e){const t="console";en(t,e),tn(t,b_)}function b_(){"console"in ee&&sm.forEach(function(e){e in ee.console&&Be(ee.console,e,function(t){return zs[e]=t,function(...n){Ze("console",{args:n,level:e});const s=zs[e];s==null||s.apply(ee.console,n)}})})}function Vd(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const E_="Dedupe",v_=()=>{let e;return{name:E_,processEvent(t){if(t.type)return t;try{if(w_(t,e))return L&&C.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},x_=v_;function w_(e,t){return t?!!(T_(e,t)||I_(e,t)):!1}function T_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Kd(e,t)||!Gd(e,t))}function I_(e,t){const n=ou(t),r=ou(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Kd(e,t)||!Gd(e,t))}function Gd(e,t){let n=gc(e),r=gc(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Kd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function ou(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const k_="ConversationId",R_=()=>({name:k_,setup(e){e.on("spanStart",t=>{const n=oe().getScopeData(),r=et().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute(Um,s)})}}),C_=R_;function A_(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=lt()&&t(o);if(e.endTimestamp&&a){const m=e.fetchData.__span;if(!m)return;const h=r[m];h&&(M_(h,e),O_(h,e,s),delete r[m]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},l=!!Le(),d=a&&l?mr(D_(o,i,c)):new Xt;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const m=e.args[0],h={...e.args[1]||{}},g=P_(m,h,lt()&&l?d:void 0,u);g&&(e.args[1]=h,h.headers=g)}const f=Z();if(f){const m={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",d,m)}return d}function O_(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function P_(e,t,n,r){const s=Wd({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(sa(e)?e.headers:void 0);if(c)if(N_(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?_s(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&_s(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,f=d?Array.isArray(d)?[...d]:[d]:[],m=d&&(Array.isArray(d)?d.find(g=>_s(g)):_s(d));o&&!m&&f.push(o);const h={...c,"sentry-trace":u??i,baggage:f.length>0?f.join(","):void 0};return r&&a&&!l&&(h.traceparent=a),h}else return{...s}}function M_(e,t){var n,r;if(t.response){ed(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:Ee,message:"internal_error"});e.end()}function _s(e){return e.split(",").some(t=>t.trim().startsWith(la))}function N_(e){return typeof Headers<"u"&&At(e,Headers)}function D_(e,t,n){if(e.startsWith("data:")){const i=Gt(e);return{name:`${t} ${i}`,attributes:au(e,void 0,t,n)}}const r=ba(e),s=r?Ky(r):e;return{name:`${t} ${s}`,attributes:au(e,r,t,n)}}function au(e,t,n,r){const s={url:Gt(e),type:"fetch","http.method":n,[ve]:r,[Pt]:"http.client"};return t&&(Sa(t)||(s["http.url"]=Gt(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Yd(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Dr=ee;function L_(){return"history"in Dr&&!!Dr.history}function F_(){if(!("fetch"in Dr))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function xo(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function j_(){var n;if(typeof EdgeRuntime=="string")return!0;if(!F_())return!1;if(xo(Dr.fetch))return!0;let e=!1;const t=Dr.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=xo(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){L&&C.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Jd(e,t){const n="fetch";en(n,e),tn(n,()=>Xd(void 0,t))}function B_(e){const t="fetch-body-resolved";en(t,e),tn(t,()=>Xd($_))}function Xd(e,t=!1){t&&!j_()||Be(ee,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=H_(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:Te()*1e3,virtualError:s,headers:z_(r)};return e||Ze("fetch",{...a}),n.apply(ee,r).then(async c=>(e?e(c):Ze("fetch",{...a,endTimestamp:Te()*1e3,response:c}),c),c=>{Ze("fetch",{...a,endTimestamp:Te()*1e3,error:c}),Vr(c)&&c.stack===void 0&&(c.stack=s.stack,ze(c,"framesToPop",1));const u=Z(),l=(u==null?void 0:u.getOptions().enhanceFetchErrorMessages)??"always";if(l!==!1&&c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const m=new URL(a.fetchData.url).host;l==="always"?c.message=`${c.message} (${m})`:ze(c,"__sentry_fetch_url_host__",m)}catch{}throw c})}})}async function U_(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function $_(e){let t;try{t=e.clone()}catch{return}U_(t,()=>{Ze("fetch-body-resolved",{endTimestamp:Te()*1e3,response:e})})}function Ns(e,t){return!!e&&typeof e=="object"&&!!e[t]}function cu(e){return typeof e=="string"?e:e?Ns(e,"url")?e.url:e.toString?e.toString():"":""}function H_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:cu(n),method:Ns(r,"method")?String(r.method).toUpperCase():sa(n)&&Ns(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:cu(t),method:Ns(t,"method")?String(t.method).toUpperCase():"GET"}}function z_(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(sa(t))return new Headers(t.headers)}catch{}}function W_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function q_(){return"npm"}function V_(){return!W_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function wo(){return typeof window<"u"&&(!V_()||G_())}function G_(){const e=ee.process;return(e==null?void 0:e.type)==="renderer"}const X=ee;let To=0;function Qd(){return To>0}function K_(){To++,setTimeout(()=>{To--})}function rr(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(oa(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>rr(o,t));return e.apply(this,i)}catch(i){throw K_(),pr(o=>{o.addEventProcessor(a=>(t.mechanism&&(po(a,void 0),Zn(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),hi(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Yl(r,e),ze(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ea(){const e=dr(),{referrer:t}=X.document||{},{userAgent:n}=X.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function va(e,t){const n=xa(e,t),r={type:Z_(t),value:eS(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Y_(e,t,n,r){const s=Z(),i=s==null?void 0:s.getOptions().normalizeDepth,o=iS(t),a={__serialized__:gd(t,i)};if(o)return{exception:{values:[va(e,o)]},extra:a};const c={exception:{values:[{type:fi(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:rS(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=xa(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function zi(e,t){return{exception:{values:[va(e,t)]}}}function xa(e,t){const n=t.stacktrace||t.stack||"",r=X_(t),s=Q_(t);try{return e(n,r,s)}catch{}return[]}const J_=/Minified React error #\d+;/i;function X_(e){return e&&J_.test(e.message)?1:0}function Q_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Zd(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Z_(e){const t=e==null?void 0:e.name;return!t&&Zd(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function eS(e){const t=e==null?void 0:e.message;return Zd(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?Zc(t.error):Zc(e):"No error message"}function tS(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=wa(e,t,s,r);return Zn(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),Qr(i)}function nS(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=Io(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Qr(o)}function wa(e,t,n,r,s){let i;if(Vl(t)&&t.error)return zi(e,t.error);if(_c(t)||mm(t)){const o=t;if("stack"in t)i=zi(e,t);else{const a=o.name||(_c(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Io(e,c,n,r),po(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Vr(t)?zi(e,t):Pr(t)||fi(t)?(i=Y_(e,t,n,s),Zn(i,{synthetic:!0}),i):(i=Io(e,t,n,r),po(i,`${t}`),Zn(i,{synthetic:!0}),i)}function Io(e,t,n,r){const s={};if(r&&n){const i=xa(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Zn(s,{synthetic:!0})}if(ra(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function rS(e,{isUnhandledRejection:t}){const n=Em(e),r=t?"promise rejection":"exception";return Vl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:fi(e)?`Event \`${sS(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function sS(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function iS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class oS extends By{constructor(t){var l;const n=aS(t),r=X.SENTRY_SDK_SOURCE||q_();zd(n,"browser",["browser"],r),(l=n._metadata)!=null&&l.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??(a==null?void 0:a.enableMetrics)??!0;X.document&&(i||o||u)&&X.document.addEventListener("visibilitychange",()=>{X.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Ad(this),u&&Pd(this))}),s&&this.on("beforeSendSession",Zy)}eventFromException(t,n){return tS(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return nS(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function aS(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=X.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Tn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,W=ee,cS=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Zr=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=cS(t.value,n),e(t)))}},es=(e=!0)=>{var n,r;const t=(r=(n=W.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},gr=()=>{const e=es();return(e==null?void 0:e.activationStart)??0};function Kt(e,t,n){W.document&&W.addEventListener(e,t,n)}function Ks(e,t,n){W.document&&W.removeEventListener(e,t,n)}let Hn=-1;const ef=new Set,uS=()=>{var e,t;return((e=W.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=W.document)!=null&&t.prerendering)?0:1/0},Ds=e=>{if(lS(e)&&Hn>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of ef)t();isFinite(Hn)||(Hn=e.type==="visibilitychange"?e.timeStamp:0,Ks("prerenderingchange",Ds,!0))}},ts=()=>{var e;if(W.document&&Hn<0){const t=gr();Hn=(W.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??uS(),Kt("visibilitychange",Ds,!0),Kt("pagehide",Ds,!0),Kt("prerenderingchange",Ds,!0)}return{get firstHiddenTime(){return Hn},onHidden(t){ef.add(t)}}};function lS(e){var t;return e.type==="pagehide"||((t=W.document)==null?void 0:t.visibilityState)==="hidden"}const dS=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ns=(e,t=-1)=>{var i,o;const n=es();let r="navigate";return n&&((i=W.document)!=null&&i.prerendering||gr()>0?r="prerender":(o=W.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:dS(),navigationType:r}},Wi=new WeakMap;function Ta(e,t){try{return Wi.get(e)||Wi.set(e,new t),Wi.get(e)}catch{return new t}}class Ys{constructor(){Ys.prototype.__init.call(this),Ys.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const yr=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ia=e=>{let t=!1;return()=>{t||(e(),t=!0)}},mi=e=>{var t;(t=W.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},fS=[1800,3e3],pS=(e,t={})=>{mi(()=>{const n=ts(),r=ns("FCP");let s;const o=yr("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-gr(),0),r.entries.push(c),s(!0)))});o&&(s=Zr(e,r,fS,t.reportAllChanges))})},hS=[.1,.25],mS=(e,t={})=>{pS(Ia(()=>{var c;const n=ns("CLS",0);let r;const s=ts(),i=Ta(t,Ys),o=u=>{for(const l of u)i._processEntry(l);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=yr("layout-shift",o);a&&(r=Zr(e,n,hS,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),(c=W==null?void 0:W.setTimeout)==null||c.call(W,r))}))};let tf=0,qi=1/0,Ss=0;const gS=e=>{e.forEach(t=>{t.interactionId&&(qi=Math.min(qi,t.interactionId),Ss=Math.max(Ss,t.interactionId),tf=Ss?(Ss-qi)/7+1:0)})};let ko;const nf=()=>ko?tf:performance.interactionCount||0,yS=()=>{"interactionCount"in performance||ko||(ko=yr("event",gS,{type:"event",buffered:!0,durationThreshold:0}))},Vi=10;let rf=0;const _S=()=>nf()-rf;class Js{constructor(){Js.prototype.__init.call(this),Js.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){rf=nf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(_S()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Vi||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>Vi){const o=this._longestInteractionList.splice(Vi);for(const a of o)this._longestInteractionMap.delete(a.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const sf=e=>{var n;const t=W.requestIdleCallback||W.setTimeout;((n=W.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Ia(e),Kt("visibilitychange",e,{once:!0,capture:!0}),Kt("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),Ks("visibilitychange",e,{capture:!0}),Ks("pagehide",e,{capture:!0})}))},SS=[200,500],bS=40,ES=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=ts();mi(()=>{yS();const r=ns("INP");let s;const i=Ta(t,Js),o=c=>{sf(()=>{for(const l of c)i._processEntry(l);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=yr("event",o,{durationThreshold:t.durationThreshold??bS});s=Zr(e,r,SS,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class vS{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const xS=[2500,4e3],wS=(e,t={})=>{mi(()=>{const n=ts(),r=ns("LCP");let s;const i=Ta(t,vS),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-gr(),0),r.entries=[u],s())},a=yr("largest-contentful-paint",o);if(a){s=Zr(e,r,xS,t.reportAllChanges);const c=Ia(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=l=>{l.isTrusted&&(sf(c),Ks(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])Kt(l,u,{capture:!0})}})},TS=[800,1800],Ro=e=>{var t,n;(t=W.document)!=null&&t.prerendering?mi(()=>Ro(e)):((n=W.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Ro(e),!0):setTimeout(e)},IS=(e,t={})=>{const n=ns("TTFB"),r=Zr(e,n,TS,t.reportAllChanges);Ro(()=>{const s=es();s&&(n.value=Math.max(s.responseStart-gr(),0),n.entries=[s],r(!0))})},Ir={},Xs={};let of,af,cf,uf;function ka(e,t=!1){return gi("cls",e,RS,of,t)}function Ra(e,t=!1){return gi("lcp",e,CS,af,t)}function kS(e){return gi("ttfb",e,AS,cf)}function lf(e){return gi("inp",e,OS,uf)}function In(e,t){return df(e,t),Xs[e]||(PS(e),Xs[e]=!0),ff(e,t)}function rs(e,t){const n=Ir[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Tn&&C.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ct(r)}
Error:`,s)}}function RS(){return mS(e=>{rs("cls",{metric:e}),of=e},{reportAllChanges:!0})}function CS(){return wS(e=>{rs("lcp",{metric:e}),af=e},{reportAllChanges:!0})}function AS(){return IS(e=>{rs("ttfb",{metric:e}),cf=e})}function OS(){return ES(e=>{rs("inp",{metric:e}),uf=e})}function gi(e,t,n,r,s=!1){df(e,t);let i;return Xs[e]||(i=n(),Xs[e]=!0),r&&t({metric:r}),ff(e,t,s?i:void 0)}function PS(e){const t={};e==="event"&&(t.durationThreshold=0),yr(e,n=>{rs(e,{entries:n})},t)}function df(e,t){Ir[e]=Ir[e]||[],Ir[e].push(t)}function ff(e,t,n){return()=>{n&&n();const r=Ir[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function MS(e){return"duration"in e}const NS=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=W.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Kt("visibilitychange",t,{capture:!0,once:!0}),Kt("pagehide",t,{capture:!0,once:!0})};function Gi(e){return typeof e=="number"&&isFinite(e)}function Zt(e,t,n,{...r}){const s=se(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ha(e,()=>{const i=mr({startTime:t,...r});return i&&i.end(n),i})}function Ca(e){var y;const t=Z();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),l=u==null?void 0:u.getReplayId(),d=oe(),f=d.getUser(),m=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=d.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:m||void 0,profile_id:h||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":(y=W.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...s};return mr({name:n,attributes:g,startTime:i,experimental:{standalone:!0}})}function ss(){return W.addEventListener&&W.performance}function he(e){return e/1e3}function DS(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function pf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function hf(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}NS(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function LS(e){let t=0,n;if(!pf("layout-shift"))return;const r=ka(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);hf(e,(s,i)=>{FS(t,n,i,s),r()})}function FS(e,t,n,r){var u;Tn&&C.log(`Sending CLS span (${e})`);const s=t?he((qe()||0)+t.startTime):Te(),i=oe().getScopeData().transactionName,o=t?He((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[ve]:"auto.http.browser.cls",[Pt]:"ui.webvital.cls",[hr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((l,d)=>{a[`cls.source.${d+1}`]=He(l.node)});const c=Ca({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Jr]:"",[Xr]:e}),c.end(s))}function jS(e){let t=0,n;if(!pf("largest-contentful-paint"))return;const r=Ra(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);hf(e,(s,i)=>{BS(t,n,i,s),r()})}function BS(e,t,n,r){Tn&&C.log(`Sending LCP span (${e})`);const s=he((qe()||0)+((t==null?void 0:t.startTime)||0)),i=oe().getScopeData().transactionName,o=t?He(t.element):"Largest contentful paint",a={[ve]:"auto.http.browser.lcp",[Pt]:"ui.webvital.lcp",[hr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=He(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Ca({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Jr]:"millisecond",[Xr]:e}),c.end(s))}function Ye(e){return e&&((qe()||performance.timeOrigin)+e)/1e3}function mf(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=DS(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return qe()||(n=ss())!=null&&n.timeOrigin?US({...t,"http.request.redirect_start":Ye(e.redirectStart),"http.request.redirect_end":Ye(e.redirectEnd),"http.request.worker_start":Ye(e.workerStart),"http.request.fetch_start":Ye(e.fetchStart),"http.request.domain_lookup_start":Ye(e.domainLookupStart),"http.request.domain_lookup_end":Ye(e.domainLookupEnd),"http.request.connect_start":Ye(e.connectStart),"http.request.secure_connection_start":Ye(e.secureConnectionStart),"http.request.connection_end":Ye(e.connectEnd),"http.request.request_start":Ye(e.requestStart),"http.request.response_start":Ye(e.responseStart),"http.request.response_end":Ye(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function US(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const $S=2147483647;let uu=0,ct={},je,Fn;function HS({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ss();if(r&&qe()){r.mark&&W.performance.mark("sentry-tracing-init");const s=t?jS(n):GS(),i=KS(),o=e?LS(n):VS();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function zS(){In("longtask",({entries:e})=>{const t=Le();if(!t)return;const{op:n,start_timestamp:r}=se(t);for(const s of e){const i=he(qe()+s.startTime),o=he(s.duration);n==="navigation"&&r&&i<r||Zt(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ve]:"auto.ui.browser.metrics"}})}})}function WS(){new PerformanceObserver(t=>{const n=Le();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=he(qe()+r.startTime),{start_timestamp:i,op:o}=se(n);if(o==="navigation"&&i&&s<i)continue;const a=he(r.duration),c={[ve]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:f,sourceFunctionName:m,sourceCharPosition:h}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,f&&(c["code.filepath"]=f),m&&(c["code.function"]=m),h!==-1&&(c["browser.script.source_char_position"]=h),Zt(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function qS(){In("event",({entries:e})=>{const t=Le();if(t){for(const n of e)if(n.name==="click"){const r=he(qe()+n.startTime),s=he(n.duration),i={name:He(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ve]:"auto.ui.browser.metrics"}},o=Kl(n.target);o&&(i.attributes["ui.component_name"]=o),Zt(t,r,r+s,i)}}})}function VS(){return ka(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.cls={value:e.value,unit:""},Fn=t)},!0)}function GS(){return Ra(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ct.lcp={value:e.value,unit:"millisecond"},je=t)},!0)}function KS(){return kS(({metric:e})=>{e.entries[e.entries.length-1]&&(ct.ttfb={value:e.value,unit:"millisecond"})})}function YS(e,t){const n=ss(),r=qe();if(!(n!=null&&n.getEntries)||!r)return;const s=he(r),i=n.getEntries(),{op:o,start_timestamp:a}=se(e);i.slice(uu).forEach(c=>{const u=he(c.startTime),l=he(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{ZS(e,c,s);break}case"mark":case"paint":case"measure":{XS(e,c,u,l,s,t.ignorePerformanceApiSpans);const d=ts(),f=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&f&&(ct.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(ct.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{nb(e,c,c.name,u,l,s,t.ignoreResourceSpans);break}}}),uu=Math.max(i.length-1,0),rb(e),o==="pageload"&&(ob(ct),t.recordClsOnPageloadSpan||delete ct.cls,t.recordLcpOnPageloadSpan||delete ct.lcp,Object.entries(ct).forEach(([c,u])=>{Dg(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",gr()),sb(e,t)),je=void 0,Fn=void 0,ct={}}function JS(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function XS(e,t,n,r,s,i){if(JS(t)||["mark","measure"].includes(t.entryType)&&Tt(t.name,i))return;const o=es(!1),a=he(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,l=u+r,d={[ve]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),QS(d,t),c<=l&&Zt(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function QS(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Qn(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Qn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function ZS(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{bs(e,t,r,n)}),bs(e,t,"secureConnection",n,"TLS/SSL"),bs(e,t,"fetch",n,"cache"),bs(e,t,"domainLookup",n,"DNS"),tb(e,t,n)}function bs(e,t,n,r,s=n){const i=eb(n),o=t[i],a=t[`${n}Start`];!a||!o||Zt(e,r+he(a),r+he(o),{op:`browser.${s}`,name:t.name,attributes:{[ve]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function eb(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function tb(e,t,n){const r=n+he(t.requestStart),s=n+he(t.responseEnd),i=n+he(t.responseStart);t.responseEnd&&(Zt(e,r,s,{op:"browser.request",name:t.name,attributes:{[ve]:"auto.ui.browser.metrics"}}),Zt(e,i,s,{op:"browser.response",name:t.name,attributes:{[ve]:"auto.ui.browser.metrics"}}))}function nb(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const c={[ve]:"auto.resource.browser.metrics"},u=En(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(W.location.origin),ib(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...mf(t)},d=i+r,f=d+s;Zt(e,d,f,{name:n.replace(W.location.origin,""),op:a,attributes:l})}function rb(e){const t=W.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Gi(n.rtt)&&(ct["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Gi(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Gi(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function sb(e,t){je&&t.recordLcpOnPageloadSpan&&(je.element&&e.setAttribute("lcp.element",He(je.element)),je.id&&e.setAttribute("lcp.id",je.id),je.url&&e.setAttribute("lcp.url",je.url.trim().slice(0,200)),je.loadTime!=null&&e.setAttribute("lcp.loadTime",je.loadTime),je.renderTime!=null&&e.setAttribute("lcp.renderTime",je.renderTime),e.setAttribute("lcp.size",je.size)),Fn!=null&&Fn.sources&&t.recordClsOnPageloadSpan&&Fn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,He(n.node)))}function ib(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<$S||typeof i=="string")&&(t[s]=i)})}function ob(e){const t=es(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function ab(){return ss()&&qe()?In("element",cb):()=>{}}const cb=({entries:e})=>{const t=Le(),n=t?Ae(t):void 0,r=n?se(n).description:oe().getScopeData().transactionName;e.forEach(s=>{var m,h;const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,l]=c?[he(c),"load-time"]:a?[he(a),"render-time"]:[Te(),"entry-emission"],d=o==="image-paint"?he(Math.max(0,(a??0)-(c??0))):0,f={[ve]:"auto.ui.browser.elementtiming",[Pt]:"ui.elementtiming",[ut]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":i.id,"element.type":((h=(m=i.element)==null?void 0:m.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};$g({name:`element[${i.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},g=>{g.end(u+d)})})},ub=1e3;let lu,Co,Ao;function gf(e){const t="dom";en(t,e),tn(t,lb)}function lb(){if(!W.document)return;const e=Ze.bind(null,"dom"),t=du(e,!0);W.document.addEventListener("click",t,!1),W.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=W[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(Be(s,"addEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[c]=d[c]||{refCount:0};if(!f.handler){const m=du(e);f.handler=m,a.call(this,c,m,l)}f.refCount++}catch{}return a.call(this,c,u,l)}}),Be(s,"removeEventListener",function(a){return function(c,u,l){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[c];f&&(f.refCount--,f.refCount<=0&&(a.call(this,c,f.handler,l),f.handler=void 0,delete d[c]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,l)}}))})}function db(e){if(e.type!==Co)return!1;try{if(!e.target||e.target._sentryId!==Ao)return!1}catch{}return!0}function fb(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function du(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=pb(n);if(fb(n.type,r))return;ze(n,"_sentryCaptured",!0),r&&!r._sentryId&&ze(r,"_sentryId",Ge());const s=n.type==="keypress"?"input":n.type;db(n)||(e({event:n,name:s,global:t}),Co=n.type,Ao=r?r._sentryId:void 0),clearTimeout(lu),lu=W.setTimeout(()=>{Ao=void 0,Co=void 0},ub)}}function pb(e){try{return e.target}catch{return null}}let Es;function yi(e){const t="history";en(t,e),tn(t,hb)}function hb(){if(W.addEventListener("popstate",()=>{const t=W.location.href,n=Es;if(Es=t,n===t)return;Ze("history",{from:n,to:t})}),!L_())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Es,i=mb(String(r));if(Es=i,s===i)return t.apply(this,n);Ze("history",{from:s,to:i})}return t.apply(this,n)}}Be(W.history,"pushState",e),Be(W.history,"replaceState",e)}function mb(e){try{return new URL(e,W.location.origin).toString()}catch{return e}}const Ls={};function yf(e){const t=Ls[e];if(t)return t;let n=W[e];if(xo(n))return Ls[e]=n.bind(W);const r=W.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){Tn&&C.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Ls[e]=n.bind(W))}function gb(e){Ls[e]=void 0}function is(...e){return yf("setTimeout")(...e)}const un="__sentry_xhr_v3__";function _f(e){const t="xhr";en(t,e),tn(t,yb)}function yb(){if(!W.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=Te()*1e3,o=wt(r[0])?r[0].toUpperCase():void 0,a=_b(r[1]);if(!o||!a)return t.apply(n,r);n[un]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[un];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:Te()*1e3,startTimestamp:i,xhr:n,virtualError:s};Ze("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[f,m]=d,h=l[un];return h&&wt(f)&&wt(m)&&(h.request_headers[f.toLowerCase()]=m),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[un];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:Te()*1e3,xhr:n};return Ze("xhr",i),t.apply(n,r)}})}function _b(e){if(wt(e))return e;try{return e.toString()}catch{}}const Sb=Symbol.for("sentry__originalRequestBody");function Sf(e){return new URLSearchParams(e).toString()}function bf(e,t=C){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Sf(e)];if(!e)return[void 0]}catch(n){return Tn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Tn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ef(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][Sb];return n!==void 0?n:void 0}}function vf(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return Tn&&C.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const Ki=[],Fs=new Map,Mn=new Map,bb=60;function Eb(){if(ss()&&qe()){const t=vb();return()=>{t()}}return()=>{}}const Oo={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function vb(){return lf(xb)}const xb=({metric:e})=>{if(e.value==null)return;const t=he(e.value);if(t>bb)return;const n=e.entries.find(h=>h.duration===e.value&&Oo[h.name]);if(!n)return;const{interactionId:r}=n,s=Oo[n.name],i=he(qe()+n.startTime),o=Le(),a=o?Ae(o):void 0,c=r!=null?Fs.get(r):void 0,u=(c==null?void 0:c.span)||a,l=u?se(u).description:oe().getScopeData().transactionName,d=(c==null?void 0:c.elementName)||He(n.target),f={[ve]:"auto.http.browser.inp",[Pt]:`ui.interaction.${s}`,[hr]:n.duration},m=Ca({name:d,transaction:l,attributes:f,startTime:i});m&&(m.addEvent("inp",{[Jr]:"millisecond",[Xr]:e.value}),m.end(i+t))};function wb(){const e=Object.keys(Oo);wo()&&e.forEach(s=>{W.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=He(i),a=Math.round(s.timeStamp);if(Mn.set(a,o),Mn.size>50){const c=Mn.keys().next().value;c!==void 0&&Mn.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=Mn.get(i);if(!o)for(let a=-5;a<=5;a++){const c=Mn.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=Le(),o=i&&Ae(i);s.forEach(a=>{if(!MS(a))return;const c=a.interactionId;if(c==null||Fs.has(c))return;const u=a.target?He(a.target):n(a);if(Ki.length>10){const l=Ki.shift();Fs.delete(l)}Ki.push(c),Fs.set(c,{span:o,elementName:u})})};In("event",r),In("first-input",r)}const Tb=40;function Ib(e,t=yf("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw gb("fetch"),c}finally{n-=o,r--}}return Ny(e,s,_a(e.bufferSize||Tb))}const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,kb=30,Rb=50;function Po(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?xn:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Cb=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ab=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ob=/\((\S*)(?::(\d+))(?::(\d+))\)/,Pb=/at (.+?) ?\(data:(.+?),/,Mb=e=>{const t=e.match(Pb);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Cb.exec(e);if(n){const[,s,i,o]=n;return Po(s,xn,+i,+o)}const r=Ab.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Ob.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=xf(r[1]||xn,r[2]);return Po(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Nb=[kb,Mb],Db=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Lb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Fb=e=>{const t=Db.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Lb.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||xn;return[s,r]=xf(s,r),Po(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},jb=[Rb,Fb],Bb=[Nb,jb],Ub=$l(...Bb),xf=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:xn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vs=1024,$b="Breadcrumbs",Hb=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:$b,setup(n){t.console&&S_(Vb(n)),t.dom&&gf(qb(n,t.dom)),t.xhr&&_f(Gb(n)),t.fetch&&Jd(Kb(n)),t.history&&yi(Yb(n)),t.sentry&&n.on("beforeSendEvent",Wb(n))}}},zb=Hb;function Wb(e){return function(n){Z()===e&&Qt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:cn(n)},{event:n})}}function qb(e,t){return function(r){if(Z()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>vs&&(We&&C.warn(`\`dom.maxStringLength\` cannot exceed ${vs}, but a value of ${a} was configured. Sentry will use ${vs} instead.`),a=vs),typeof o=="string"&&(o=[o]);try{const u=r.event,l=Jb(u)?u.target:u;s=He(l,{keyAttrs:o,maxStringLength:a}),i=Kl(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Qt(c,{event:r.event,name:r.name,global:r.global})}}function Vb(e){return function(n){if(Z()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Vd(n.level),message:Ec(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ec(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Qt(r,{input:n.args,level:n.level})}}function Gb(e){return function(n){if(Z()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[un];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:l,type:"http",level:Yd(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),Qt(f,d)}}function Kb(e){return function(n){if(Z()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Qt(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:Yd(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Qt(c,a)}}}function Yb(e){return function(n){if(Z()!==e)return;let r=n.from,s=n.to;const i=En(X.location.href);let o=r?En(r):void 0;const a=En(s);o!=null&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Qt({category:"navigation",data:{from:r,to:s}})}}function Jb(e){return!!e&&!!e.target}const Xb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qb="BrowserApiErrors",Zb=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Qb,setupOnce(){t.setTimeout&&Be(X,"setTimeout",fu),t.setInterval&&Be(X,"setInterval",fu),t.requestAnimationFrame&&Be(X,"requestAnimationFrame",tE),t.XMLHttpRequest&&"XMLHttpRequest"in X&&Be(XMLHttpRequest.prototype,"send",nE);const n=t.eventTarget;n&&(Array.isArray(n)?n:Xb).forEach(s=>rE(s,t))}}},eE=Zb;function fu(e){return function(...t){const n=t[0];return t[0]=rr(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ct(e)}`}}),e.apply(this,t)}}function tE(e){return function(t){return e.apply(this,[rr(t,{mechanism:{data:{handler:Ct(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function nE(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Be(n,s,function(i){const o={mechanism:{data:{handler:Ct(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=oa(i);return a&&(o.mechanism.data.handler=Ct(a)),rr(i,o)})}),e.apply(this,t)}}function rE(e,t){var s,i;const r=(s=X[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(Be(r,"addEventListener",function(o){return function(a,c,u){try{sE(c)&&(c.handleEvent=rr(c.handleEvent,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&iE(this,a,c),o.apply(this,[a,rr(c,{mechanism:{data:{handler:Ct(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),Be(r,"removeEventListener",function(o){return function(a,c,u){try{const l=c.__sentry_wrapped__;l&&o.call(this,a,l,u)}catch{}return o.call(this,a,c,u)}}))}function sE(e){return typeof e.handleEvent=="function"}function iE(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const oE=(e={})=>{const t=e.lifecycle??"route";return{name:"BrowserSession",setupOnce(){if(typeof X.document>"u"){We&&C.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Hc({ignoreDuration:!0}),zc(),t==="route"&&yi(({from:n,to:r})=>{n!==void 0&&n!==r&&(Hc({ignoreDuration:!0}),zc())})}}},aE="CultureContext",cE=()=>({name:aE,preprocessEvent(e){var n;const t=lE();t&&(e.contexts={...e.contexts,culture:{...t,...(n=e.contexts)==null?void 0:n.culture}})}}),uE=cE;function lE(){try{const e=X.Intl;if(!e)return;const t=e.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone,calendar:t.calendar}}catch{return}}const dE="GlobalHandlers",fE=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:dE,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(hE(n),pu("onerror")),t.onunhandledrejection&&(mE(n),pu("onunhandledrejection"))}}},pE=fE;function hE(e){zl(t=>{const{stackParser:n,attachStacktrace:r}=wf();if(Z()!==e||Qd())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=_E(wa(n,c||s,void 0,r,!1),i,o,a);u.level="error",wd(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function mE(e){Wl(t=>{const{stackParser:n,attachStacktrace:r}=wf();if(Z()!==e||Qd())return;const s=gE(t),i=Qn(s)?yE(s):wa(n,s,void 0,r,!0);i.level="error",wd(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function gE(e){if(Qn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function yE(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function _E(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=SE(t)??dr();return c.length===0&&c.push({colno:u,filename:d,function:xn,in_app:!0,lineno:l}),e}function pu(e){We&&C.log(`Global Handler attached: ${e}`)}function wf(){const e=Z();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function SE(e){if(!(!wt(e)||e.length===0))return e.startsWith("data:")?`<${Gt(e,!1)}>`:e}const bE=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!X.navigator&&!X.location&&!X.document)return;const t=Ea(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),EE="cause",vE=5,xE="LinkedErrors",wE=(e={})=>{const t=e.limit||vE,n=e.key||EE;return{name:xE,preprocessEvent(r,s,i){const o=i.getOptions();__(va,o.stackParser,n,t,r,s)}}},TE=wE;function IE(){return kE()?(We&&Cn(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function kE(){var i;if(typeof X.window>"u")return!1;const e=X;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=dr(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(X===X.top&&r.some(o=>n.startsWith(`${o}://`)))}function RE(e){return[l_(),o_(),C_(),eE(),zb(),pE(),TE(),x_(),bE(),uE(),oE()]}function CE(e={}){const t=!e.skipBrowserExtensionCheck&&IE();let n=e.defaultIntegrations==null?RE():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:dm(e.stackParser||Ub),integrations:xy({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||Ib};return qy(oS,r)}function hu(e={}){const t=X.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){We&&C.error("[showReportDialog] Global document not defined");return}const r=oe(),s=Z(),i=s==null?void 0:s.getDsn();if(!i){We&&C.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||hy()},a=X.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Ey(i,o);const{onLoad:c,onClose:u}=o;if(c&&(a.onload=c),u){const l=d=>{if(d.data==="__sentry_reportdialog_closed__")try{u()}finally{X.removeEventListener("message",l)}};X.addEventListener("message",l)}n.appendChild(a)}const le=ee,Aa="sentryReplaySession",AE="replay_event",Oa="Unable to send Replay",OE=3e5,PE=9e5,ME=5e3,NE=5500,DE=6e4,LE=5e3,FE=3,mu=15e4,xs=5e3,jE=3e3,BE=300,Pa=2e7,UE=4999,$E=5e4,gu=36e5;var HE=Object.defineProperty,zE=(e,t,n)=>t in e?HE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yu=(e,t,n)=>zE(e,typeof t!="symbol"?t+"":t,n),be=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(be||{});function WE(e){return e.nodeType===e.ELEMENT_NODE}function kr(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Rr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function qE(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function VE(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Qs(e){try{const t=e.rules||e.cssRules;return t?qE(Array.from(t,Tf).join("")):null}catch{return null}}function GE(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Tf(e){let t;if(YE(e))try{t=Qs(e.styleSheet)||VE(e)}catch{}else if(JE(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=GE(e)),r&&(n=KE(n)),r||s)return n}return t||e.cssText}function KE(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function YE(e){return"styleSheet"in e}function JE(e){return"selectorText"in e}class If{constructor(){yu(this,"idNodeMap",new Map),yu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function XE(){return new If}function _i({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Lr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function sr(e){return e.toLowerCase()}function Mo(e){return e.toUpperCase()}const _u="__rrweb_original__";function QE(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=_u in i?i[_u]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Ma(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?sr(t):null}function Zs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function kf(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const Su={};function Rf(e){const t=Su[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Su[e]=r.bind(window)}function No(...e){return Rf("setTimeout")(...e)}function Cf(...e){return Rf("clearTimeout")(...e)}function Af(e){try{return e.contentDocument}catch{}}let ZE=1;const ev=new RegExp("[^a-z0-9-_:]"),Fr=-2;function Na(){return ZE++}function tv(e){if(e instanceof HTMLFormElement)return"form";const t=sr(e.tagName);return ev.test(t)?"div":t}function nv(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Nn,bu;const rv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sv=/^(?:[a-z+]+:)?\/\//i,iv=/^www\..*/i,ov=/^(data:)([^,]*),(.*)/i;function av(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function ei(e,t){return(e||"").replace(rv,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(sv.test(c)||iv.test(c))return`url(${u}${c}${u})`;if(ov.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${nv(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const cv=/^[^ \t\n\r\u000c]+/,uv=/^[, \t\n\r\u000c]+/;function lv(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(uv),!(n>=t.length);){let i=r(cv);if(i.slice(-1)===",")i=jn(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=jn(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}const Eu=new WeakMap;function jn(e,t){return!t||t.trim()===""?t:Si(e,t)}function dv(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Si(e,t){let n=Eu.get(e);if(n||(n=e.createElement("a"),Eu.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Of(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return jn(e,r);if(n==="xlink:href"&&r[0]!=="#")return jn(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return jn(e,r);if(n==="srcset")return lv(e,r);if(n==="style"){let a=ei(r,Si(e));return o&&o.size>0&&(a=av(a,o)),a}else if(t==="object"&&n==="data")return jn(e,r);return typeof i=="function"?i(n,r,s):r}function Pf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function fv(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function pv(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ln(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ln(e.parentNode,t,n,r+1)}function Bn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(pv(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function ir(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=ln(o,Bn(r,s)),c<0)return!0;a=ln(o,Bn(t,n),c>=0?c:1/0)}else{if(a=ln(o,Bn(t,n)),a<0)return!1;c=ln(o,Bn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function hv(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=No(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Cf(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return No(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function mv(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=No(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Cf(i),r=!0,t()})}function gv(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:y,dataURLOptions:S={},inlineImages:k,recordCanvas:I,keepIframeSrcFn:_,newlyAddedElement:A=!1,ignoreCSSAttributes:M}=t,E=yv(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:be.Document,childNodes:[],compatMode:e.compatMode}:{type:be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return Sv(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:m,maskAttributeFn:c,maskInputOptions:h,maskInputFn:y,dataURLOptions:S,inlineImages:k,recordCanvas:I,keepIframeSrcFn:_,newlyAddedElement:A,rootId:E,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:M});case e.TEXT_NODE:return _v(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:y,rootId:E});case e.CDATA_SECTION_NODE:return{type:be.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:be.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function yv(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function _v(e,t){var S;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const m=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,g=d==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||(S=e.parentNode.sheet)!=null&&S.cssRules&&(f=Qs(e.parentNode.sheet))}catch(k){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${k}`,e)}f=ei(f,Si(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const y=ir(e,r,i,s,o,n);if(!m&&!h&&!g&&f&&y&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const k=_i({type:null,tagName:d,maskInputOptions:c});f=Lr({isMasked:ir(e,r,i,s,o,k),element:e,value:f,maskInputFn:u})}return{type:be.Text,textContent:f||"",isStyle:m,rootId:l}}function Sv(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskTextClass:y,unmaskTextClass:S,maskTextSelector:k,unmaskTextSelector:I,ignoreCSSAttributes:_}=t,A=fv(e,r,s,i),M=tv(e);let E={};const R=e.attributes.length;for(let P=0;P<R;P++){const w=e.attributes[P];w.name&&!Pf(M,w.name,w.value)&&(E[w.name]=Of(n,M,sr(w.name),w.value,e,c,_))}if(M==="link"&&o){const P=Array.from(n.styleSheets).find(B=>B.href===e.href);let w=null;P&&(w=Qs(P)),w&&(E.rel=null,E.href=null,E.crossorigin=null,E._cssText=ei(w,P.href))}if(M==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const P=Qs(e.sheet);P&&(E._cssText=ei(P,Si(n)))}if(M==="input"||M==="textarea"||M==="select"||M==="option"){const P=e,w=Ma(P),B=Zs(P,Mo(M),w),U=P.checked;if(w!=="submit"&&w!=="button"&&B){const D=ir(P,y,k,S,I,_i({type:w,tagName:Mo(M),maskInputOptions:a}));E.value=Lr({isMasked:D,element:P,value:B,maskInputFn:u})}U&&(E.checked=U)}if(M==="option"&&(e.selected&&!a.select?E.selected=!0:delete E.selected),M==="canvas"&&f){if(e.__context==="2d")QE(e)||(E.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const P=e.toDataURL(l.type,l.quality),w=n.createElement("canvas");w.width=e.width,w.height=e.height;const B=w.toDataURL(l.type,l.quality);P!==B&&(E.rr_dataURL=P)}}if(M==="img"&&d){Nn||(Nn=n.createElement("canvas"),bu=Nn.getContext("2d"));const P=e,w=P.currentSrc||P.getAttribute("src")||"<unknown-src>",B=P.crossOrigin,U=()=>{P.removeEventListener("load",U);try{Nn.width=P.naturalWidth,Nn.height=P.naturalHeight,bu.drawImage(P,0,0),E.rr_dataURL=Nn.toDataURL(l.type,l.quality)}catch(D){if(P.crossOrigin!=="anonymous"){P.crossOrigin="anonymous",P.complete&&P.naturalWidth!==0?U():P.addEventListener("load",U);return}else console.warn(`Cannot inline img src=${w}! Error: ${D}`)}P.crossOrigin==="anonymous"&&(B?E.crossOrigin=B:P.removeAttribute("crossorigin"))};P.complete&&P.naturalWidth!==0?U():P.addEventListener("load",U)}if((M==="audio"||M==="video")&&(E.rr_mediaState=e.paused?"paused":"played",E.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(E.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(E.rr_scrollTop=e.scrollTop)),A){const{width:P,height:w}=e.getBoundingClientRect();E={class:E.class,rr_width:`${P}px`,rr_height:`${w}px`}}M==="iframe"&&!m(E.src)&&(!A&&!Af(e)&&(E.rr_src=E.src),delete E.src);let F;try{customElements.get(M)&&(F=!0)}catch{}return{type:be.Element,tagName:M,attributes:E,childNodes:[],isSVG:dv(e)||void 0,needBlock:A,rootId:g,isCustom:F}}function ue(e){return e==null?"":e.toLowerCase()}function bv(e,t){if(t.comment&&e.type===be.Comment)return!0;if(e.type===be.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&kf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ue(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ue(e.attributes.name)==="application-name"||ue(e.attributes.rel)==="icon"||ue(e.attributes.rel)==="apple-touch-icon"||ue(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ue(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ue(e.attributes.property).match(/^(og|twitter|fb):/)||ue(e.attributes.name).match(/^(og|twitter):/)||ue(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ue(e.attributes.name)==="robots"||ue(e.attributes.name)==="googlebot"||ue(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ue(e.attributes.name)==="author"||ue(e.attributes.name)==="generator"||ue(e.attributes.name)==="framework"||ue(e.attributes.name)==="publisher"||ue(e.attributes.name)==="progid"||ue(e.attributes.property).match(/^article:/)||ue(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ue(e.attributes.name)==="google-site-verification"||ue(e.attributes.name)==="yandex-verification"||ue(e.attributes.name)==="csrf-token"||ue(e.attributes.name)==="p:domain_verify"||ue(e.attributes.name)==="verify-v1"||ue(e.attributes.name)==="verification"||ue(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Un(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:k,dataURLOptions:I={},inlineImages:_=!1,recordCanvas:A=!1,onSerialize:M,onIframeLoad:E,iframeLoadTimeout:R=5e3,onBlockedImageLoad:F,onStylesheetLoad:P,stylesheetLoadTimeout:w=5e3,keepIframeSrcFn:B=()=>!1,newlyAddedElement:U=!1,ignoreCSSAttributes:D}=t;let{preserveWhiteSpace:de=!0}=t;const j=gv(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,dataURLOptions:I,inlineImages:_,recordCanvas:A,keepIframeSrcFn:B,newlyAddedElement:U,ignoreCSSAttributes:D});if(!j)return console.warn(e,"not serialized"),null;let Q;r.hasNode(e)?Q=r.getId(e):bv(j,k)||!de&&j.type===be.Text&&!j.isStyle&&!j.textContent.replace(/^\s+|\s+$/gm,"").length?Q=Fr:Q=Na();const O=Object.assign(j,{id:Q});if(r.add(e,O),Q===Fr)return null;M&&M(e);let K=!f;if(O.type===be.Element){K=K&&!O.needBlock;const N=e.shadowRoot;N&&Rr(N)&&(O.isShadowHost=!0)}if((O.type===be.Document||O.type===be.Element)&&K){k.headWhitespace&&O.type===be.Element&&O.tagName==="head"&&(de=!1);const N={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:k,dataURLOptions:I,inlineImages:_,recordCanvas:A,preserveWhiteSpace:de,onSerialize:M,onIframeLoad:E,iframeLoadTimeout:R,onBlockedImageLoad:F,onStylesheetLoad:P,stylesheetLoadTimeout:w,keepIframeSrcFn:B,ignoreCSSAttributes:D},G=e.childNodes?Array.from(e.childNodes):[];for(const Y of G){const ae=Un(Y,N);ae&&O.childNodes.push(ae)}if(WE(e)&&e.shadowRoot)for(const Y of Array.from(e.shadowRoot.childNodes)){const ae=Un(Y,N);ae&&(Rr(e.shadowRoot)&&(ae.isShadow=!0),O.childNodes.push(ae))}}if(e.parentNode&&kr(e.parentNode)&&Rr(e.parentNode)&&(O.isShadow=!0),O.type===be.Element&&O.tagName==="iframe"&&!O.needBlock&&hv(e,()=>{const N=Af(e);if(N&&E){const G=Un(N,{doc:N,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:k,dataURLOptions:I,inlineImages:_,recordCanvas:A,preserveWhiteSpace:de,onSerialize:M,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:P,stylesheetLoadTimeout:w,keepIframeSrcFn:B,ignoreCSSAttributes:D});G&&E(e,G)}},R),O.type===be.Element&&O.tagName==="img"&&!e.complete&&O.needBlock){const N=e,G=()=>{if(N.isConnected&&!N.complete&&F)try{const Y=N.getBoundingClientRect();Y.width>0&&Y.height>0&&F(N,O,Y)}catch{}N.removeEventListener("load",G)};N.isConnected&&N.addEventListener("load",G)}return O.type===be.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&kf(O.attributes.href)==="css")&&mv(e,()=>{if(P){const N=Un(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:k,dataURLOptions:I,inlineImages:_,recordCanvas:A,preserveWhiteSpace:de,onSerialize:M,onIframeLoad:E,iframeLoadTimeout:R,onStylesheetLoad:P,stylesheetLoadTimeout:w,keepIframeSrcFn:B,ignoreCSSAttributes:D});N&&P(e,N)}},w),O.type===be.Element&&delete O.needBlock,O}function Ev(e,t){const{mirror:n=new If,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOM:k=!1,dataURLOptions:I,preserveWhiteSpace:_,onSerialize:A,onIframeLoad:M,iframeLoadTimeout:E,onBlockedImageLoad:R,onStylesheetLoad:F,stylesheetLoadTimeout:P,keepIframeSrcFn:w=()=>!1,ignoreCSSAttributes:B=new Set([])}=t||{};return Un(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:y,maskInputFn:S,slimDOMOptions:k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:k==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:k===!1?{}:k,dataURLOptions:I,inlineImages:f,recordCanvas:m,preserveWhiteSpace:_,onSerialize:A,onIframeLoad:M,iframeLoadTimeout:E,onBlockedImageLoad:R,onStylesheetLoad:F,stylesheetLoadTimeout:P,keepIframeSrcFn:w,newlyAddedElement:!1,ignoreCSSAttributes:B})}function De(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Dn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let vu={map:{},getId(){return console.error(Dn),-1},getNode(){return console.error(Dn),null},removeNodeFromMap(){console.error(Dn)},has(){return console.error(Dn),!1},reset(){console.error(Dn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(vu=new Proxy(vu,{get(e,t,n){return t==="map"&&console.error(Dn),Reflect.get(e,t,n)}}));function jr(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(Rv(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=bi(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function Mf(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){bi(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Mf(e,t,i||{},!0)}function Da(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let ti=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ti=()=>new Date().getTime());function Nf(e){var n,r,s,i,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Df(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Lf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ff(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Ve(e,t,n,r,s){if(!e)return!1;const i=Ff(e);if(!i)return!1;const o=Bn(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=ln(i,o);let c=-1;return a<0?!1:(r&&(c=ln(i,Bn(null,r))),a>-1&&c<0?!0:a<c)}function vv(e,t){return t.getId(e)!==-1}function Yi(e,t){return t.getId(e)===Fr}function jf(e,t){if(kr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?jf(e.parentNode,t):!0:!0}function Do(e){return!!e.changedTouches}function xv(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Bf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Uf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Lo(e){return!!(e!=null&&e.shadowRoot)}class wv{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function $f(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Tv(e){let t=e,n;for(;n=$f(t);)t=n;return t}function Iv(e){const t=e.ownerDocument;if(!t)return!1;const n=Tv(e);return t.contains(n)}function Hf(e){const t=e.ownerDocument;return t?t.contains(e)||Iv(e):!1}const xu={};function La(e){const t=xu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return xu[e]=r.bind(window)}function kv(...e){return La("requestAnimationFrame")(...e)}function bi(...e){return La("setTimeout")(...e)}function Rv(...e){return La("clearTimeout")(...e)}var J=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(J||{}),V=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(V||{}),Me=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Me||{}),vt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(vt||{}),Ln=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Ln||{});function Fa(e){try{return e.contentDocument}catch{}}function Cv(e){try{return e.contentWindow}catch{}}function wu(e){return"__ln"in e}class Av{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&wu(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&wu(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Tu=(e,t)=>`${e}@${t}`;class Ov{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Av,s=c=>{let u=c,l=Fr;for(;l===Fr;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!Hf(c))return;const u=kr(c.parentNode)?this.mirror.getId($f(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Un(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Bf(f,this.mirror)&&!Ve(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Uf(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Lo(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,m)=>{Ve(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,m),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,m)=>{this.stylesheetManager.attachLinkElement(f,m)},onBlockedImageLoad:(f,m,{width:h,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:m.id,attributes:{style:{width:`${h}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Iu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!ku(this.droppedSet,c)&&!Iu(this.removes,c,this.mirror)||ku(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const m=l.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=m.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Yi(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:ir(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Ff(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=Ma(n),a=n.tagName;s=Zs(n,a,o);const c=_i({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=ir(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Lr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Fa(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Pf(n.tagName,r)&&(i.attributes[r]=Of(this.doc,sr(n.tagName),sr(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(Ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=kr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ve(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Yi(n,this.mirror)||!vv(n,this.mirror)||(this.addedSet.has(n)?(Fo(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||jf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Tu(r,s)]?Fo(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:kr(t.target)&&Rr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Yi(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Tu(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ve(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Lo(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Fo(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Fo(e,r))}function Iu(e,t,n){return e.length===0?!1:Pv(e,t,n)}function Pv(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function ku(e,t){return e.size===0?!1:zf(e,t)}function zf(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:zf(e,n):!1}let Cr;function Mv(e){Cr=e}function Nv(){Cr=void 0}const re=e=>Cr?(...n)=>{try{return e(...n)}catch(r){if(Cr&&Cr(r)===!0)return()=>{};throw r}}:e,$n=[];function os(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Wf(e,t){var o,a;const n=new Ov;$n.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(re(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Dv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=jr(re(d=>{const f=Date.now()-a;e(o.map(m=>(m.timeOffset-=f,m)),d),o=[],a=null}),i),u=re(jr(re(d=>{const f=os(d),{clientX:m,clientY:h}=Do(d)?d.changedTouches[0]:d;a||(a=ti()),o.push({x:m,y:h,id:r.getId(f),timeOffset:ti()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?V.Drag:d instanceof MouseEvent?V.MouseMove:V.TouchMove)}),s,{trailing:!1})),l=[De("mousemove",u,n),De("touchmove",u,n),De("drag",u,n)];return re(()=>{l.forEach(d=>d())})}function Lv({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const m=os(f);if(Ve(m,r,s,i,!0))return;let h=null,g=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=vt.Mouse;break;case"touch":h=vt.Touch;break;case"pen":h=vt.Pen;break}h===vt.Touch?Me[d]===Me.MouseDown?g="TouchStart":Me[d]===Me.MouseUp&&(g="TouchEnd"):vt.Pen}else Do(f)&&(h=vt.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===vt.Touch||g.startsWith("Mouse")&&h===vt.Mouse)&&(h=null)):Me[d]===Me.Click&&(h=u,u=null);const y=Do(f)?f.changedTouches[0]:f;if(!y)return;const S=n.getId(m),{clientX:k,clientY:I}=y;re(e)({type:Me[g],id:S,x:k,y:I,...h!==null&&{pointerType:h}})};return Object.keys(Me).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=sr(d);const m=l(d);if(window.PointerEvent)switch(Me[d]){case Me.MouseDown:case Me.MouseUp:f=f.replace("mouse","pointer");break;case Me.TouchStart:case Me.TouchEnd:return}c.push(De(f,m,t))}),re(()=>{c.forEach(d=>d())})}function qf({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=re(jr(re(c=>{const u=os(c);if(!u||Ve(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=Nf(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return De("scroll",a,t)}function Fv({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=re(jr(re(()=>{const i=Df(),o=Lf();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return De("resize",s,t)}const jv=["INPUT","TEXTAREA","SELECT"],Ru=new WeakMap;function Bv({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function y(E){let R=os(E);const F=E.isTrusted,P=R&&Mo(R.tagName);if(P==="OPTION"&&(R=R.parentElement),!R||!P||jv.indexOf(P)<0||Ve(R,r,s,i,!0))return;const w=R;if(w.classList.contains(o)||a&&w.matches(a))return;const B=Ma(R);let U=Zs(w,P,B),D=!1;const de=_i({maskInputOptions:c,tagName:P,type:B}),j=ir(R,f,h,m,g,de);(B==="radio"||B==="checkbox")&&(D=R.checked),U=Lr({isMasked:j,element:R,value:U,maskInputFn:u}),S(R,d?{text:U,isChecked:D,userTriggered:F}:{text:U,isChecked:D});const Q=R.name;B==="radio"&&Q&&D&&t.querySelectorAll(`input[type="radio"][name="${Q}"]`).forEach(O=>{if(O!==R){const K=Lr({isMasked:j,element:O,value:Zs(O,P,B),maskInputFn:u});S(O,d?{text:K,isChecked:!D,userTriggered:!1}:{text:K,isChecked:!D})}})}function S(E,R){const F=Ru.get(E);if(!F||F.text!==R.text||F.isChecked!==R.isChecked){Ru.set(E,R);const P=n.getId(E);re(e)({...R,id:P})}}const I=(l.input==="last"?["change"]:["input","change"]).map(E=>De(E,re(y),t)),_=t.defaultView;if(!_)return()=>{I.forEach(E=>E())};const A=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),M=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return A&&A.set&&I.push(...M.map(E=>Mf(E[0],E[1],{set(){re(y)({target:this,isTrusted:!1})}},!1,_))),re(()=>{I.forEach(E=>E())})}function ni(e){const t=[];function n(r,s){if(ws("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ws("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ws("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ws("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Ft(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Uv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:re((l,d,f)=>{const[m,h]=f,{id:g,styleId:y}=Ft(d,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:m,index:h}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:re((l,d,f)=>{const[m]=f,{id:h,styleId:g}=Ft(d,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),l.apply(d,f)})}));const c={};Ts("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ts("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ts("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ts("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:re((f,m,h)=>{const[g,y]=h,{id:S,styleId:k}=Ft(m.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||k&&k!==-1)&&e({id:S,styleId:k,adds:[{rule:g,index:[...ni(m),y||0]}]}),f.apply(m,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:re((f,m,h)=>{const[g]=h,{id:y,styleId:S}=Ft(m.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,removes:[{index:[...ni(m),g]}]}),f.apply(m,h)})})}),re(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function Vf({mirror:e,stylesheetManager:t},n){var o,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var u;return(u=i.get)==null?void 0:u.call(this)},set(u){var d;const l=(d=i.set)==null?void 0:d.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return l}}),re(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function $v({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:re((a,c,u)=>{var g;const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:m,styleId:h}=Ft((g=c.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:l,value:d,priority:f},index:ni(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:re((a,c,u)=>{var m;const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=Ft((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:ni(c.parentRule)}),a.apply(c,u)})}),re(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Hv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=re(u=>jr(re(l=>{const d=os(l);if(!d||Ve(d,t,n,r,!0))return;const{currentTime:f,volume:m,muted:h,playbackRate:g}=d;e({type:u,id:s.getId(d),currentTime:f,volume:m,muted:h,playbackRate:g})}),i.media||500)),c=[De("play",a(Ln.Play),o),De("pause",a(Ln.Pause),o),De("seeked",a(Ln.Seeked),o),De("volumechange",a(Ln.VolumeChange),o),De("ratechange",a(Ln.RateChange),o)];return re(()=>{c.forEach(u=>u())})}function zv({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Da(t.fonts,"add",function(a){return function(c){return bi(re(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),re(()=>{r.forEach(a=>a())})}function Wv(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=re(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const m=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:y,endOffset:S}=m;Ve(h,r,s,i,!0)||Ve(y,r,s,i,!0)||l.push({start:n.getId(h),startOffset:g,end:n.getId(y),endOffset:S})}o({ranges:l})});return c(),De("selectionchange",c)}function qv({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Da(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function Vv(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Wf(e,e.doc));const s=Dv(e),i=Lv(e),o=qf(e),a=Fv(e,{win:n}),c=Bv(e),u=Hv(e);let l=()=>{},d=()=>{},f=()=>{},m=()=>{};e.recordDOM&&(l=Uv(e,{win:n}),d=Vf(e,e.doc),f=$v(e,{win:n}),e.collectFonts&&(m=zv(e)));const h=Wv(e),g=qv(e),y=[];for(const S of e.plugins)y.push(S.observer(S.callback,n,S.options));return re(()=>{$n.forEach(S=>S.reset()),r==null||r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),m(),h(),g(),y.forEach(S=>S())})}function ws(e){return typeof window[e]<"u"}function Ts(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class jo{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Gv{constructor(){this.crossOriginIframeMirror=new jo(Na),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Kv{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new jo(Na),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new jo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=Fa(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case J.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:J.IncrementalSnapshot,data:{source:V.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case J.Meta:case J.Load:case J.DomContentLoaded:return!1;case J.Plugin:return n;case J.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case J.IncrementalSnapshot:switch(n.data.source){case V.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case V.Drag:case V.TouchMove:case V.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case V.ViewportResize:return!1;case V.MediaInteraction:case V.MouseInteraction:case V.Scroll:case V.CanvasMutation:case V.Input:return this.replaceIds(n.data,t,["id"]),n;case V.StyleSheetRule:case V.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case V.Font:return n;case V.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case V.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==be.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Yv{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Jv{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Rr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Wf({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(qf({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),bi(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Vf({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Fa(t),r=Cv(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Da(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Hf(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Is=0;Is<Cu.length;Is++)Xv[Cu.charCodeAt(Is)]=Is;class Au{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Qv{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new wv,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Tf(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Zv{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,kv(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let fe,ri;var Cl;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Cl=e.contentWindow)==null?void 0:Cl.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const rt=XE();function kt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:S,maskAttributeFn:k,maskInputFn:I,maskTextFn:_,maxCanvasSize:A=null,packFn:M,sampling:E={},dataURLOptions:R={},mousemoveWait:F,recordDOM:P=!0,recordCanvas:w=!1,recordCrossOriginIframes:B=!1,recordAfter:U=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:D=!1,collectFonts:de=!1,inlineImages:j=!1,plugins:Q,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:N,onMutation:G,getCanvasManager:Y}=e;Mv(N);const ae=B?window.parent===window:!0;let me=!1;if(!ae)try{window.parent.document&&(me=!1)}catch{me=!0}if(ae&&!t)throw new Error("emit function is required");if(!ae&&!me)return()=>{};F!==void 0&&E.mousemove===void 0&&(E.mousemove=F),rt.reset();const ge=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},St=S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:S==="all",headMetaDescKeywords:S==="all"}:S||{};xv();let tt,ft=0;const ps=ie=>{for(const nt of Q||[])nt.eventProcessor&&(ie=nt.eventProcessor(ie));return M&&!me&&(ie=M(ie)),ie};fe=(ie,nt)=>{var Fe;const te=ie;if(te.timestamp=ti(),(Fe=$n[0])!=null&&Fe.isFrozen()&&te.type!==J.FullSnapshot&&!(te.type===J.IncrementalSnapshot&&te.data.source===V.Mutation)&&$n.forEach(Ke=>Ke.unfreeze()),ae)t==null||t(ps(te),nt);else if(me){const Ke={type:"rrweb",event:ps(te),origin:window.location.origin,isCheckout:nt};window.parent.postMessage(Ke,"*")}if(te.type===J.FullSnapshot)tt=te,ft=0;else if(te.type===J.IncrementalSnapshot){if(te.data.source===V.Mutation&&te.data.isAttachIframe)return;ft++;const Ke=r&&ft>=r,ce=n&&tt&&te.timestamp-tt.timestamp>n;(Ke||ce)&&Mi(!0)}};const vr=ie=>{fe({type:J.IncrementalSnapshot,data:{source:V.Mutation,...ie}})},nc=ie=>fe({type:J.IncrementalSnapshot,data:{source:V.Scroll,...ie}}),eh=ie=>fe({type:J.IncrementalSnapshot,data:{source:V.CanvasMutation,...ie}}),th=ie=>fe({type:J.IncrementalSnapshot,data:{source:V.AdoptedStyleSheet,...ie}}),on=new Qv({mutationCb:vr,adoptedStyleSheetCb:th}),an=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Gv:new Kv({mirror:rt,mutationCb:vr,stylesheetManager:on,recordCrossOriginIframes:B,wrappedEmit:fe});for(const ie of Q||[])ie.getMirror&&ie.getMirror({nodeMirror:rt,crossOriginIframeMirror:an.crossOriginIframeMirror,crossOriginIframeStyleMirror:an.crossOriginIframeStyleMirror});const Oi=new Zv,Pi=tx(Y,{mirror:rt,win:window,mutationCb:ie=>fe({type:J.IncrementalSnapshot,data:{source:V.CanvasMutation,...ie}}),recordCanvas:w,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:A,sampling:E.canvas,dataURLOptions:R,errorHandler:N}),hs=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Yv:new Jv({mutationCb:vr,scrollCb:nc,bypassOptions:{onMutation:G,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:ge,dataURLOptions:R,maskAttributeFn:k,maskTextFn:_,maskInputFn:I,recordCanvas:w,inlineImages:j,sampling:E,slimDOMOptions:St,iframeManager:an,stylesheetManager:on,canvasManager:Pi,keepIframeSrcFn:O,processedNodeManager:Oi,ignoreCSSAttributes:K},mirror:rt}),Mi=(ie=!1)=>{if(!P)return;fe({type:J.Meta,data:{href:window.location.href,width:Lf(),height:Df()}},ie),on.reset(),hs.init(),$n.forEach(te=>te.lock());const nt=Ev(document,{mirror:rt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:ge,maskAttributeFn:k,maskInputFn:I,maskTextFn:_,slimDOM:St,dataURLOptions:R,recordCanvas:w,inlineImages:j,onSerialize:te=>{Bf(te,rt)&&an.addIframe(te),Uf(te,rt)&&on.trackLinkElement(te),Lo(te)&&hs.addShadowRoot(te.shadowRoot,document)},onIframeLoad:(te,Fe)=>{an.attachIframe(te,Fe),te.contentWindow&&Pi.addWindow(te.contentWindow),hs.observeAttachShadow(te)},onStylesheetLoad:(te,Fe)=>{on.attachLinkElement(te,Fe)},onBlockedImageLoad:(te,Fe,{width:Ke,height:ce})=>{vr({adds:[],removes:[],texts:[],attributes:[{id:Fe.id,attributes:{style:{width:`${Ke}px`,height:`${ce}px`}}}]})},keepIframeSrcFn:O,ignoreCSSAttributes:K});if(!nt)return console.warn("Failed to snapshot the document");fe({type:J.FullSnapshot,data:{node:nt,initialOffset:Nf(window)}}),$n.forEach(te=>te.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&on.adoptStyleSheets(document.adoptedStyleSheets,rt.getId(document))};ri=Mi;try{const ie=[],nt=Fe=>{var Ke;return re(Vv)({onMutation:G,mutationCb:vr,mousemoveCb:(ce,Ni)=>fe({type:J.IncrementalSnapshot,data:{source:Ni,positions:ce}}),mouseInteractionCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.MouseInteraction,...ce}}),scrollCb:nc,viewportResizeCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.ViewportResize,...ce}}),inputCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.Input,...ce}}),mediaInteractionCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.MediaInteraction,...ce}}),styleSheetRuleCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.StyleSheetRule,...ce}}),styleDeclarationCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.StyleDeclaration,...ce}}),canvasMutationCb:eh,fontCb:ce=>fe({type:J.IncrementalSnapshot,data:{source:V.Font,...ce}}),selectionCb:ce=>{fe({type:J.IncrementalSnapshot,data:{source:V.Selection,...ce}})},customElementCb:ce=>{fe({type:J.IncrementalSnapshot,data:{source:V.CustomElement,...ce}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,maskInputOptions:ge,inlineStylesheet:h,sampling:E,recordDOM:P,recordCanvas:w,inlineImages:j,userTriggeredOnInput:D,collectFonts:de,doc:Fe,maskAttributeFn:k,maskInputFn:I,maskTextFn:_,keepIframeSrcFn:O,blockSelector:i,unblockSelector:o,slimDOMOptions:St,dataURLOptions:R,mirror:rt,iframeManager:an,stylesheetManager:on,shadowDomManager:hs,processedNodeManager:Oi,canvasManager:Pi,ignoreCSSAttributes:K,plugins:((Ke=Q==null?void 0:Q.filter(ce=>ce.observer))==null?void 0:Ke.map(ce=>({observer:ce.observer,options:ce.options,callback:Ni=>fe({type:J.Plugin,data:{plugin:ce.name,payload:Ni}})})))||[]},{})};an.addLoadListener(Fe=>{try{ie.push(nt(Fe.contentDocument))}catch(Ke){console.warn(Ke)}});const te=()=>{Mi(),ie.push(nt(document))};return document.readyState==="interactive"||document.readyState==="complete"?te():(ie.push(De("DOMContentLoaded",()=>{fe({type:J.DomContentLoaded,data:{}}),U==="DOMContentLoaded"&&te()})),ie.push(De("load",()=>{fe({type:J.Load,data:{}}),U==="load"&&te()},window))),()=>{ie.forEach(Fe=>Fe()),Oi.destroy(),ri=void 0,Nv()}}catch(ie){console.warn(ie)}}function ex(e){if(!ri)throw new Error("please take full snapshot after start recording");ri(e)}kt.mirror=rt;kt.takeFullSnapshot=ex;function tx(e,t){try{return e?e(t):new Au}catch{return console.warn("Unable to initialize CanvasManager"),new Au}}var Ou;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ou||(Ou={}));const nx=3,rx=5;function ja(e){return e>9999999999?e:e*1e3}function Ji(e){return e>9999999999?e/1e3:e}function as(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:J.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:at(t,10,1e3)}}),t.category==="console")))}const sx="button,a";function Gf(e){return e.closest(sx)||e}function Kf(e){const t=Yf(e);return!t||!(t instanceof Element)?t:Gf(t)}function Yf(e){return ix(e)?e.target:e}function ix(e){return typeof e=="object"&&!!e&&"target"in e}let jt;function ox(e){return jt||(jt=[],ax()),jt.push(e),()=>{const t=jt?jt.indexOf(e):-1;t>-1&&jt.splice(t,1)}}function ax(){Be(le,"open",function(e){return function(...t){if(jt)try{jt.forEach(n=>n())}catch{}return e.apply(le,t)}})}const cx=new Set([V.Mutation,V.StyleSheetRule,V.StyleDeclaration,V.AdoptedStyleSheet,V.CanvasMutation,V.Selection,V.MediaInteraction]);function ux(e,t,n){e.handleClick(t,n)}class lx{constructor(t,n,r=as){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ox(()=>{this._lastMutation=Pu()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(fx(n,this._ignoreSelector)||!px(t))return;const r={timestamp:Ji(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Ji(t)}registerScroll(t=Date.now()){this._lastScroll=Ji(t)}registerClick(t){const n=Gf(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Pu();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:le.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=is(()=>this._checkClicks(),1e3)}}const dx=["A","BUTTON","INPUT"];function fx(e,t){return!!(!dx.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function px(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Pu(){return Date.now()/1e3}function hx(e,t){try{if(!mx(t))return;const{source:n}=t.data;if(cx.has(n)&&e.registerMutation(t.timestamp),n===V.Scroll&&e.registerScroll(t.timestamp),gx(t)){const{type:r,id:s}=t.data,i=kt.mirror.getNode(s);i instanceof HTMLElement&&r===Me.Click&&e.registerClick(i)}}catch{}}function mx(e){return e.type===nx}function gx(e){return e.data.source===V.MouseInteraction}function yt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ba=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ba||{});const yx=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function _x(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(yx.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const Sx=e=>t=>{if(!e.isEnabled())return;const n=bx(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&ux(e.clickDetector,n,Kf(t.event)),as(e,n)};function Jf(e,t){const n=kt.mirror.getId(e),r=n&&kt.mirror.getNode(n),s=r&&kt.mirror.getMeta(r),i=s&&vx(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Ba.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:_x(i.attributes)}}:{}}}function bx(e){const{target:t,message:n}=Ex(e);return yt({category:`ui.${e.name}`,...Jf(t,n)})}function Ex(e){const t=e.name==="click";let n,r=null;try{r=t?Kf(e.event):Yf(e.event),n=He(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function vx(e){return e.type===Ba.Element}function xx(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=wx(t);n&&as(e,n)}function wx(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||Tx(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=He(o,{maxStringLength:200})||"<unknown>",l=Jf(o,u);return yt({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function Tx(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Ix={resource:Ox,paint:Cx,navigation:Ax};function Xi(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function kx(e){return e.map(Rx).filter(Boolean)}function Rx(e){const t=Ix[e.entryType];return t?t(e):null}function or(e){return((qe()||le.performance.timeOrigin)+e)/1e3}function Cx(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=or(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function Ax(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:m,transferSize:h,type:g}=e;return s===0?null:{type:`${t}.${g}`,start:or(m),end:or(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function Ox(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:or(i),end:or(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function Px(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Ua(e,"largest-contentful-paint",n)}function Mx(e){return e.sources!==void 0}function Nx(e){const t=[],n=[];for(const r of e.entries)if(Mx(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=kt.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Ua(e,"cumulative-layout-shift",n,t)}function Dx(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Ua(e,"interaction-to-next-paint",n)}function Ua(e,t,n,r){const s=e.value,i=e.rating,o=or(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>kt.mirror.getId(a)):void 0,attributions:r}}}function Lx(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(In(s,n))}),r.push(Ra(Xi(Px,e)),ka(Xi(Nx,e)),lf(Xi(Dx,e))),()=>{r.forEach(s=>s())}}const $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fx='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function jx(){const e=new Blob([Fx]);return URL.createObjectURL(e)}const Mu=["log","warn","error"],js="[Replay] ";function Qi(e,t="info"){Qt({category:"console",data:{logger:"replay"},level:t,message:`${js}${e}`},{level:t})}function Bx(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return $?(Mu.forEach(r=>{n[r]=(...s)=>{C[r](js,...s),t&&Qi(s.join(""),Vd(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),C.error(js,r),e?hi(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Qi(r,"error")},n.infoTick=(...r)=>{C.log(js,...r),t&&setTimeout(()=>Qi(r[0]),0)}):Mu.forEach(r=>{n[r]=()=>{}}),n}const H=Bx();class $a extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Pa}.`)}}class Xf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Pa)throw new $a;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ja(t):null}}class Ux{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():($&&H.warn("Received worker message with unsuccessful status",r),n(new Error("Received worker message with unsuccessful status")))},{once:!0}),this._worker.addEventListener("error",r=>{$&&H.warn("Failed to load Replay compression worker",r),n(new Error(`Failed to load Replay compression worker: ${r instanceof ErrorEvent&&r.message?r.message:"Unknown error. This can happen due to CSP policy restrictions, network issues, or the worker script failing to load."}`))},{once:!0})}),this._ensureReadyPromise)}destroy(){$&&H.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){$&&H.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class $x{constructor(t){this._worker=new Ux(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ja(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Pa?Promise.reject(new $a):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{$&&H.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Hx{constructor(t){this._fallback=new Xf,this._compression=new $x(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){$&&H.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){$&&H.exception(i,"Failed to add events when switching buffers.")}}}function zx({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Wx(t);if(n)return n}return $&&H.log("Using simple buffer"),new Xf}function Wx(e){try{const t=e||qx();if(!t)return;$&&H.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Hx(n)}catch(t){$&&H.exception(t,"Failed to create compression worker")}}function qx(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?jx():""}function Ha(){try{return"sessionStorage"in le&&!!le.sessionStorage}catch{return!1}}function Vx(e){Gx(),e.session=void 0}function Gx(){if(Ha())try{le.sessionStorage.removeItem(Aa)}catch{}}function Qf(e){return e===void 0?!1:Math.random()<e}function Ei(e){if(Ha())try{le.sessionStorage.setItem(Aa,JSON.stringify(e))}catch{}}function Zf(e){const t=Date.now(),n=e.id||Ge(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a,dirty:c}}function Kx(e,t){return Qf(e)?"session":t?"buffer":!1}function Nu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=Kx(e,t),i=Zf({sampled:s,previousSessionId:r});return n&&Ei(i),i}function Yx(){if(!Ha())return null;try{const e=le.sessionStorage.getItem(Aa);if(!e)return null;const t=JSON.parse(e);return $&&H.infoTick("Loading existing session"),Zf(t)}catch{return null}}function Bo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function ep(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Bo(e.started,t,r)||Bo(e.lastActivity,n,r)}function tp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!ep(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Zi({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&Yx();return s?tp(s,{sessionIdleExpire:e,maxReplayDuration:t})?($&&H.infoTick("Session in sessionStorage is expired, creating new one..."),Nu(r,{previousSessionId:s.id})):s:($&&H.infoTick("Creating new session"),Nu(r,{previousSessionId:n}))}function Jx(e){return e.type===J.Custom}function za(e,t,n){return rp(e,t)?(np(e,t,n),!0):!1}function Xx(e,t,n){return rp(e,t)?np(e,t,n):Promise.resolve(null)}async function np(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=Qx(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof $a,a=o?"addEventSizeExceeded":"addEvent",c=Z();if(c){const u=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a})}}function rp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ja(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?($&&H.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Qx(e,t){try{if(typeof t=="function"&&Jx(e))return t(e)}catch(n){return $&&H.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Wa(e){return!e.type}function Uo(e){return e.type==="transaction"}function Zx(e){return e.type==="replay_event"}function Du(e){return e.type==="feedback"}function e0(e){return(t,n)=>{if(!e.isEnabled()||!Wa(t)&&!Uo(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Uo(t)){t0(e,t);return}n0(e,t)}}}function t0(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function n0(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||is(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function r0(e){return t=>{!e.isEnabled()||!Wa(t)||s0(e,t)}}function s0(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=yt({category:"replay.hydrate-error",data:{url:dr()}});as(e,o)}}function i0(e){const t=Z();t&&t.on("beforeAddBreadcrumb",n=>o0(e,n))}function o0(e,t){if(!e.isEnabled()||!sp(t))return;const n=a0(t);n&&as(e,n)}function a0(e){return!sp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?c0(e):yt(e)}function c0(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return yt(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>xs?(n=!0,`${i.slice(0,xs)}`):i;if(typeof i=="object")try{const o=at(i,7);return JSON.stringify(o).length>xs?(n=!0,`${JSON.stringify(o,null,2).slice(0,xs)}`):o}catch{}return i});return yt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function sp(e){return!!e.category}function u0(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function ip(){const e=oe().getPropagationContext().dsc;e&&delete e.replay_id;const t=Le();if(t){const n=Mt(t);delete n.replay_id}}function l0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:J.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function d0(e,t){return e.recordingMode!=="buffer"||t.message===Oa||!t.exception||t.type?!1:Qf(e.getOptions().errorSampleRate)}function f0(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(Zx(t))return delete t.breadcrumbs,t;if(!Wa(t)&&!Uo(t)&&!Du(t))return t;if(!e.checkAndHandleExpiredSession())return ip(),t;if(Du(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),l0(e,t),t;if(u0(t,n)&&!e.getOptions()._experiments.captureExceptions)return $&&H.log("Ignoring error from rrweb internals",t),null;const s=d0(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const a=e.session;a.dirty=!0,e.getOptions().stickySession&&Ei(a)}return t},{id:"Replay"})}function vi(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:J.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function p0(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function h0(e){return t=>{if(!e.isEnabled())return;const n=p0(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(vi(e,[n]),!1)))}}function m0(e,t){return $&&e.getOptions()._experiments.traceInternals?!1:Jy(t,Z())}function op(e,t){e.isEnabled()&&t!==null&&(m0(e,t.name)||e.addUpdate(()=>(vi(e,[t]),!0)))}function xi(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Sf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function ap(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function si(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function cp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:c}}}function Br(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Yt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=g0(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function $o(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function g0(e){if(!e||typeof e!="string")return{body:e};const t=e.length>mu,n=y0(e);if(t){const r=e.slice(0,mu);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function y0(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ii(e,t){const n=_0(e);return Tt(n,t)}function _0(e,t=le.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(le.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function S0(e,t,n){try{const r=await E0(e,t,n),s=cp("resource.fetch",r);op(n.replay,s)}catch(r){$&&H.exception(r,"Failed to capture fetch breadcrumb")}}function b0(e,t){const{input:n,response:r}=t,s=n?Ef(n):void 0,i=xi(s),o=r?ap(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function E0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=ii(o,n.networkDetailAllowUrls)&&!ii(o,n.networkDetailDenyUrls),f=d?v0(n,t.input,u):Br(u),m=await x0(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:m}}function v0({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?I0(n,t):{};if(!e)return Yt(s,r,void 0);const i=Ef(n),[o,a]=bf(i,H),c=Yt(s,r,o);return a?si(c,a):c}async function x0(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Br(s);const i=r?up(r.headers,n):{};if(!r||!t&&s!==void 0)return Yt(i,s,void 0);const[o,a]=await T0(r),c=w0(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?si(c,a):c}function w0(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?xi(e):n;return r?t?Yt(s,i,e):Yt(s,i,void 0):Br(i)}catch(i){return $&&H.exception(i,"Failed to serialize response body"),Yt(s,n,void 0)}}async function T0(e){const t=k0(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await R0(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?($&&H.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):($&&H.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function up(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function I0(e,t){return e.length===1&&typeof e[0]!="string"?Lu(e[0],t):e.length===2?Lu(e[1],t):{}}function Lu(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?up(n,t):Array.isArray(n)?{}:$o(n,t):{}}function k0(e){try{return e.clone()}catch(t){$&&H.exception(t,"Failed to clone response body")}}function R0(e){return new Promise((t,n)=>{const r=is(()=>n(new Error("Timeout while trying to read response body")),500);C0(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function C0(e){return await e.text()}async function A0(e,t,n){try{const r=P0(e,t,n),s=cp("resource.xhr",r);op(n.replay,s)}catch(r){$&&H.exception(r,"Failed to capture xhr breadcrumb")}}function O0(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=xi(r),i=n.getResponseHeader("content-length")?ap(n.getResponseHeader("content-length")):D0(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function P0(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!ii(c,n.networkDetailAllowUrls)||ii(c,n.networkDetailDenyUrls)){const M=Br(d),E=Br(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:M,response:E}}const m=a[un],h=m?$o(m.request_headers,n.networkRequestHeaders):{},g=$o(vf(a),n.networkResponseHeaders),[y,S]=n.networkCaptureBodies?bf(o,H):[void 0],[k,I]=n.networkCaptureBodies?M0(a):[void 0],_=Yt(h,d,y),A=Yt(g,f,k);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:S?si(_,S):_,response:I?si(A,I):A}}function M0(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return N0(e.response,e.responseType)}catch(n){t.push(n)}return $&&H.warn("Failed to get xhr response body",...t),[void 0]}function N0(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return $&&H.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $&&H.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function D0(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return xi(n)}catch{return}}function L0(e){const t=Z();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>F0(a,c,u))}catch{}}function F0(e,t,n){if(t.data)try{j0(t)&&U0(n)&&(O0(t,n),A0(t,n,e)),B0(t)&&$0(n)&&(b0(t,n),S0(t,n,e))}catch(r){$&&H.exception(r,"Error when enriching network breadcrumb")}}function j0(e){return e.category==="xhr"}function B0(e){return e.category==="fetch"}function U0(e){return e==null?void 0:e.xhr}function $0(e){return e==null?void 0:e.response}function H0(e){const t=Z();gf(Sx(e)),yi(h0(e)),i0(e),L0(e);const n=f0(e);gy(n),t&&(t.on("beforeSendEvent",r0(e)),t.on("afterSendEvent",e0(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function z0(e){try{return Promise.all(vi(e,[W0(le.performance.memory)]))}catch{return[]}}function W0(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function q0(e,t,n){return n_(e,t,{...n,setTimeoutImpl:is})}const Je=ee.navigator;function V0(){return/iPhone|iPad|iPod/i.test((Je==null?void 0:Je.userAgent)??"")||/Macintosh/i.test((Je==null?void 0:Je.userAgent)??"")&&(Je!=null&&Je.maxTouchPoints)&&(Je==null?void 0:Je.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function G0(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){$&&H.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&hx(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!za(e,n,s))return!0;if(!s)return!1;const i=e.session;if(Y0(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&($&&H.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&Ei(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function K0(e){const t=e.getOptions();return{type:J.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Y0(e,t){!t||!e.session||e.session.segmentId!==0||za(e,K0(e),!1)}function J0(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function X0(e,t,n,r){return rn(yd(e,pa(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Q0({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function Z0({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await xd(e.getOptions(),r,i,t,e,et());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:l}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:l},o}async function ew({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=Q0({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Z(),f=oe(),m=d==null?void 0:d.getTransport(),h=d==null?void 0:d.getDsn();if(!d||!m||!h||!i.sampled)return Promise.resolve({});const g={type:AE,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},y=await Z0({scope:f,client:d,replayId:t,event:g});if(!y)return d.recordDroppedEvent("event_processor","replay"),$&&H.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const S=X0(y,o,h,d.getOptions().tunnel);let k;try{k=await m.send(S)}catch(_){const A=new Error(Oa);try{A.cause=_}catch{}throw A}const I=Ld({},k);if(Dd(I,"replay"))throw new qa(I);if(typeof k.statusCode=="number"&&(k.statusCode<200||k.statusCode>=300))throw new lp(k.statusCode);return k}class lp extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class qa extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class Fu extends Error{constructor(){super("Session is too long, not sending replay")}}async function dp(e,t={count:0,interval:LE}){const{recordingData:n,onError:r}=e;if(n.length)try{return await ew(e),!0}catch(s){if(s instanceof lp||s instanceof qa)throw s;if(Td("Replays",{_retryCount:t.count}),r&&r(s),t.count>=FE){const i=new Error(`${Oa} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{is(async()=>{try{await dp(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const fp="__THROTTLED",tw="__SKIPPED";function nw(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?tw:fp}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class rw{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:OE,sessionIdleExpire:PE},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=q0(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=nw((o,a)=>Xx(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(jE,r),timeout:r,scrollTimeout:BE,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new lx(this,i)),$){const o=t._experiments;H.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{le.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=yt({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=yt({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{xx(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){$&&H.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){$&&H.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",$&&H.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){$&&H.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){$&&H.log("Buffering is in progress, call `flush()` to save the replay");return}$&&H.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Zi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){$&&H.log("Buffering is in progress, call `flush()` to save the replay");return}$&&H.infoTick("Starting replay in buffer mode");const t=Zi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=kt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:DE}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:G0(this),...V0(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{$&&H.log(`Stopping Replay${n?` triggered by ${n}`:""}`),ip(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,Vx(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),$&&H.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),$&&H.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();$&&H.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Bo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${le.location.pathname}${le.location.hash}${le.location.search}`,n=`${le.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===fp){const s=yt({category:"replay.throttled"});this.addUpdate(()=>!za(this,{type:rx,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Le(),n=t&&Ae(t),s=(n&&se(n).data||{})[ut];if(!(!n||!s||!["route","custom"].includes(s)))return se(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=zx({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Zi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return tp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{le.document.addEventListener("visibilitychange",this._handleVisibilityChange),le.addEventListener("blur",this._handleWindowBlur),le.addEventListener("focus",this._handleWindowFocus),le.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(H0(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Lx(this)}_removeListeners(){try{le.document.removeEventListener("visibilitychange",this._handleVisibilityChange),le.removeEventListener("blur",this._handleWindowBlur),le.removeEventListener("focus",this._handleWindowFocus),le.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||ep(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){$&&H.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:J.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=kx(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(vi(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){$&&H.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await z0(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Fu;const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await dp({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=Z();if(s){let i;r instanceof qa?i="ratelimit_backoff":r instanceof Fu?i="invalid":i="send_error",s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){$&&H.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){$&&H.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&$&&H.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ei(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=J0(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const a=yt({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function wr(e,t){return[...e,...t].join(",")}function sw({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=wr(e,[".sentry-mask","[data-sentry-mask]"]),a=wr(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:wr(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:wr(r,[]),ignoreSelector:wr(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function iw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const ju='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ow=["content-length","content-type","accept"],aw=Symbol.for("sentry__originalRequestBody");let Bu=!1,Uu=!1;function cw(){if(typeof Request>"u"||Uu)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[aw]=r.body),s};t.prototype=e.prototype,ee.Request=t,Uu=!0}catch{}}const uw=e=>new lw(e);class lw{constructor({flushMinDelay:t=ME,flushMaxDelay:n=NE,minReplayDuration:r=UE,maxReplayDuration:s=gu,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:l=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:m=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:S=[],networkCaptureBodies:k=!0,networkRequestHeaders:I=[],networkResponseHeaders:_=[],mask:A=[],maskAttributes:M=["title","placeholder","aria-label"],unmask:E=[],block:R=[],unblock:F=[],ignore:P=[],maskFn:w,beforeAddRecordingEvent:B,beforeErrorSampling:U,onError:D,attachRawBodyFromRequest:de=!1}={}){this.name="Replay";const j=sw({mask:A,unmask:E,block:R,unblock:F,ignore:P});if(this._recordingOptions={maskAllInputs:l,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:w,maskInputFn:w,maskAttributeFn:(Q,O,K)=>iw({maskAttributes:M,maskAllText:u,privacyOptions:j,key:Q,value:O,el:K}),...j,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Q=>{try{Q.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,$E),maxReplayDuration:Math.min(s,gu),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:d,maskAllInputs:l,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:m,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:S,networkCaptureBodies:k,networkRequestHeaders:$u(I),networkResponseHeaders:$u(_),beforeAddRecordingEvent:B,beforeErrorSampling:U,onError:D,attachRawBodyFromRequest:de,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ju}`:ju,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&wo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Bu}set _isInitialized(t){Bu=t}afterAllSetup(t){!wo()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&cw(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=dw(this._initialOptions,t);this._replay=new rw({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function dw(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=wn(n.replaysSessionSampleRate),i=wn(n.replaysOnErrorSampleRate);return s==null&&i==null&&Cn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function $u(e){return[...ow,...e.map(t=>t.toLowerCase())]}function fw(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function pp(e){try{return new URL(e,X.location.origin).href}catch{return}}function pw(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function hp(e){try{return new Headers(e)}catch{return}}const Hu=new WeakMap,eo=new Map,mp={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function hw(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...mp,...t},l=typeof i=="function"?i:h=>!0,d=h=>mw(h,a),f={},m=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const y=eo.get(g.span_id);y&&(g.timestamp=y/1e3,eo.delete(g.span_id))}}),h)),s&&B_(h=>{if(h.response){const g=Hu.get(h.response);g&&h.endTimestamp&&eo.set(g,h.endTimestamp)}}),Jd(h=>{const g=A_(h,l,d,f,{propagateTraceparent:m,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&Hu.set(h.response,h.fetchData.__span),g){const y=pp(h.fetchData.url),S=y?En(y).host:void 0;g.setAttributes({"http.url":y?Gt(y):void 0,"server.address":S}),o&&zu(g),c==null||c(g,{headers:h.headers})}})),r&&_f(h=>{var y;const g=gw(h,l,d,f,m,u);g&&(o&&zu(g),c==null||c(g,{headers:hp((y=h.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function zu(e){const{url:t}=se(e).data;if(!t||typeof t!="string")return;const n=In("resource",({entries:r})=>{r.forEach(s=>{pw(s)&&s.name.endsWith(t)&&(e.setAttributes(mf(s)),setTimeout(n))})})}function mw(e,t){const n=dr();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?Tt(r.toString(),t)||i&&Tt(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?Tt(e,t):r}}function gw(e,t,n,r,s,i){const o=e.xhr,a=o==null?void 0:o[un];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=lt()&&t(c);if(e.endTimestamp&&l){const S=o.__sentry_xhr_span_id__;if(!S)return;const k=r[S];k&&a.status_code!==void 0&&(ed(k,a.status_code),k.end(),i==null||i(k,{headers:hp(vf(o)),error:e.error}),delete r[S]);return}const d=pp(c),f=En(d||c),m=Gt(Yy(c)),h=!!Le(),g=l&&h?mr({name:`${u} ${m}`,attributes:{url:Gt(c),type:"xhr","http.method":u,"http.url":d?Gt(d):void 0,"server.address":f==null?void 0:f.host,[ve]:"auto.http.browser",[Pt]:"http.client",...(f==null?void 0:f.search)&&{"http.query":f==null?void 0:f.search},...(f==null?void 0:f.hash)&&{"http.fragment":f==null?void 0:f.hash}}}):new Xt;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(c)&&yw(o,lt()&&h?g:void 0,s);const y=Z();return y&&y.emit("beforeOutgoingRequestSpan",g,e),g}function yw(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=Wd({span:t,propagateTraceparent:n});r&&_w(e,r,s,i)}function _w(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!fw(o))&&e.setRequestHeader("baggage",n)}}catch{}}function Sw(){X.document?X.document.addEventListener("visibilitychange",()=>{const e=Le();if(!e)return;const t=Ae(e);if(X.document.hidden&&t){const n="cancelled",{op:r,status:s}=se(t);We&&C.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:Ee,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):We&&C.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const bw=3600,gp="sentry_previous_trace",Ew="sentry.previous_trace";function vw(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?Tw():void 0;e.on("spanStart",o=>{if(Ae(o)!==o)return;const a=oe().getPropagationContext();s=xw(s,o,a),r&&ww(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=oe(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Ho(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=Ho(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[Zl]:s.sampleRate}})}function xw(e,t,n){const r=se(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[aa])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=bw&&(We&&C.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Bm]:"previous_trace"}}),t.setAttribute(Ew,`${o.traceId}-${o.spanId}-${Ho(o)?1:0}`)),i)}function ww(e){try{X.sessionStorage.setItem(gp,JSON.stringify(e))}catch(t){We&&C.warn("Could not store previous trace in sessionStorage",t)}}function Tw(){var e;try{const t=(e=X.sessionStorage)==null?void 0:e.getItem(gp);return JSON.parse(t)}catch{return}}function Ho(e){return e.traceFlags===1}const Iw="BrowserTracing",kw={...Ps,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...mp},Rw=(e={})=>{const t={name:void 0,source:void 0},n=X.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:f,childSpanTimeout:m,markBackgroundSpan:h,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:k,enableHTTPTimings:I,ignoreResourceSpans:_,ignorePerformanceApiSpans:A,instrumentPageLoad:M,instrumentNavigation:E,detectRedirects:R,linkPreviousTrace:F,consistentTraceSampling:P,enableReportPageLoaded:w,onRequestSpanStart:B,onRequestSpanEnd:U}={...kw,...e};let D,de,j;function Q(O,K,N=!0){const G=K.op==="pageload",Y=K.name,ae=l?l(K):K,me=ae.attributes||{};if(Y!==ae.name&&(me[ut]="custom",ae.attributes=me),!N){const tt=An();mr({...ae,startTime:tt}).end(tt);return}t.name=ae.name,t.source=me[ut];const ge=vd(ae,{idleTimeout:d,finalTimeout:f,childSpanTimeout:m,disableAutoFinish:G,beforeSpanEnd:tt=>{D==null||D(),YS(tt,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:_,ignorePerformanceApiSpans:A}),Vu(O,void 0);const ft=oe(),ps=ft.getPropagationContext();ft.setPropagationContext({...ps,traceId:ge.spanContext().traceId,sampled:nn(ge),dsc:Mt(tt)}),G&&(j=void 0)},trimIdleSpanEndTimestamp:!w});G&&w&&(j=ge),Vu(O,ge);function St(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",ge)}G&&!w&&n&&(n.addEventListener("readystatechange",()=>{St()}),St())}return{name:Iw,setup(O){if(hg(),D=HS({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:O}),r&&Eb(),s&&ab(),o&&ee.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?WS():i&&zS(),a&&qS(),R&&n){const N=()=>{de=Te()};addEventListener("click",N,{capture:!0}),addEventListener("keydown",N,{capture:!0,passive:!0})}function K(){const N=Ur(O);N&&!se(N).timestamp&&(We&&C.log(`[Tracing] Finishing current active span with op: ${se(N).op}`),N.setAttribute(Mr,"cancelled"),N.end())}O.on("startNavigationSpan",(N,G)=>{if(Z()!==O)return;if(G!=null&&G.isRedirect){We&&C.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Q(O,{op:"navigation.redirect",...N},!1);return}de=void 0,K(),et().setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:It()});const Y=oe();Y.setPropagationContext({traceId:Ot(),sampleRand:Math.random(),propagationSpanId:lt()?void 0:It()}),Y.setSDKProcessingMetadata({normalizedRequest:void 0}),Q(O,{op:"navigation",...N,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(N,G={})=>{if(Z()!==O)return;K();const Y=G.sentryTrace||Wu("sentry-trace")||qu("sentry-trace"),ae=G.baggage||Wu("baggage")||qu("baggage"),me=ig(Y,ae),ge=oe();ge.setPropagationContext(me),lt()||(ge.getPropagationContext().propagationSpanId=It()),ge.setSDKProcessingMetadata({normalizedRequest:Ea()}),Q(O,{op:"pageload",...N})}),O.on("endPageloadSpan",()=>{w&&j&&(j.setAttribute(Mr,"reportPageLoaded"),j.end())})},afterAllSetup(O){let K=dr();if(F!=="off"&&vw(O,{linkPreviousTrace:F,consistentTraceSampling:P}),X.location){if(M){const N=qe();Cw(O,{name:X.location.pathname,startTime:N?N/1e3:void 0,attributes:{[ut]:"url",[ve]:"auto.pageload.browser"}})}E&&yi(({to:N,from:G})=>{if(G===void 0&&(K==null?void 0:K.indexOf(N))!==-1){K=void 0;return}K=void 0;const Y=ba(N),ae=Ur(O),me=ae&&R&&Pw(ae,de);Aw(O,{name:(Y==null?void 0:Y.pathname)||X.location.pathname,attributes:{[ut]:"url",[ve]:"auto.navigation.browser"}},{url:N,isRedirect:me})})}h&&Sw(),a&&Ow(O,d,f,m,t),r&&wb(),hw(O,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:S,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:k,enableHTTPTimings:I,onRequestSpanStart:B,onRequestSpanEnd:U})}}};function Cw(e,t,n){e.emit("startPageLoadSpan",t,n),oe().setTransactionName(t.name);const r=Ur(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Aw(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=oe();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...Ea(),url:r}}),Ur(e)}function Wu(e){const t=X.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function qu(e){var r,s,i;const t=(s=(r=X.performance)==null?void 0:r.getEntriesByType)==null?void 0:s.call(r,"navigation")[0],n=(i=t==null?void 0:t.serverTiming)==null?void 0:i.find(o=>o.name===e);return n==null?void 0:n.description}function Ow(e,t,n,r,s){const i=X.document;let o;const a=()=>{const c="ui.action.click",u=Ur(e);if(u){const l=se(u).op;if(["navigation","pageload"].includes(l)){We&&C.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Mr,"interactionInterrupted"),o.end(),o=void 0),!s.name){We&&C.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=vd({name:s.name,op:c,attributes:{[ut]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const yp="_sentry_idleSpan";function Ur(e){return e[yp]}function Vu(e,t){ze(e,yp,t)}const Gu=1.5;function Pw(e,t){const n=se(e),r=An(),s=n.start_timestamp;return!(r-s>Gu||t&&r-t<=Gu)}function Mw(e){const t={...e};return zd(t,"react"),Td("react",{version:v.version}),CE(t)}function Nw(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Dw(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function Lw(e,{componentStack:t},n){if(Nw(v.version)&&Vr(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,Dw(e,r)}return pr(r=>(r.setContext("react",{componentStack:t}),hi(e,n)))}const Fw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,to={componentStack:null,error:null,eventId:null};let jw=class extends v.Component{constructor(t){super(t),this.state=to,this._openFallbackReportDialog=!0;const n=Z();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&hu({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;pr(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,l=Lw(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});i&&i(t,r,l),o&&(this._lastEventId=l,this._openFallbackReportDialog&&hu({...a,eventId:l})),this.setState({error:t,componentStack:r,eventId:l})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===to?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(to)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?v.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return v.isValidElement(s)?s:(t&&Fw&&C.warn("fallback did not produce a valid ReactElement"),null)}};const Bw="modulepreload",Uw=function(e){return"/"+e},Ku={},Ie=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Uw(c),c in Ku)return;Ku[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Bw,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},T={purplePrimary:"#1d1a3b",purpleBright:"#1d1a3b",purpleAccent:"#1d1a3b",purpleHover:"#2a2660",purpleGlow:"transparent",bgDeep:"#f3f3f3",bgCoolWhite:"#f9f9fb",bgPanel:"rgba(0,0,0,0.018)",accentGreen:"#2e844a",accentAmber:"#dd7a01",accentBlue:"#0176d3",accentRed:"#ea001b",textPrimary:"#181818",textSecondary:"#444444",textTertiary:"#666666",textDim:"#8a909c",cardSurface:"#ffffff",borderGlass:"#dddbda",borderSubtle:"#e8e8e8",hairline:"#c9c7c5",hairline2:"#b8b6b4",glassBg:"rgba(255,255,255,0.92)",glassBorder:"#dddbda",glassInset:"rgba(255,255,255,0.70)",glassShadow1:"rgba(0,0,0,0.04)",glassShadow2:"rgba(0,0,0,0.06)",frostChrome:"blur(18px) saturate(1.2)",frostPanel:"blur(14px) saturate(1.1)",frostGlass:"blur(22px) saturate(1.3)",frostModal:"blur(18px) saturate(1.2)",frostOverlay:"blur(6px)",frostToast:"blur(10px)",serif:"Georgia, 'Source Serif 4', serif",mono:"'IBM Plex Mono', Consolas, monospace",sans:"'Inter', system-ui, sans-serif",spacing:{xs:"4px",small:"8px",medium:"16px",large:"24px",xl:"32px",xxl:"48px"},statusGreen:{border:"rgba(46,132,74,.25)",text:"#2e844a",bg:"rgba(46,132,74,.06)"},statusAmber:{border:"rgba(221,122,1,.28)",text:"#dd7a01",bg:"rgba(221,122,1,.07)"},statusRed:{border:"rgba(234,0,27,.22)",text:"#ea001b",bg:"rgba(234,0,27,.05)"},transitionFast:"all 0.12s ease",transitionBase:"all 0.18s ease",transitionSlow:"all 0.28s ease"};class $w extends Rt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught:",t,n)}render(){return this.state.hasError?p.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:T.bgDeep,padding:"24px"},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:440},children:[p.jsx("div",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:9,letterSpacing:2.5,textTransform:"uppercase",color:"rgba(180,52,52,0.6)",marginBottom:12},children:"System Error"}),p.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:28,fontWeight:200,color:T.textPrimary,marginBottom:8},children:"Something went wrong"}),p.jsx("p",{style:{fontFamily:"Consolas, monospace",fontSize:12,color:"rgba(15,18,30,.56)",lineHeight:1.6,marginBottom:24},children:"An unexpected error occurred. Your data is safe."}),p.jsx("button",{onClick:()=>window.location.reload(),style:{appearance:"none",background:"transparent",border:"1px solid rgba(29,26,59,0.25)",color:T.purpleBright,padding:"12px 24px",fontFamily:"Consolas, monospace",fontSize:10,letterSpacing:2.5,textTransform:"uppercase",cursor:"pointer"},children:"Reload"})]})}):this.props.children}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const Yu="popstate";function Hw(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return zo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:oi(s)}return Ww(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Va(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zw(){return Math.random().toString(36).substr(2,8)}function Ju(e,t){return{usr:e.state,key:e.key,idx:t}}function zo(e,t,n,r){return n===void 0&&(n=null),$r({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_r(t):t,{state:n,key:t&&t.key||r||zw()})}function oi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _r(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ww(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qt.Pop,c=null,u=l();u==null&&(u=0,o.replaceState($r({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=qt.Pop;let y=l(),S=y==null?null:y-u;u=y,c&&c({action:a,location:g.location,delta:S})}function f(y,S){a=qt.Push;let k=zo(g.location,y,S);u=l()+1;let I=Ju(k,u),_=g.createHref(k);try{o.pushState(I,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(_)}i&&c&&c({action:a,location:g.location,delta:1})}function m(y,S){a=qt.Replace;let k=zo(g.location,y,S);u=l();let I=Ju(k,u),_=g.createHref(k);o.replaceState(I,"",_),i&&c&&c({action:a,location:g.location,delta:0})}function h(y){let S=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof y=="string"?y:oi(y);return k=k.replace(/ $/,"%20"),_e(S,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,S)}let g={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yu,d),c=y,()=>{s.removeEventListener(Yu,d),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let S=h(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var Xu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xu||(Xu={}));function qw(e,t,n){return n===void 0&&(n="/"),Vw(e,t,n)}function Vw(e,t,n,r){let s=typeof t=="string"?_r(t):t,i=Ga(s.pathname||"/",n);if(i==null)return null;let o=_p(e);Gw(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=iT(i);a=nT(o[c],u)}return a}function _p(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jt([r,c.relativePath]),l=n.concat(c);i.children&&i.children.length>0&&(_e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_p(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:eT(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Sp(i.path))s(i,o,c)}),t}function Sp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Sp(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Kw=/^:[\w-]+$/,Yw=3,Jw=2,Xw=1,Qw=10,Zw=-2,Qu=e=>e==="*";function eT(e,t){let n=e.split("/"),r=n.length;return n.some(Qu)&&(r+=Zw),t&&(r+=Jw),n.filter(s=>!Qu(s)).reduce((s,i)=>s+(Kw.test(i)?Yw:i===""?Xw:Qw),r)}function tT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nT(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,l=i==="/"?t:t.slice(i.length)||"/",d=rT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),f=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Jt([i,d.pathname]),pathnameBase:lT(Jt([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Jt([i,d.pathnameBase]))}return o}function rT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:f,isOptional:m}=l;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[d];return m&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function sT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Va(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function iT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Va(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ga(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=e=>oT.test(e);function cT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?_r(e):e,i;if(n)if(aT(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Va(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Zu(n.substring(1),"/"):i=Zu(n,t)}else i=t;return{pathname:i,search:dT(r),hash:fT(s)}}function Zu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function no(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ka(e,t){let n=uT(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ya(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=_r(e):(s=$r({},e),_e(!s.pathname||!s.pathname.includes("?"),no("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),no("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),no("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=cT(s,a),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),lT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bp=["post","put","patch","delete"];new Set(bp);const hT=["get",...bp];new Set(hT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}const Ja=v.createContext(null),mT=v.createContext(null),sn=v.createContext(null),wi=v.createContext(null),Nt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=v.createContext(null);function gT(e,t){let{relative:n}=t===void 0?{}:t;Sr()||_e(!1);let{basename:r,navigator:s}=v.useContext(sn),{hash:i,pathname:o,search:a}=xp(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jt([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Sr(){return v.useContext(wi)!=null}function br(){return Sr()||_e(!1),v.useContext(wi).location}function vp(e){v.useContext(sn).static||v.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=v.useContext(Nt);return e?CT():yT()}function yT(){Sr()||_e(!1);let e=v.useContext(Ja),{basename:t,future:n,navigator:r}=v.useContext(sn),{matches:s}=v.useContext(Nt),{pathname:i}=br(),o=JSON.stringify(Ka(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return vp(()=>{a.current=!0}),v.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Ya(u,JSON.parse(o),i,l.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Jt([t,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[t,r,o,i,e])}function lR(){let{matches:e}=v.useContext(Nt),t=e[e.length-1];return t?t.params:{}}function xp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(sn),{matches:s}=v.useContext(Nt),{pathname:i}=br(),o=JSON.stringify(Ka(s,r.v7_relativeSplatPath));return v.useMemo(()=>Ya(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function _T(e,t){return ST(e,t)}function ST(e,t,n,r){Sr()||_e(!1);let{navigator:s}=v.useContext(sn),{matches:i}=v.useContext(Nt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=br(),l;if(t){var d;let y=typeof t=="string"?_r(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||_e(!1),l=y}else l=u;let f=l.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=qw(e,{pathname:m}),g=wT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Jt([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Jt([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?v.createElement(wi.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:qt.Pop}},g):g}function bT(){let e=RT(),t=pT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const ET=v.createElement(bT,null);class vT extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Nt.Provider,{value:this.props.routeContext},v.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xT(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Ja);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Nt.Provider,{value:t},r)}function wT(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||_e(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:f,errors:m}=n,h=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,f)=>{let m,h=!1,g=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||ET,c&&(u<0&&f===0?(AT("route-fallback"),h=!0,y=null):u===f&&(h=!0,y=d.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,f+1)),k=()=>{let I;return m?I=g:h?I=y:d.route.Component?I=v.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=l,v.createElement(xT,{match:d,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(vT,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}var wp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wp||{}),Tp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tp||{});function TT(e){let t=v.useContext(Ja);return t||_e(!1),t}function IT(e){let t=v.useContext(mT);return t||_e(!1),t}function kT(e){let t=v.useContext(Nt);return t||_e(!1),t}function Ip(e){let t=kT(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function RT(){var e;let t=v.useContext(Ep),n=IT(),r=Ip();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function CT(){let{router:e}=TT(wp.UseNavigateStable),t=Ip(Tp.UseNavigateStable),n=v.useRef(!1);return vp(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hr({fromRouteId:t},i)))},[e,t])}const el={};function AT(e,t,n){el[e]||(el[e]=!0)}function OT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wo(e){let{to:t,replace:n,state:r,relative:s}=e;Sr()||_e(!1);let{future:i,static:o}=v.useContext(sn),{matches:a}=v.useContext(Nt),{pathname:c}=br(),u=Xa(),l=Ya(t,Ka(a,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(l);return v.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function ye(e){_e(!1)}function PT(e){let{basename:t="/",children:n=null,location:r,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=e;Sr()&&_e(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Hr({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=_r(r));let{pathname:l="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,g=v.useMemo(()=>{let y=Ga(l,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:h},navigationType:s}},[c,l,d,f,m,h,s]);return g==null?null:v.createElement(sn.Provider,{value:u},v.createElement(wi.Provider,{children:n,value:g}))}function MT(e){let{children:t,location:n}=e;return _T(qo(t),n)}new Promise(()=>{});function qo(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,qo(r.props.children,i));return}r.type!==ye&&_e(!1),!r.props.index||!r.props.children||_e(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}function NT(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function DT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LT(e,t){return e.button===0&&(!t||t==="_self")&&!DT(e)}const FT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jT="6";try{window.__reactRouterVersion=jT}catch{}const BT="startTransition",tl=nh[BT];function UT(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=Hw({window:s,v5Compat:!0}));let o=i.current,[a,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},l=v.useCallback(d=>{u&&tl?tl(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>o.listen(l),[o,l]),v.useEffect(()=>OT(r),[r]),v.createElement(PT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:l,viewTransition:d}=t,f=NT(t,FT),{basename:m}=v.useContext(sn),h,g=!1;if(typeof u=="string"&&HT.test(u)&&(h=u,$T))try{let I=new URL(window.location.href),_=u.startsWith("//")?new URL(I.protocol+u):new URL(u),A=Ga(_.pathname,m);_.origin===I.origin&&A!=null?u=A+_.search+_.hash:g=!0}catch{}let y=gT(u,{relative:s}),S=zT(u,{replace:o,state:a,target:c,preventScrollReset:l,relative:s,viewTransition:d});function k(I){r&&r(I),I.defaultPrevented||S(I)}return v.createElement("a",Vo({},f,{href:h||y,onClick:g||i?r:k,ref:n,target:c}))});var nl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nl||(nl={}));var rl;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rl||(rl={}));function zT(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Xa(),u=br(),l=xp(e,{relative:o});return v.useCallback(d=>{if(LT(d,n)){d.preventDefault();let f=r!==void 0?r:oi(u)===oi(l);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,l,r,s,n,e,i,o,a])}function dR(e,t){let{capture:n}={};v.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",e,r),()=>{window.removeEventListener("beforeunload",e,r)}},[e,n])}function kp(e,t){return function(){return e.apply(t,arguments)}}const{toString:WT}=Object.prototype,{getPrototypeOf:Qa}=Object,{iterator:Ti,toStringTag:Rp}=Symbol,Ii=(e=>t=>{const n=WT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dt=e=>(e=e.toLowerCase(),t=>Ii(t)===e),ki=e=>t=>typeof t===e,{isArray:Er}=Array,ar=ki("undefined");function cs(e){return e!==null&&!ar(e)&&e.constructor!==null&&!ar(e.constructor)&&Ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cp=dt("ArrayBuffer");function qT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cp(e.buffer),t}const VT=ki("string"),Ue=ki("function"),Ap=ki("number"),us=e=>e!==null&&typeof e=="object",GT=e=>e===!0||e===!1,Bs=e=>{if(Ii(e)!=="object")return!1;const t=Qa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Rp in e)&&!(Ti in e)},KT=e=>{if(!us(e)||cs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},YT=dt("Date"),JT=dt("File"),XT=dt("Blob"),QT=dt("FileList"),ZT=e=>us(e)&&Ue(e.pipe),eI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ue(e.append)&&((t=Ii(e))==="formdata"||t==="object"&&Ue(e.toString)&&e.toString()==="[object FormData]"))},tI=dt("URLSearchParams"),[nI,rI,sI,iI]=["ReadableStream","Request","Response","Headers"].map(dt),oI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ls(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Er(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(cs(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Op(e,t){if(cs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pp=e=>!ar(e)&&e!==dn;function Ko(){const{caseless:e,skipUndefined:t}=Pp(this)&&this||{},n={},r=(s,i)=>{const o=e&&Op(n,i)||i;Bs(n[o])&&Bs(s)?n[o]=Ko(n[o],s):Bs(s)?n[o]=Ko({},s):Er(s)?n[o]=s.slice():(!t||!ar(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ls(arguments[s],r);return n}const aI=(e,t,n,{allOwnKeys:r}={})=>(ls(t,(s,i)=>{n&&Ue(s)?Object.defineProperty(e,i,{value:kp(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),cI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},lI=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Qa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},dI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},fI=e=>{if(!e)return null;if(Er(e))return e;let t=e.length;if(!Ap(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},pI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qa(Uint8Array)),hI=(e,t)=>{const r=(e&&e[Ti]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},mI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},gI=dt("HTMLFormElement"),yI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),sl=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_I=dt("RegExp"),Mp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ls(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},SI=e=>{Mp(e,(t,n)=>{if(Ue(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ue(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},bI=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Er(e)?r(e):r(String(e).split(t)),n},EI=()=>{},vI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xI(e){return!!(e&&Ue(e.append)&&e[Rp]==="FormData"&&e[Ti])}const wI=e=>{const t=new Array(10),n=(r,s)=>{if(us(r)){if(t.indexOf(r)>=0)return;if(cs(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Er(r)?[]:{};return ls(r,(o,a)=>{const c=n(o,s+1);!ar(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},TI=dt("AsyncFunction"),II=e=>e&&(us(e)||Ue(e))&&Ue(e.then)&&Ue(e.catch),Np=((e,t)=>e?setImmediate:t?((n,r)=>(dn.addEventListener("message",({source:s,data:i})=>{s===dn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),dn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ue(dn.postMessage)),kI=typeof queueMicrotask<"u"?queueMicrotask.bind(dn):typeof process<"u"&&process.nextTick||Np,RI=e=>e!=null&&Ue(e[Ti]),b={isArray:Er,isArrayBuffer:Cp,isBuffer:cs,isFormData:eI,isArrayBufferView:qT,isString:VT,isNumber:Ap,isBoolean:GT,isObject:us,isPlainObject:Bs,isEmptyObject:KT,isReadableStream:nI,isRequest:rI,isResponse:sI,isHeaders:iI,isUndefined:ar,isDate:YT,isFile:JT,isBlob:XT,isRegExp:_I,isFunction:Ue,isStream:ZT,isURLSearchParams:tI,isTypedArray:pI,isFileList:QT,forEach:ls,merge:Ko,extend:aI,trim:oI,stripBOM:cI,inherits:uI,toFlatObject:lI,kindOf:Ii,kindOfTest:dt,endsWith:dI,toArray:fI,forEachEntry:hI,matchAll:mI,isHTMLForm:gI,hasOwnProperty:sl,hasOwnProp:sl,reduceDescriptors:Mp,freezeMethods:SI,toObjectSet:bI,toCamelCase:yI,noop:EI,toFiniteNumber:vI,findKey:Op,global:dn,isContextDefined:Pp,isSpecCompliantForm:xI,toJSONObject:wI,isAsyncFn:TI,isThenable:II,setImmediate:Np,asap:kI,isIterable:RI};let z=class Dp extends Error{static from(t,n,r,s,i,o){const a=new Dp(t.message,n||t.code,r,s,i);return a.cause=t,a.name=t.name,o&&Object.assign(a,o),a}constructor(t,n,r,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}};z.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";z.ERR_BAD_OPTION="ERR_BAD_OPTION";z.ECONNABORTED="ECONNABORTED";z.ETIMEDOUT="ETIMEDOUT";z.ERR_NETWORK="ERR_NETWORK";z.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";z.ERR_DEPRECATED="ERR_DEPRECATED";z.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";z.ERR_BAD_REQUEST="ERR_BAD_REQUEST";z.ERR_CANCELED="ERR_CANCELED";z.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";z.ERR_INVALID_URL="ERR_INVALID_URL";const CI=null;function Yo(e){return b.isPlainObject(e)||b.isArray(e)}function Lp(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function il(e,t,n){return e?e.concat(t).map(function(s,i){return s=Lp(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function AI(e){return b.isArray(e)&&!e.some(Yo)}const OI=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function Ri(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!b.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(b.isDate(h))return h.toISOString();if(b.isBoolean(h))return h.toString();if(!c&&b.isBlob(h))throw new z("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(h)||b.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function l(h,g,y){let S=h;if(h&&!y&&typeof h=="object"){if(b.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(b.isArray(h)&&AI(h)||(b.isFileList(h)||b.endsWith(g,"[]"))&&(S=b.toArray(h)))return g=Lp(g),S.forEach(function(I,_){!(b.isUndefined(I)||I===null)&&t.append(o===!0?il([g],_,i):o===null?g:g+"[]",u(I))}),!1}return Yo(h)?!0:(t.append(il(y,g,i),u(h)),!1)}const d=[],f=Object.assign(OI,{defaultVisitor:l,convertValue:u,isVisitable:Yo});function m(h,g){if(!b.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(h),b.forEach(h,function(S,k){(!(b.isUndefined(S)||S===null)&&s.call(t,S,b.isString(k)?k.trim():k,g,f))===!0&&m(S,g?g.concat(k):[k])}),d.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ol(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Za(e,t){this._pairs=[],e&&Ri(e,this,t)}const Fp=Za.prototype;Fp.append=function(t,n){this._pairs.push([t,n])};Fp.toString=function(t){const n=t?function(r){return t.call(this,r,ol)}:ol;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function PI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jp(e,t,n){if(!t)return e;const r=n&&n.encode||PI,s=b.isFunction(n)?{serialize:n}:n,i=s&&s.serialize;let o;if(i?o=i(t,s):o=b.isURLSearchParams(t)?t.toString():new Za(t,s).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class al{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Bp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MI=typeof URLSearchParams<"u"?URLSearchParams:Za,NI=typeof FormData<"u"?FormData:null,DI=typeof Blob<"u"?Blob:null,LI={isBrowser:!0,classes:{URLSearchParams:MI,FormData:NI,Blob:DI},protocols:["http","https","file","blob","url","data"]},ec=typeof window<"u"&&typeof document<"u",Jo=typeof navigator=="object"&&navigator||void 0,FI=ec&&(!Jo||["ReactNative","NativeScript","NS"].indexOf(Jo.product)<0),jI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BI=ec&&window.location.href||"http://localhost",UI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ec,hasStandardBrowserEnv:FI,hasStandardBrowserWebWorkerEnv:jI,navigator:Jo,origin:BI},Symbol.toStringTag,{value:"Module"})),Ce={...UI,...LI};function $I(e,t){return Ri(e,new Ce.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ce.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function HI(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zI(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Up(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,c?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=zI(s[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,s)=>{t(HI(r),s,n,0)}),n}return null}function WI(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ds={transitional:Bp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return s?JSON.stringify(Up(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $I(t,this.formSerializer).toString();if((a=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ri(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),WI(t)):t}],transformResponse:[function(t){const n=this.transitional||ds.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?z.from(a,z.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{ds.headers[e]={}});const qI=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VI=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&qI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},cl=Symbol("internals");function Tr(e){return e&&String(e).trim().toLowerCase()}function Us(e){return e===!1||e==null?e:b.isArray(e)?e.map(Us):String(e)}function GI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const KI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ro(e,t,n,r,s){if(b.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function YI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function JI(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let $e=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const l=Tr(c);if(!l)throw new Error("header name must be a non-empty string");const d=b.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Us(a))}const o=(a,c)=>b.forEach(a,(u,l)=>i(u,l,c));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!KI(t))o(VI(t),n);else if(b.isObject(t)&&b.isIterable(t)){let a={},c,u;for(const l of t){if(!b.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?b.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Tr(t),t){const r=b.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return GI(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Tr(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ro(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Tr(o),o){const a=b.findKey(r,o);a&&(!n||ro(r,r[a],a,n))&&(delete r[a],s=!0)}}return b.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||ro(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=Us(s),delete n[i];return}const a=t?YI(i):String(i).trim();a!==i&&delete n[i],n[a]=Us(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[cl]=this[cl]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Tr(o);r[a]||(JI(s,o),r[a]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}};$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors($e.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods($e);function so(e,t){const n=this||ds,r=t||n,s=$e.from(r.headers);let i=r.data;return b.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function $p(e){return!!(e&&e.__CANCEL__)}let fs=class extends z{constructor(t,n,r){super(t??"canceled",z.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}};function Hp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function XI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),n[s]=c,r[s]=u;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const m=l&&u-l;return m?Math.round(f*1e3/m):void 0}}function ZI(e,t){let n=0,r=1e3/t,s,i;const o=(u,l=Date.now())=>{n=l,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),d=l-n;d>=r?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const ai=(e,t,n=3)=>{let r=0;const s=QI(50,250);return ZI(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},ul=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ll=e=>(...t)=>b.asap(()=>e(...t)),ek=Ce.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ce.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,tk=Ce.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];b.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),b.isString(r)&&a.push(`path=${r}`),b.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zp(e,t,n){let r=!nk(t);return e&&(r||n==!1)?rk(e,t):t}const dl=e=>e instanceof $e?{...e}:e;function kn(e,t){t=t||{};const n={};function r(u,l,d,f){return b.isPlainObject(u)&&b.isPlainObject(l)?b.merge.call({caseless:f},u,l):b.isPlainObject(l)?b.merge({},l):b.isArray(l)?l.slice():l}function s(u,l,d,f){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u,d,f)}else return r(u,l,d,f)}function i(u,l){if(!b.isUndefined(l))return r(void 0,l)}function o(u,l){if(b.isUndefined(l)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in t)return r(u,l);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(dl(u),dl(l),d,!0)};return b.forEach(Object.keys({...e,...t}),function(l){const d=c[l]||s,f=d(e[l],t[l],l);b.isUndefined(f)&&d!==a||(n[l]=f)}),n}const Wp=e=>{const t=kn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=$e.from(o),t.url=jp(zp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(n)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(Ce.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(t)),r||r!==!1&&ek(t.url))){const c=s&&i&&tk.read(i);c&&o.set(s,c)}return t},sk=typeof XMLHttpRequest<"u",ik=sk&&function(e){return new Promise(function(n,r){const s=Wp(e);let i=s.data;const o=$e.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,f,m,h;function g(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function S(){if(!y)return;const I=$e.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:I,config:e,request:y};Hp(function(E){n(E),g()},function(E){r(E),g()},A),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(r(new z("Request aborted",z.ECONNABORTED,e,y)),y=null)},y.onerror=function(_){const A=_&&_.message?_.message:"Network Error",M=new z(A,z.ERR_NETWORK,e,y);M.event=_||null,r(M),y=null},y.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||Bp;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new z(_,A.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&b.forEach(o.toJSON(),function(_,A){y.setRequestHeader(A,_)}),b.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([f,h]=ai(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([d,m]=ai(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(l=I=>{y&&(r(!I||I.type?new fs(null,e,y):I),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const k=XI(s.url);if(k&&Ce.protocols.indexOf(k)===-1){r(new z("Unsupported protocol "+k+":",z.ERR_BAD_REQUEST,e));return}y.send(i||null)})},ok=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof z?l:new fs(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new z(`timeout of ${t}ms exceeded`,z.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>b.asap(a),c}},ak=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ck=async function*(e,t){for await(const n of uk(e))yield*ak(n,t)},uk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},fl=(e,t,n,r)=>{const s=ck(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(n){let f=i+=d;n(f)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},pl=64*1024,{isFunction:ks}=b,lk=(({Request:e,Response:t})=>({Request:e,Response:t}))(b.global),{ReadableStream:hl,TextEncoder:ml}=b.global,gl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dk=e=>{e=b.merge.call({skipUndefined:!0},lk,e);const{fetch:t,Request:n,Response:r}=e,s=t?ks(t):typeof fetch=="function",i=ks(n),o=ks(r);if(!s)return!1;const a=s&&ks(hl),c=s&&(typeof ml=="function"?(h=>g=>h.encode(g))(new ml):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=i&&a&&gl(()=>{let h=!1;const g=new n(Ce.origin,{body:new hl,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),l=o&&a&&gl(()=>b.isReadableStream(new r("").body)),d={stream:l&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!d[h]&&(d[h]=(g,y)=>{let S=g&&g[h];if(S)return S.call(g);throw new z(`Response type '${h}' is not supported`,z.ERR_NOT_SUPPORT,y)})});const f=async h=>{if(h==null)return 0;if(b.isBlob(h))return h.size;if(b.isSpecCompliantForm(h))return(await new n(Ce.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(b.isArrayBufferView(h)||b.isArrayBuffer(h))return h.byteLength;if(b.isURLSearchParams(h)&&(h=h+""),b.isString(h))return(await c(h)).byteLength},m=async(h,g)=>{const y=b.toFiniteNumber(h.getContentLength());return y??f(g)};return async h=>{let{url:g,method:y,data:S,signal:k,cancelToken:I,timeout:_,onDownloadProgress:A,onUploadProgress:M,responseType:E,headers:R,withCredentials:F="same-origin",fetchOptions:P}=Wp(h),w=t||fetch;E=E?(E+"").toLowerCase():"text";let B=ok([k,I&&I.toAbortSignal()],_),U=null;const D=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let de;try{if(M&&u&&y!=="get"&&y!=="head"&&(de=await m(R,S))!==0){let G=new n(g,{method:"POST",body:S,duplex:"half"}),Y;if(b.isFormData(S)&&(Y=G.headers.get("content-type"))&&R.setContentType(Y),G.body){const[ae,me]=ul(de,ai(ll(M)));S=fl(G.body,pl,ae,me)}}b.isString(F)||(F=F?"include":"omit");const j=i&&"credentials"in n.prototype,Q={...P,signal:B,method:y.toUpperCase(),headers:R.normalize().toJSON(),body:S,duplex:"half",credentials:j?F:void 0};U=i&&new n(g,Q);let O=await(i?w(U,P):w(g,Q));const K=l&&(E==="stream"||E==="response");if(l&&(A||K&&D)){const G={};["status","statusText","headers"].forEach(ge=>{G[ge]=O[ge]});const Y=b.toFiniteNumber(O.headers.get("content-length")),[ae,me]=A&&ul(Y,ai(ll(A),!0))||[];O=new r(fl(O.body,pl,ae,()=>{me&&me(),D&&D()}),G)}E=E||"text";let N=await d[b.findKey(d,E)||"text"](O,h);return!K&&D&&D(),await new Promise((G,Y)=>{Hp(G,Y,{data:N,headers:$e.from(O.headers),status:O.status,statusText:O.statusText,config:h,request:U})})}catch(j){throw D&&D(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,h,U),{cause:j.cause||j}):z.from(j,j&&j.code,h,U)}}},fk=new Map,qp=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,l=fk;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:dk(t)),l=u;return u};qp();const tc={http:CI,xhr:ik,fetch:{get:qp}};b.forEach(tc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yl=e=>`- ${e}`,pk=e=>b.isFunction(e)||e===null||e===!1;function hk(e,t){e=b.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!pk(r)&&(s=tc[(a=String(r)).toLowerCase()],s===void 0))throw new z(`Unknown adapter '${a}'`);if(s&&(b.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(yl).join(`
`):" "+yl(o[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Vp={getAdapter:hk,adapters:tc};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fs(null,e)}function _l(e){return io(e),e.headers=$e.from(e.headers),e.data=so.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vp.getAdapter(e.adapter||ds.adapter,e)(e).then(function(r){return io(e),r.data=so.call(e,e.transformResponse,r),r.headers=$e.from(r.headers),r},function(r){return $p(r)||(io(e),r&&r.response&&(r.response.data=so.call(e,e.transformResponse,r.response),r.response.headers=$e.from(r.response.headers))),Promise.reject(r)})}const Gp="1.13.3",Ci={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ci[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Sl={};Ci.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Gp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new z(s(o," has been removed"+(n?" in "+n:"")),z.ERR_DEPRECATED);return n&&!Sl[o]&&(Sl[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ci.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function mk(e,t,n){if(typeof e!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new z("option "+i+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}}const $s={assertOptions:mk,validators:Ci},pt=$s.validators;let vn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new al,response:new al}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=kn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&$s.assertOptions(r,{silentJSONParsing:pt.transitional(pt.boolean),forcedJSONParsing:pt.transitional(pt.boolean),clarifyTimeoutError:pt.transitional(pt.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:$s.assertOptions(s,{encode:pt.function,serialize:pt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$s.assertOptions(n,{baseUrl:pt.spelling("baseURL"),withXsrfToken:pt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),n.headers=$e.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,d=0,f;if(!c){const h=[_l.bind(this),void 0];h.unshift(...a),h.push(...u),f=h.length,l=Promise.resolve(n);let g=n;for(;d<f;)l=l.then(h[d++]).then(y=>{g=y!==void 0?y:g}).catch(h[d++]).then(()=>g);return l}f=a.length;let m=n;for(;d<f;){const h=a[d++],g=a[d++];try{m=h(m)}catch(y){g.call(this,y);break}}try{l=_l.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,f=u.length;d<f;)l=l.then(u[d++]).catch(u[d++]);return l}getUri(t){t=kn(this.defaults,t);const n=zp(t.baseURL,t.url,t.allowAbsoluteUrls);return jp(n,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){vn.prototype[t]=function(n,r){return this.request(kn(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(kn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}vn.prototype[t]=n(),vn.prototype[t+"Form"]=n(!0)});let gk=class Kp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new fs(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Kp(function(s){t=s}),cancel:t}}};function yk(e){return function(n){return e.apply(null,n)}}function _k(e){return b.isObject(e)&&e.isAxiosError===!0}const Xo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xo).forEach(([e,t])=>{Xo[t]=e});function Yp(e){const t=new vn(e),n=kp(vn.prototype.request,t);return b.extend(n,vn.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Yp(kn(e,s))},n}const Se=Yp(ds);Se.Axios=vn;Se.CanceledError=fs;Se.CancelToken=gk;Se.isCancel=$p;Se.VERSION=Gp;Se.toFormData=Ri;Se.AxiosError=z;Se.Cancel=Se.CanceledError;Se.all=function(t){return Promise.all(t)};Se.spread=yk;Se.isAxiosError=_k;Se.mergeConfig=kn;Se.AxiosHeaders=$e;Se.formToJSON=e=>Up(b.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=Vp.getAdapter;Se.HttpStatusCode=Xo;Se.default=Se;const{Axios:mR,AxiosError:gR,CanceledError:yR,isCancel:_R,CancelToken:SR,VERSION:bR,all:ER,Cancel:vR,isAxiosError:xR,spread:wR,toFormData:TR,AxiosHeaders:IR,HttpStatusCode:kR,formToJSON:RR,getAdapter:CR,mergeConfig:AR}=Se,Jp="https://sentinel-authority-production.up.railway.app",OR=Jp,Qe=Se.create({baseURL:Jp});Qe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Qe.interceptors.response.use(e=>e,e=>{var t,n,r,s;return e.response&&e.response.status===401&&!((n=(t=e.config)==null?void 0:t.url)!=null&&n.includes("/api/chat"))&&!((s=(r=e.config)==null?void 0:r.url)!=null&&s.includes("/api/envelo/sessions"))&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Xp=v.createContext(null);function Sk({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("user");c&&u&&n(JSON.parse(u)),s(!1)},[]);const i=async(c,u)=>{const l=await Qe.post("/api/auth/login",{email:c,password:u});return localStorage.setItem("token",l.data.access_token),localStorage.setItem("user",JSON.stringify(l.data.user)),n(l.data.user),l.data.user},o=async c=>{const u=await Qe.post("/api/auth/register",c);return localStorage.setItem("token",u.data.access_token),localStorage.setItem("user",JSON.stringify(u.data.user)),n(u.data.user),u.data.user},a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null)};return p.jsx(Xp.Provider,{value:{user:t,login:i,register:o,logout:a,loading:r},children:e})}function Ai(){return v.useContext(Xp)}const Qp=Rt.createContext();function bk({children:e}){const[t,n]=v.useState([]),r=Rt.useCallback((o,a="info")=>{const c=Date.now()+Math.random();n(u=>[...u,{id:c,message:o,type:a}]),setTimeout(()=>n(u=>u.filter(l=>l.id!==c)),4500)},[]),s=Rt.useCallback(o=>{n(a=>a.filter(c=>c.id!==o))},[]),i={success:{bg:"rgba(22,135,62,.08)",border:"rgba(22,135,62,.25)",text:T.accentGreen,icon:""},error:{bg:"rgba(180,52,52,.08)",border:"rgba(180,52,52,.25)",text:T.accentRed,icon:""},warning:{bg:"rgba(158,110,18,.08)",border:"rgba(158,110,18,.25)",text:T.accentAmber,icon:""},info:{bg:"rgba(29,26,59,.08)",border:"rgba(29,26,59,.25)",text:T.purpleBright,icon:""}};return p.jsxs(Qp.Provider,{value:{show:r},children:[e,p.jsx("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"6px",maxWidth:"380px"},children:t.map(o=>{const a=i[o.type]||i.info;return p.jsxs("div",{style:{background:a.bg,backdropFilter:T.frostToast,border:`1px solid ${a.border}`,padding:"10px 14px",display:"flex",alignItems:"flex-start",gap:"8px",animation:"slideIn .25s ease-out"},children:[p.jsx("span",{style:{fontSize:"13px",lineHeight:1,marginTop:"1px"},children:a.icon}),p.jsx("span",{style:{flex:1,color:a.text,fontSize:"12px",lineHeight:1.4,fontFamily:T.mono},children:o.message}),p.jsx("button",{onClick:()=>s(o.id),style:{background:"none",border:"none",color:a.text,cursor:"pointer",fontSize:"14px",padding:0,lineHeight:1,opacity:.6},children:""})]},o.id)})})]})}function PR(){return Rt.useContext(Qp)}const Zp=Rt.createContext();function Ek({children:e}){const[t,n]=v.useState({open:!1,title:"",message:"",onConfirm:null,onCancel:null,confirmLabel:"Confirm",danger:!1}),r=i=>new Promise(o=>{n({open:!0,title:i.title||"Confirm",message:i.message||"Are you sure?",confirmLabel:i.confirmLabel||"Confirm",danger:i.danger||!1,onConfirm:()=>{n(a=>({...a,open:!1})),o(!0)},onCancel:()=>{n(a=>({...a,open:!1})),o(!1)}})}),s=t.open?xh.createPortal(p.jsx("div",{onClick:t.onCancel,style:{position:"fixed",inset:0,zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.25)",backdropFilter:T.frostOverlay,WebkitBackdropFilter:T.frostOverlay},children:p.jsxs("div",{onClick:i=>i.stopPropagation(),style:{background:"rgba(255,255,255,0.95)",backdropFilter:T.frostModal,WebkitBackdropFilter:T.frostModal,border:"1px solid "+T.borderGlass,maxWidth:"420px",width:"90%",padding:"32px",position:"relative"},children:[p.jsx("button",{onClick:t.onCancel,style:{position:"absolute",top:14,right:14,appearance:"none",border:"none",background:"none",color:T.textDim,fontFamily:T.mono,fontSize:"18px",cursor:"pointer",lineHeight:1},children:""}),p.jsx("h3",{style:{fontFamily:T.mono,fontSize:"10px",fontWeight:400,letterSpacing:"2.5px",textTransform:"uppercase",color:t.danger?T.accentRed:T.purpleBright,margin:"0 0 4px"},children:t.title}),p.jsx("p",{style:{color:T.textTertiary,fontFamily:T.mono,fontSize:"13px",lineHeight:1.6,margin:"0 0 24px"},children:t.message}),p.jsxs("button",{onClick:t.onConfirm,style:{appearance:"none",width:"100%",border:"1px solid "+(t.danger?"rgba(180,52,52,.25)":"rgba(29,26,59,.25)"),background:"transparent",color:t.danger?T.accentRed:T.purpleBright,padding:"12px 24px",fontFamily:T.mono,fontSize:"10px",letterSpacing:"2.5px",textTransform:"uppercase",cursor:"pointer"},children:[t.confirmLabel," "]})]})}),document.body):null;return p.jsxs(Zp.Provider,{value:r,children:[e,s]})}const MR=()=>Rt.useContext(Zp);function Oe({children:e,roles:t}){const{user:n,loading:r}=Ai();return r?p.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:T.bgDeep,color:T.textPrimary},children:"Loading..."}):n?t&&!t.includes(n.role)?p.jsx(Wo,{to:"/dashboard"}):e:p.jsx(Wo,{to:"/login"})}function vk(){const[e,t]=v.useState(window.innerWidth<768);return v.useEffect(()=>{const n=()=>t(window.innerWidth<768);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const xk="https://sentinel-authority-production.up.railway.app";function wk({user:e,applications:t,certificates:n,sessions:r,activeTests:s}){var h;const i=(e==null?void 0:e.role)||"customer",o=((h=e==null?void 0:e.full_name)==null?void 0:h.split(" ")[0])||"",a=t||[],c=n||[],u=r||[],l=a.length?a.map(g=>{var y;return`   ${g.system_name} [${g.application_number||g.id}]  state: ${g.state}, updated: ${((y=g.updated_at)==null?void 0:y.split("T")[0])||"?"}`}).join(`
`):"  (none)",d=c.length?c.map(g=>`   ${g.certificate_number}  ${g.system_name}  state: ${g.state}${g.expires_at?", expires: "+g.expires_at.split("T")[0]:""}`).join(`
`):"  (none)",f=u.filter(g=>{const y=g.last_heartbeat_at||g.last_telemetry_at||g.started_at;return g.status==="active"&&y&&Date.now()-new Date(y).getTime()<12e4}),m=(s||[]).length?(s||[]).map(g=>{const y=g.cat72_started_at?new Date(g.cat72_started_at):null,S=y?(Date.now()-y.getTime())/1e3:0,k=Math.max(0,72*3600-S),I=Math.min(100,S/(72*3600)*100).toFixed(0);return`   ${g.system_name}  ${I}% complete, ${(k/3600).toFixed(1)}h remaining`}).join(`
`):"  (none)";return`You are the Sentinel Authority operations assistant  an AI built into the certification platform dashboard. You have complete, authoritative knowledge of the ODDC certification process and the ENVELO Interlock system.

IDENTITY: You are the Sentinel Authority AI  not a generic assistant. Speak with operational precision. Be direct, specific, and actionable. Never say "I'm just an AI."

QUALITY: Use correct spelling and grammar at all times. Responses must be concise  3 sentences maximum unless the user asks for detail.

CURRENT USER:
  Name: ${o||"unknown"}
  Role: ${i}
  Organization: ${(e==null?void 0:e.organization_name)||"unknown"}

THEIR LIVE DATA:
Applications:
${l}

Certificates:
${d}

Active CAT-72 Tests:
${m}

Live Interlocks: ${f.length} online / ${u.length} total sessions


COMPLETE ODDC WORKFLOW  EVERY STEP


STEP 1  APPLICATION SUBMITTED
  Customer submits: org info, system description, ODD, boundary definitions
  Boundary types: numeric (speed/temp/etc), geographic (lat/lon/radius), time (hours/days), state (allowed/forbidden modes)
  State becomes: "pending"
  Admin action needed: click "Begin Review"

STEP 2  ADMIN REVIEW (HUMAN STEP)
  Admin clicks "Begin Review"  state: "under_review"
  Admin evaluates boundary completeness and reasonableness
  Admin writes justification note, clicks "Approve"  state: "approved"
  ON APPROVAL (AUTOMATIC): API key is generated AND emailed to customer
  Customer should NEVER need to generate their own key manually

STEP 3  CUSTOMER DEPLOYS INTERLOCK (HUMAN STEP)
  Customer receives API key via email (also visible in ENVELO tab)
  Customer downloads envelo_agent.py from ENVELO Interlock tab
  Customer runs:
    pip install httpx
    python envelo_agent.py
  Interlock starts sending heartbeats every 30 seconds to the Railway backend
  Dashboard state: "approved" but interlock not yet confirmed

STEP 4  ADMIN BEGINS CAT-72 (HUMAN STEP)
  Admin sees interlock online in Monitoring tab (green dot = heartbeat <2 min ago)
  Admin clicks "Begin CAT-72" button for that system  state: "testing"
  72-hour clock starts

STEP 5  CAT-72 RUNS (FULLY AUTOMATIC  no human action needed)
  Interlock enforces all defined boundaries on every action
  Every enforcement logged as PASS or BLOCK with telemetry
  Telemetry flushes to backend every 10 seconds
  If any violation occurs  test FAILS (admin is notified)
  If 72 hours pass without violations  PASS is auto-triggered

STEP 6  CERTIFICATE ISSUED (AUTOMATIC ON PASS)
  Certificate auto-issues immediately on PASS
  Certificate number format: ODDC-YYYY-XXXXX
  Customer views/downloads certificate from dashboard
  State: "conformant"

STEP 7  ONGOING PRODUCTION MONITORING
  Certified interlock continues sending telemetry indefinitely
  Violations logged but don't auto-revoke (admin decision required)
  Certificates expire annually
  Renewal triggers a new CAT-72 cycle


TECHNICAL FACTS

ENVELO = Enforced Non-Violable Execution-Limit Override
ODDC   = Operational Design Domain Conformance
CAT-72 = 72-hour Continuous Autonomy Test
Backend: Railway  sentinel-authority-production.up.railway.app
Frontend: Vercel  app.sentinelauthority.org
Heartbeat: every 30 seconds
"Online" = heartbeat received within last 2 minutes
API key format: sa_live_XXXXXXXX...

COMMON ISSUES:
  "Stuck in pending"  Admin needs to click Begin Review (ENVELO tab  Review Queue)
  "Approved but test not starting"  Customer hasn't deployed interlock yet, OR admin hasn't clicked Begin CAT-72
  "Interlock offline during test"  Customer needs to restart agent. >5 min offline = admin may need to restart test
  "Test failed"  Boundary violation occurred  check telemetry for which parameter and what value caused it
  "No API key"  Emailed on approval; admin can resend from ENVELO tab  Approved section  Resend Key
  "Install error"  Run: pip install httpx, then python envelo_agent.py
  "Can't connect"  Firewall must allow outbound HTTPS to sentinel-authority-production.up.railway.app port 443

${i==="admin"?`
ADMIN MODE: You have full visibility across all customers.
When asked "what needs attention?" surface: pending reviews, approved apps where interlock hasn't connected, near-complete CAT-72 tests, any anomalies.
Be direct about operational decisions. Help the admin run a tight, efficient certification operation.
`:`
CUSTOMER MODE: Guide this customer through their certification journey.
Be specific  tell them exactly what to click, where to find things, what commands to run.
Make the complex simple. Acknowledge their progress.
`}

RESPONSE STYLE:
  - 2-4 sentences max unless steps require more
  - Use bullet points only for multi-step instructions
  - Specific UI labels and terminal commands when relevant
  - Never make up data  reference only what's in the live data above
  - If uncertain, say so and direct them where to find the answer`}function Tk(e,t){var a;const n=e==null?void 0:e.role,r=(a=e==null?void 0:e.full_name)==null?void 0:a.split(" ")[0],s=t.applications||[];if(n==="admin"){const c=s.filter(m=>m.state==="pending").length,u=s.filter(m=>m.state==="under_review").length,l=s.filter(m=>m.state==="approved").length,d=s.filter(m=>m.state==="testing").length,f=[];return c&&f.push(`${c} application${c>1?"s":""} in queue`),u&&f.push(`${u} under review  awaiting your decision`),l&&f.push(`${l} approved  waiting for customer to deploy interlock`),d&&f.push(`${d} CAT-72 test${d>1?"s":""} running`),f.length?`${r?"Hey "+r+".":"Hey."} Here's what's in motion:

${f.map(m=>" "+m).join(`
`)}

What do you want to work on?`:`${r?"Hey "+r+".":"Hey."} Queue is clear. How can I help?`}const i=[...s].sort((c,u)=>new Date(u.updated_at)-new Date(c.updated_at))[0];if(!i)return`${r?"Hey "+r+".":"Hey."} Ready to start your ODDC certification? I can walk you through submitting an application.`;const o={pending:`Your application for **${i.system_name}** is in the review queue. No action needed from you right now.`,under_review:`Your application for **${i.system_name}** is being reviewed. You'll hear back soon.`,approved:`Your application for **${i.system_name}** is approved  time to deploy the ENVELO Interlock. I can walk you through it step by step.`,testing:`Your CAT-72 test is running for **${i.system_name}**. Keep the agent running  I'll let you know if anything looks off.`,conformant:`**${i.system_name}** is ODDC conformant. Certificate active. Anything you need?`,rejected:`Your application for **${i.system_name}** was returned with required changes. Want help understanding what needs to change?`};return`${r?"Hey "+r+".":"Hey."} ${o[i.state]||"How can I help with your certification?"}`}function Ik({msg:e}){if(e.role==="note")return p.jsx("div",{style:{textAlign:"center",padding:"4px 0",color:T.textTertiary,fontFamily:T.mono,fontSize:"10px",letterSpacing:"1px"},children:e.content});const t=e.role==="user",n=r=>r.split(`
`).map((s,i)=>{const o=s.split(/\*\*(.+?)\*\*/g).map((c,u)=>u%2===1?p.jsx("strong",{children:c},u):c),a=/^[\-*] /.test(s);return p.jsxs("div",{style:{marginBottom:s===""?"7px":"1px",paddingLeft:a?"14px":0,position:"relative"},children:[a&&p.jsx("span",{style:{position:"absolute",left:0,color:T.purpleBright,fontSize:"12px"},children:""}),p.jsx("span",{children:a?o.slice(1):o})]},i)});return p.jsxs("div",{style:{display:"flex",justifyContent:t?"flex-end":"flex-start",marginBottom:"9px",gap:"7px",alignItems:"flex-start"},children:[!t&&p.jsx("div",{style:{width:"20px",height:"20px",flexShrink:0,marginTop:"4px",borderRadius:"50%",background:"rgba(29,26,59,0.09)",border:"1px solid rgba(29,26,59,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"},children:""}),p.jsx("div",{style:{maxWidth:"84%",padding:"9px 12px",background:t?"rgba(29,26,59,0.07)":"rgba(255,255,255,0.75)",border:`1px solid ${t?"rgba(29,26,59,0.14)":T.borderGlass}`,borderRadius:t?"11px 3px 11px 11px":"3px 11px 11px 11px",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:p.jsxs("div",{style:{fontSize:"13px",lineHeight:"1.65",color:T.textPrimary,fontFamily:T.sans},children:[n(e.content),e.streaming&&p.jsx("span",{style:{display:"inline-block",width:"2px",height:"13px",background:T.purpleBright,marginLeft:"2px",verticalAlign:"middle",animation:"sa-blink 0.7s step-end infinite"}})]})})]})}function kk({role:e,onSend:t}){const n=e==="admin"?["What needs my attention?","Show pending apps","Any interlocks offline?","CAT-72 status?"]:["What's my next step?","How do I install the interlock?","Where's my API key?","How long does the test take?"];return p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"7px 11px 3px",borderTop:`1px solid ${T.borderSubtle}`},children:n.map((r,s)=>p.jsx("button",{onClick:()=>t(r),style:{padding:"4px 9px",background:"rgba(29,26,59,0.05)",border:"1px solid rgba(29,26,59,0.15)",color:T.purpleBright,fontFamily:T.mono,fontSize:"10px",cursor:"pointer",borderRadius:"999px",whiteSpace:"nowrap"},onMouseEnter:i=>i.currentTarget.style.background="rgba(29,26,59,0.11)",onMouseLeave:i=>i.currentTarget.style.background="rgba(29,26,59,0.05)",children:r},s))})}function Rk(){const{user:e}=Ai(),[t,n]=v.useState(!1),[r,s]=v.useState([]),[i,o]=v.useState(""),[a,c]=v.useState(!1),[u,l]=v.useState(!1),[d,f]=v.useState({}),[m,h]=v.useState(!0),g=v.useRef(null),y=v.useRef(null);v.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[r]),v.useEffect(()=>{t&&y.current&&setTimeout(()=>{var _;return(_=y.current)==null?void 0:_.focus()},100)},[t]),v.useEffect(()=>{t&&!u&&S()},[t]);const S=async()=>{var _,A,M;try{const[E,R,F]=await Promise.all([Qe.get("/api/applications/").catch(()=>({data:[]})),Qe.get("/api/certificates/").catch(()=>({data:[]})),Qe.get("/api/envelo/sessions").catch(()=>({data:{sessions:[]}}))]),P={applications:((_=E.data)==null?void 0:_.applications)||E.data||[],certificates:R.data||[],sessions:((A=F.data)==null?void 0:A.sessions)||[],activeTests:(((M=E.data)==null?void 0:M.applications)||E.data||[]).filter(w=>w.state==="testing")};f(P),l(!0),s([{role:"assistant",content:Tk(e,P)}])}catch{l(!0),s([{role:"assistant",content:`Hey${e!=null&&e.full_name?" "+e.full_name.split(" ")[0]:""}! I'm your Sentinel Authority assistant. How can I help?`}])}},k=v.useCallback(async _=>{var R,F,P,w,B,U,D,de;const A=(_||i).trim();if(!A||a)return;o(""),h(!1);const M=r.filter(j=>(j.role==="user"||j.role==="assistant")&&j.content&&!j.streaming).map(j=>({role:j.role,content:j.content}));M.push({role:"user",content:A}),s(j=>[...j,{role:"user",content:A},{role:"assistant",content:"",streaming:!0}]),c(!0);const E=wk({user:e,...d});try{const j=localStorage.getItem("token")||sessionStorage.getItem("token")||"",Q=await fetch(`${xk}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({system:E,messages:M,stream:!0})});if(!Q.ok)throw new Error(`HTTP ${Q.status}`);const O=Q.body.getReader(),K=new TextDecoder;let N="";for(;;){const{done:G,value:Y}=await O.read();if(G)break;for(const ae of K.decode(Y,{stream:!0}).split(`
`)){if(!ae.startsWith("data: "))continue;const me=ae.slice(6).trim();if(me!=="[DONE]")try{const ge=JSON.parse(me),St=((R=ge.delta)==null?void 0:R.text)||((w=(P=(F=ge.choices)==null?void 0:F[0])==null?void 0:P.delta)==null?void 0:w.content)||((U=(B=ge.content)==null?void 0:B[0])==null?void 0:U.text)||"";St&&(N+=St,s(tt=>{const ft=[...tt];return ft[ft.length-1]={role:"assistant",content:N,streaming:!0},ft}))}catch{}}}s(G=>{const Y=[...G];return Y[Y.length-1]={role:"assistant",content:N||"Sorry, try again.",streaming:!1},Y})}catch(j){let Q="Connection error. Try again.";(D=j.message)!=null&&D.includes("404")&&(Q="The /api/chat endpoint is not deployed yet. Add chat.py to Railway and set ANTHROPIC_API_KEY."),(de=j.message)!=null&&de.includes("401")&&(Q="Auth error  try refreshing."),s(O=>{const K=[...O];return K[K.length-1]={role:"assistant",content:Q,streaming:!1},K})}finally{c(!1)}},[i,a,r,e,d]),I=()=>{s([]),l(!1),f({}),h(!0),n(!1),setTimeout(()=>n(!0),60)};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:"@keyframes sa-blink{0%,100%{opacity:1}50%{opacity:0}} @keyframes sa-up{from{opacity:0;transform:translateY(12px) scale(0.97)}to{opacity:1;transform:translateY(0) scale(1)}} @keyframes spin{to{transform:rotate(360deg)}}"}),!t&&p.jsx("button",{onClick:()=>n(!0),style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3,width:"50px",height:"50px",borderRadius:"50%",background:T.purplePrimary,border:"1px solid rgba(100,80,160,0.5)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(29,26,59,0.35)",transition:"all 0.2s",fontSize:"22px",color:"#fff"},onMouseEnter:_=>{_.currentTarget.style.transform="scale(1.07)",_.currentTarget.style.boxShadow="0 6px 28px rgba(29,26,59,0.5)"},onMouseLeave:_=>{_.currentTarget.style.transform="scale(1)",_.currentTarget.style.boxShadow="0 4px 20px rgba(29,26,59,0.35)"},title:"Sentinel Assistant",children:""}),t&&p.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1001,width:"min(390px, calc(100vw - 40px))",height:"min(570px, calc(100vh - 96px))",display:"flex",flexDirection:"column",background:"rgba(248,248,252,0.94)",backdropFilter:"blur(24px) saturate(1.5)",WebkitBackdropFilter:"blur(24px) saturate(1.5)",border:`1px solid ${T.borderGlass}`,borderRadius:"16px",boxShadow:"0 12px 56px rgba(15,18,30,0.14), 0 2px 8px rgba(15,18,30,0.06)",animation:"sa-up 0.2s ease-out",overflow:"hidden"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"13px 16px",borderBottom:`1px solid ${T.borderSubtle}`,background:"rgba(255,255,255,0.55)",flexShrink:0},children:[p.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",background:"rgba(29,26,59,0.08)",border:"1px solid rgba(29,26,59,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"13px",flexShrink:0},children:""}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontFamily:T.mono,fontSize:"11px",letterSpacing:"2px",textTransform:"uppercase",color:T.textPrimary,fontWeight:500},children:"Sentinel Assistant"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginTop:"2px"},children:[p.jsx("div",{style:{width:"5px",height:"5px",borderRadius:"50%",background:u?T.accentGreen:T.accentAmber}}),p.jsx("span",{style:{fontFamily:T.mono,fontSize:"9px",color:u?T.accentGreen:T.accentAmber,letterSpacing:"0.5px"},children:u?"Ready":"Loading"})]})]}),p.jsx("button",{onClick:I,title:"Reset",style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:T.textTertiary,display:"flex"},onMouseEnter:_=>_.currentTarget.style.color=T.textSecondary,onMouseLeave:_=>_.currentTarget.style.color=T.textTertiary,children:p.jsx(rh,{size:13})}),p.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"5px",color:T.textTertiary,display:"flex"},onMouseEnter:_=>_.currentTarget.style.color=T.textSecondary,onMouseLeave:_=>_.currentTarget.style.color=T.textTertiary,children:p.jsx(sh,{size:16})})]}),p.jsxs("div",{ref:g,style:{flex:1,overflowY:"auto",padding:"13px 11px",display:"flex",flexDirection:"column"},children:[!u&&r.length===0&&p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"12px",color:T.textTertiary},children:[p.jsx("div",{style:{width:"26px",height:"26px",border:`2px solid ${T.borderGlass}`,borderTopColor:T.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),p.jsx("span",{style:{fontFamily:T.mono,fontSize:"11px",letterSpacing:"1px"},children:"Loading your context"})]}),r.map((_,A)=>p.jsx(Ik,{msg:_},A))]}),m&&r.length<=1&&u&&p.jsx(kk,{role:e==null?void 0:e.role,onSend:k}),p.jsxs("div",{style:{padding:"10px",borderTop:`1px solid ${T.borderSubtle}`,background:"rgba(255,255,255,0.45)",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",gap:"7px",alignItems:"flex-end",background:"rgba(255,255,255,0.65)",border:`1px solid ${T.borderGlass}`,borderRadius:"10px",padding:"7px 10px"},children:[p.jsx("textarea",{ref:y,value:i,onChange:_=>o(_.target.value),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),k())},placeholder:"Ask about your certification",rows:1,disabled:a,style:{flex:1,background:"none",border:"none",outline:"none",resize:"none",fontFamily:T.sans,fontSize:"13px",color:T.textPrimary,lineHeight:"1.5",maxHeight:"72px",overflowY:"auto"},onInput:_=>{_.target.style.height="auto",_.target.style.height=Math.min(_.target.scrollHeight,72)+"px"}}),p.jsx("button",{onClick:()=>k(),disabled:!i.trim()||a,style:{width:"29px",height:"29px",borderRadius:"6px",flexShrink:0,background:i.trim()&&!a?T.purplePrimary:"transparent",border:`1px solid ${i.trim()&&!a?"transparent":T.borderGlass}`,cursor:i.trim()&&!a?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},children:a?p.jsx("div",{style:{width:"13px",height:"13px",border:`2px solid ${T.textTertiary}`,borderTopColor:T.purpleBright,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):p.jsx(ih,{size:12,color:i.trim()?"#fff":T.textTertiary})})]}),p.jsx("div",{style:{textAlign:"center",marginTop:"5px",fontFamily:T.mono,fontSize:"9px",color:T.textTertiary,letterSpacing:"0.3px"},children:"Enter to send  Shift+Enter new line"})]})]})]})}const Ck=[{section:"Operational"},{name:"Dashboard",href:"/dashboard",icon:oh,roles:["admin","applicant"]},{name:"Applications",href:"/applications",icon:ah,roles:["admin","applicant"]},{name:"CAT-72 Console",href:"/cat72",icon:ch,roles:["admin","applicant"]},{name:"Monitoring",href:"/monitoring",icon:uh,roles:["admin","applicant"]},{name:"Certificates",href:"/certificates",icon:lh,roles:["admin","applicant"]},{name:"ENVELO Interlock",href:"/envelo",icon:"brand",roles:["admin","applicant"],requiresCert:!0},{section:"Registry"},{name:"Activity Log",href:"/activity",icon:sc,roles:["admin"]},{name:"My Activity",href:"/my-activity",icon:sc,roles:["admin","applicant"]},{name:"Licensees",href:"/licensees",icon:dh,roles:["admin"]},{section:"Admin"},{name:"User Management",href:"/users",icon:fh,roles:["admin"]},{name:"Resources",href:"/resources",icon:ph,roles:["admin","applicant"]},{name:"API Docs",href:"/api-docs",icon:hh,roles:["admin"]},{name:"Settings",href:"/settings",icon:mh,roles:["admin","applicant"]}];function Ak(e){return e?new Date(e).toISOString().replace("T"," ").substring(0,16)+"Z":""}const Ok={"/dashboard":[{label:"Dashboard"}],"/applications":[{label:"Applications"}],"/applications/new":[{label:"Applications",href:"/applications"},{label:"New Application"}],"/cat72":[{label:"CAT-72 Console"}],"/certificates":[{label:"Certificates"}],"/envelo":[{label:"ENVELO Interlock"}],"/monitoring":[{label:"Monitoring"}],"/activity":[{label:"Activity Log"}],"/my-activity":[{label:"My Activity"}],"/settings":[{label:"Settings"}],"/users":[{label:"User Management"}],"/licensees":[{label:"Licensees"}],"/resources":[{label:"Resources"}],"/api-docs":[{label:"API Docs"}]};function Pk({pathname:e}){let t=Ok[e];if(!t){const n=e.match(/^\/applications\/(.+)$/);n&&(t=[{label:"Applications",href:"/applications"},{label:n[1],mono:!0}]);const r=e.match(/^\/certificates\/(.+)$/);r&&(t=[{label:"Certificates",href:"/certificates"},{label:r[1],mono:!0}])}return!t||t.length<=1?null:p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px clamp(16px, 3vw, 32px)",borderBottom:"1px solid #dddbda",background:"#fafafa"},children:t.map((n,r)=>p.jsxs(Rt.Fragment,{children:[r>0&&p.jsx("span",{style:{fontFamily:T.mono,fontSize:"10px",color:T.textDim,userSelect:"none"},children:""}),n.href?p.jsx(Go,{to:n.href,style:{fontFamily:n.mono?T.mono:T.sans,fontSize:"11px",color:T.textTertiary,textDecoration:"none",letterSpacing:n.mono?"0.05em":"0"},onMouseEnter:s=>s.currentTarget.style.color=T.purplePrimary,onMouseLeave:s=>s.currentTarget.style.color=T.textTertiary,children:n.label}):p.jsx("span",{style:{fontFamily:n.mono?T.mono:T.sans,fontSize:"11px",color:T.textPrimary,fontWeight:500,letterSpacing:n.mono?"0.05em":"0"},children:n.label})]},r))})}function Pe({children:e}){const{user:t,logout:n}=Ai(),r=vk(),[s,i]=v.useState(!r),[o,a]=v.useState([]),[c,u]=v.useState([]),l=br(),[d,f]=v.useState([]),[m,h]=v.useState(!1),[g,y]=v.useState(0);v.useEffect(()=>{t&&(Qe.get("/api/certificates/").then(w=>a(w.data||[])).catch(()=>{}),Qe.get("/api/applications/").then(w=>u(w.data.applications||w.data||[])).catch(()=>{}),localStorage.getItem("token")&&Qe.get("/api/users/notifications").then(w=>{f(w.data.notifications||[]),y(w.data.unread_count||0)}).catch(()=>{}))},[t]),v.useEffect(()=>{if(!t)return;const w=setInterval(()=>{localStorage.getItem("token")&&Qe.get("/api/users/notifications").then(B=>{f(B.data.notifications||[]),y(B.data.unread_count||0)}).catch(()=>{})},6e4);return()=>clearInterval(w)},[t]);const S=()=>{Qe.post("/api/users/notifications/mark-read").then(()=>y(0)).catch(()=>{}),h(!1)},k=o.some(w=>["conformant","active","issued"].includes(w.state)),I=c.some(w=>["approved","testing"].includes(w.state)),_=k||I,A=Ck.filter(w=>w.section?!0:!(!w.roles.includes((t==null?void 0:t.role)||"")||w.requiresCert&&(t==null?void 0:t.role)!=="admin"&&!_)),M=A.filter((w,B)=>{if(!w.section)return!0;const U=A[B+1];return U&&!U.section}),E=w=>l.pathname===w||w!=="/dashboard"&&l.pathname.startsWith(w),R={background:"rgba(245,245,247,0.92)",backdropFilter:"blur(24px) saturate(1.4)",WebkitBackdropFilter:"blur(24px) saturate(1.4)",borderColor:"rgba(15,18,30,0.06)"},F=w=>({display:"flex",alignItems:"center",gap:"10px",padding:"8px 16px",textDecoration:"none",fontFamily:T.mono,fontSize:"11px",fontWeight:w?600:400,letterSpacing:"0.06em",textTransform:"uppercase",color:w?T.textPrimary:T.textTertiary,borderLeft:`2px solid ${w?T.purpleBright:"transparent"}`,background:w?"rgba(29,26,59,.06)":"transparent",transition:"color 0.15s, background 0.15s"}),P={fontFamily:T.mono,fontSize:"9px",fontWeight:500,letterSpacing:"0.14em",textTransform:"uppercase",color:T.textDim,padding:"16px 16px 4px"};return p.jsxs("div",{style:{minHeight:"100vh",color:T.textPrimary,fontFamily:T.sans,background:T.bgDeep},children:[r&&s&&p.jsx("div",{onClick:()=>i(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,.12)",zIndex:40}}),p.jsxs("div",{style:{position:"fixed",top:0,left:0,bottom:0,zIndex:50,width:"220px",transform:s||!r?"translateX(0)":"translateX(-100%)",transition:"transform 0.2s ease",background:R.background,backdropFilter:R.backdropFilter,WebkitBackdropFilter:R.WebkitBackdropFilter,borderRight:`1px solid ${R.borderColor}`,display:"flex",flexDirection:"column"},children:[p.jsxs("div",{style:{height:"72px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:`1px solid ${R.borderColor}`,flexShrink:0},children:[p.jsxs(Go,{to:"/dashboard",style:{display:"flex",alignItems:"center",gap:"10px",textDecoration:"none"},children:[p.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("circle",{cx:"60",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),p.jsx("circle",{cx:"60",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),p.jsx("text",{x:"60",y:"74",textAnchor:"middle",fontFamily:"League Spartan,Arial,sans-serif",fontWeight:"900",fontSize:"42",letterSpacing:"-1.1",fill:"#1d1a3b",children:"SA"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:1.15},children:[p.jsx("span",{style:{fontFamily:T.mono,fontSize:"10px",letterSpacing:"0.20em",textTransform:"uppercase",color:T.textPrimary,whiteSpace:"nowrap"},children:"SENTINEL"}),p.jsx("span",{style:{fontFamily:T.mono,fontSize:"8px",letterSpacing:"0.20em",textTransform:"uppercase",color:T.textTertiary,whiteSpace:"nowrap"},children:"AUTHORITY"})]})]}),r&&p.jsx("button",{onClick:()=>i(!1),style:{color:T.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px"},children:p.jsx(gh,{size:16})})]}),p.jsx("nav",{style:{flex:1,overflowY:"auto",padding:"8px 0"},children:M.map((w,B)=>{if(w.section)return p.jsx("div",{style:P,children:w.section},`section-${B}`);const U=E(w.href);return p.jsxs(Go,{to:w.href,style:F(U),onClick:()=>r&&i(!1),onMouseEnter:D=>{U||(D.currentTarget.style.color=T.textPrimary,D.currentTarget.style.background="rgba(0,0,0,.025)")},onMouseLeave:D=>{U||(D.currentTarget.style.color=T.textTertiary,D.currentTarget.style.background="transparent")},children:[w.icon==="brand"?p.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("circle",{cx:"60",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),p.jsx("circle",{cx:"60",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),p.jsx("text",{x:"60",y:"74",textAnchor:"middle",fontFamily:"League Spartan,Arial,sans-serif",fontWeight:"900",fontSize:"42",letterSpacing:"-1.1",fill:"#1d1a3b",children:"SA"})]}):p.jsx(w.icon,{size:13,style:{opacity:U?.9:.5,flexShrink:0}}),w.name]},w.href)})}),p.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${R.borderColor}`,flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[p.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("circle",{cx:"60",cy:"60",r:"50",stroke:"#1d1a3b",strokeWidth:"3.4"}),p.jsx("circle",{cx:"60",cy:"60",r:"43",stroke:"#1d1a3b",strokeWidth:"1.1",strokeOpacity:"0.20"}),p.jsx("text",{x:"60",y:"74",textAnchor:"middle",fontFamily:"League Spartan,Arial,sans-serif",fontWeight:"900",fontSize:"42",letterSpacing:"-1.1",fill:"#1d1a3b",children:"SA"})]}),p.jsxs("div",{style:{minWidth:0},children:[p.jsx("div",{style:{fontSize:"13px",color:T.textPrimary,fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t==null?void 0:t.full_name}),p.jsx("div",{style:{fontFamily:T.mono,fontSize:"9px",letterSpacing:"0.06em",textTransform:"uppercase",color:T.textTertiary},children:t==null?void 0:t.role})]})]}),p.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"8px",fontFamily:T.mono,fontSize:"10px",letterSpacing:"0.06em",textTransform:"uppercase",color:T.textTertiary,background:"none",border:"none",cursor:"pointer",padding:0},onMouseEnter:w=>w.currentTarget.style.color=T.accentRed,onMouseLeave:w=>w.currentTarget.style.color=T.textTertiary,children:[p.jsx(yh,{size:11}),"Sign Out"]}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"10px"},children:[p.jsx("a",{href:"https://sentinelauthority.org/terms.html",target:"_blank",rel:"noreferrer noopener",style:{fontFamily:"var(--mono, monospace)",fontSize:"9px",letterSpacing:"0.06em",textTransform:"uppercase",color:"var(--text-tertiary)",textDecoration:"none",opacity:.6},children:"Terms"}),p.jsx("a",{href:"https://sentinelauthority.org/privacy.html",target:"_blank",rel:"noreferrer noopener",style:{fontFamily:"var(--mono, monospace)",fontSize:"9px",letterSpacing:"0.06em",textTransform:"uppercase",color:"var(--text-tertiary)",textDecoration:"none",opacity:.6},children:"Privacy"})]})]})]}),p.jsxs("div",{style:{marginLeft:r?0:"220px",position:"relative",zIndex:10},children:[p.jsxs("header",{style:{height:"72px",display:"flex",alignItems:"center",padding:"0 20px",gap:"14px",borderBottom:`1px solid ${R.borderColor}`,background:R.background,backdropFilter:R.backdropFilter,WebkitBackdropFilter:R.WebkitBackdropFilter,position:"sticky",top:0,zIndex:30},children:[r&&p.jsx("button",{onClick:()=>i(!s),style:{color:T.textTertiary,background:"none",border:"none",cursor:"pointer",padding:"4px"},children:p.jsx(_h,{size:16})}),p.jsx("div",{style:{flex:1}}),p.jsx("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noreferrer noopener",style:{fontFamily:T.mono,fontSize:"11px",letterSpacing:"1.5px",textTransform:"uppercase",textDecoration:"none",color:"#1d1a3b",padding:"7px 14px",border:"1px solid rgba(15,16,33,0.25)",borderRadius:"4px",transition:"border-color 150ms ease",whiteSpace:"nowrap"},onMouseEnter:w=>w.currentTarget.style.borderColor="rgba(15,16,33,0.6)",onMouseLeave:w=>w.currentTarget.style.borderColor="rgba(15,16,33,0.25)",children:"PUBLIC SITE"}),p.jsxs("div",{style:{position:"relative"},children:[p.jsxs("button",{onClick:()=>h(!m),style:{background:"none",border:"none",cursor:"pointer",padding:"6px",color:m?T.purpleBright:T.textTertiary,position:"relative"},children:[p.jsx(Sh,{size:15,strokeWidth:1.5}),g>0&&p.jsx("span",{style:{position:"absolute",top:"1px",right:"1px",minWidth:"13px",height:"13px",borderRadius:"50%",background:T.accentRed,color:"#fff",fontSize:"8px",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:T.mono,padding:"0 2px"},children:g>9?"9+":g})]}),m&&p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:()=>h(!1),style:{position:"fixed",inset:0,zIndex:90}}),p.jsxs("div",{style:{position:"absolute",right:0,top:"44px",width:"min(340px, 90vw)",maxHeight:"70vh",overflowY:"auto",background:R.background,backdropFilter:R.backdropFilter,WebkitBackdropFilter:R.WebkitBackdropFilter,border:`1px solid ${R.borderColor}`,zIndex:100},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 16px",borderBottom:`1px solid ${R.borderColor}`},children:[p.jsx("span",{style:{fontFamily:T.mono,fontSize:"10px",fontWeight:500,letterSpacing:"0.06em",textTransform:"uppercase",color:T.textTertiary},children:"Notifications"}),g>0&&p.jsx("button",{onClick:S,style:{background:"none",border:"none",color:T.purpleBright,fontFamily:T.mono,fontSize:"10px",letterSpacing:"0.06em",cursor:"pointer",padding:0},children:"Mark all read"})]}),d.length===0?p.jsx("div",{style:{padding:"32px 16px",textAlign:"center",color:T.textDim,fontSize:"12px",fontFamily:T.mono},children:"No recent activity"}):d.map((w,B)=>{const U={success:T.accentGreen,warning:T.accentAmber,info:T.purpleBright,error:T.accentRed}[w.type]||T.purpleBright;return p.jsx("div",{onClick:()=>{w.resource_type==="application"&&w.resource_id&&(h(!1),window.location.href=`/applications/${w.resource_id}`)},style:{padding:"10px 16px",borderBottom:`1px solid ${T.borderSubtle}`,cursor:w.resource_id?"pointer":"default"},children:p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"flex-start"},children:[p.jsx("span",{style:{display:"inline-block",width:"4px",height:"4px",borderRadius:"50%",background:U,marginTop:"7px",flexShrink:0}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("p",{style:{margin:"0 0 3px",fontSize:"13px",color:w.read?T.textSecondary:T.textPrimary,lineHeight:1.4},children:w.message}),p.jsxs("span",{style:{fontFamily:T.mono,fontSize:"10px",color:T.textDim},children:[Ak(w.timestamp),w.user_email?"  "+w.user_email:""]})]})]})},w.id||B)})]})]})]})]}),p.jsx(Pk,{pathname:l.pathname}),p.jsx("main",{style:{padding:"clamp(16px, 3vw, 32px)",position:"relative",zIndex:1},children:e})]}),p.jsx(Rk,{})]})}const zn={background:"linear-gradient(90deg, rgba(0,0,0,0.04) 25%, rgba(0,0,0,0.08) 50%, rgba(0,0,0,0.04) 75%)",backgroundSize:"200% 100%",animation:"sa-shimmer 1.5s ease infinite",borderRadius:0};function Mk({style:e={}}){return p.jsxs("div",{style:{padding:"20px 16px",borderBottom:"1px solid rgba(0,0,0,0.06)",...e},children:[p.jsx("div",{style:{...zn,width:60,height:8,marginBottom:12}}),p.jsx("div",{style:{...zn,width:80,height:24,marginBottom:8}}),p.jsx("div",{style:{...zn,width:"70%",height:8}})]})}function Nk({rows:e=5}){return p.jsxs("div",{style:{padding:"16px 0"},children:[p.jsx("div",{style:{display:"flex",gap:16,marginBottom:12,padding:"0 0 10px",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[80,120,100,60].map((t,n)=>p.jsx("div",{style:{...zn,width:t,height:8}},n))}),Array.from({length:e}).map((t,n)=>p.jsx("div",{style:{display:"flex",gap:16,padding:"12px 0",borderBottom:"1px solid rgba(0,0,0,0.04)"},children:[80,120,100,60].map((r,s)=>p.jsx("div",{style:{...zn,width:r+Math.random()*40,height:10}},s))},n))]})}function Dk(){return p.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"24px 0"},children:[p.jsx("div",{style:{...zn,width:200,height:24,marginBottom:32}}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:32},children:Array.from({length:5}).map((e,t)=>p.jsx(Mk,{},t))}),p.jsx(Nk,{rows:4})]})}function Lk(){const{login:e,register:t}=Ai(),n=Xa(),[r,s]=v.useState(!1),[i,o]=v.useState(""),[a,c]=v.useState({email:"",password:"",full_name:"",organization_name:""}),[u,l]=v.useState(!1),[d,f]=v.useState(!1),[m,h]=v.useState(""),[g,y]=v.useState(!1),S=async I=>{var _,A,M,E;I.preventDefault(),o("");try{r?await t(a):await e(a.email,a.password),n("/dashboard")}catch(R){((A=(_=R.response)==null?void 0:_.data)==null?void 0:A.detail)==="2FA_REQUIRED"?f(!0):o(((E=(M=R.response)==null?void 0:M.data)==null?void 0:E.detail)||"Authentication failed")}},k=async I=>{var _,A;I.preventDefault(),y(!0),o("");try{await e(a.email,a.password,m),n("/dashboard")}catch(M){o(((A=(_=M.response)==null?void 0:_.data)==null?void 0:A.detail)||"Invalid code")}finally{y(!1)}};return p.jsx("div",{"data-page":"login",children:p.jsx("div",{id:"sa-login",children:p.jsxs("div",{className:"sa-wrap",children:[p.jsxs("div",{className:`sa-card${r?" register":""}`,children:[p.jsxs("div",{className:"sa-brand",children:[p.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("circle",{cx:"50",cy:"50",r:"46",stroke:"#1d1a3b",strokeWidth:"5",fill:"white"}),p.jsx("circle",{cx:"50",cy:"50",r:"39",stroke:"#1d1a3b",strokeWidth:"1.5",strokeOpacity:"0.20",fill:"none"}),p.jsx("text",{x:"50",y:"64",textAnchor:"middle",fontFamily:"'League Spartan', Arial, sans-serif",fontWeight:"900",fontSize:"38",fill:"#1d1a3b",letterSpacing:"-1",children:"SA"})]}),p.jsx("span",{className:"sa-brand-name",children:"Sentinel Authority"})]}),p.jsx("h1",{className:"sa-title",children:d?p.jsxs(p.Fragment,{children:["Two-Factor ",p.jsx("em",{children:"Auth"})]}):r?p.jsxs(p.Fragment,{children:["Create ",p.jsx("em",{children:"Account"})]}):p.jsxs(p.Fragment,{children:["Sign ",p.jsx("em",{children:"In"})]})}),p.jsx("p",{className:"sa-lead",children:d?"Enter the 6-digit code from your authenticator app to complete sign-in.":"Access the ODDC certification portal. Manage applications, certificates, and ENVELO Interlock."}),d?p.jsxs("div",{children:[i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:k,children:[p.jsx("input",{className:"sa-2fa-input",type:"text",value:m,onChange:I=>h(I.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,autoFocus:!0}),p.jsx("button",{className:"sa-submit",type:"submit",disabled:g||m.length!==6,children:g?"Verifying":"Verify "})]}),p.jsxs("button",{className:"sa-ghost",onClick:()=>{f(!1),h(""),o("")},children:[""," Back to sign in"]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"sa-tabs",children:[p.jsx("button",{className:`sa-tab ${r?"":"active"}`,onClick:()=>{s(!1),o("")},type:"button",children:"Sign In"}),p.jsx("button",{className:`sa-tab ${r?"active":""}`,onClick:()=>{s(!0),o("")},type:"button",children:"Register"})]}),i&&p.jsx("p",{className:"sa-error",children:i}),p.jsxs("form",{onSubmit:S,children:[r&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Full Name"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Jane Smith",value:a.full_name,onChange:I=>c({...a,full_name:I.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Organization"}),p.jsx("input",{className:"sa-input",type:"text",placeholder:"Acme Robotics Inc.",value:a.organization_name,onChange:I=>c({...a,organization_name:I.target.value}),required:!0})]})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Email Address"}),p.jsx("input",{className:"sa-input",type:"email",placeholder:"you@company.com",value:a.email,onChange:I=>c({...a,email:I.target.value}),required:!0})]}),p.jsxs("div",{className:"sa-field",children:[p.jsx("label",{className:"sa-field-label",children:"Password"}),p.jsxs("div",{className:"sa-pw-wrap",children:[p.jsx("input",{className:"sa-input",type:u?"text":"password",placeholder:"".repeat(12),value:a.password,onChange:I=>c({...a,password:I.target.value}),required:!0}),p.jsx("button",{className:"sa-pw-toggle",type:"button",onClick:()=>l(!u),children:u?p.jsx(bh,{size:16}):p.jsx(Eh,{size:16})})]})]}),p.jsx("button",{className:"sa-submit",type:"submit",children:r?"Create Account ":"Sign In "})]}),!r&&p.jsx("button",{className:"sa-ghost",onClick:()=>{},children:"Forgot password?"})]})]}),p.jsx("hr",{className:"sa-sep"}),p.jsxs("div",{className:"sa-footer",children:[p.jsx("a",{href:"https://sentinelauthority.org",target:"_blank",rel:"noreferrer noopener",className:"sa-footer-text",style:{textDecoration:"none"},children:" Public Site"}),p.jsxs("div",{style:{display:"flex",gap:"16px"},children:[p.jsx("a",{href:"https://sentinelauthority.org/privacy.html",children:"Privacy"}),p.jsx("a",{href:"https://sentinelauthority.org/terms.html",children:"Terms"})]})]})]})})})}const Fk=v.lazy(()=>Ie(()=>import("./DashboardPage-BQhvcWWl.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.RoleBasedDashboard}))),jk=v.lazy(()=>Ie(()=>import("./ApplicationsList-C0dCi8aX.js"),__vite__mapDeps([6,1,7,2,8,4,5]))),Bk=v.lazy(()=>Ie(()=>import("./NewApplication-BnNdqIqg.js"),__vite__mapDeps([9,1,2,8,5]))),Uk=v.lazy(()=>Ie(()=>import("./ApplicationDetail-CCJ_6bOI.js"),__vite__mapDeps([10,1,7,2,8,5]))),$k=v.lazy(()=>Ie(()=>import("./CAT72Console-DXEUoUEl.js"),__vite__mapDeps([11,1,2,5]))),Hk=v.lazy(()=>Ie(()=>import("./CertificatesPage-IT-U35yl.js"),__vite__mapDeps([12,1,7,2,13,8,5]))),zk=v.lazy(()=>Ie(()=>import("./VerifyPage-9A7ipUc9.js"),__vite__mapDeps([14,1,2,5]))),Wk=v.lazy(()=>Ie(()=>import("./PendingPage-CPd4N72M.js"),__vite__mapDeps([15,1,5]))),qk=v.lazy(()=>Ie(()=>import("./ResourcesPage-bLmojfMJ.js"),__vite__mapDeps([16,1,5]))),Vk=v.lazy(()=>Ie(()=>import("./EnveloPage-Dy2CLcHV.js"),__vite__mapDeps([17,1,2,18,5]))),Gk=v.lazy(()=>Ie(()=>import("./MonitoringPage-DEZ69gvT.js"),__vite__mapDeps([19,1,7,2,5]))),Kk=v.lazy(()=>Ie(()=>import("./UserManagementPage-ChUsGwB1.js"),__vite__mapDeps([20,1,2,18,3,5]))),Yk=v.lazy(()=>Ie(()=>import("./LicenseesPage-CNnIfXRF.js"),__vite__mapDeps([21,1,2,5]))),Jk=v.lazy(()=>Ie(()=>import("./ActivityPage-CvcB53IT.js"),__vite__mapDeps([22,1,7,2,18,13,5]))),Xk=v.lazy(()=>Ie(()=>import("./MyActivityPage-BRFUKzpo.js"),__vite__mapDeps([23,1,2,18,5]))),Qk=v.lazy(()=>Ie(()=>import("./SettingsPage-Dxtadkvp.js"),__vite__mapDeps([24,1,5]))),Zk=v.lazy(()=>Ie(()=>import("./NotFoundPage-pxwbwKxh.js"),__vite__mapDeps([25,1,5]))),eR=v.lazy(()=>Ie(()=>import("./ApiDocsPage-BkVjyST6.js"),__vite__mapDeps([26,1,5])));function xe({children:e}){return p.jsx(v.Suspense,{fallback:p.jsx(Dk,{}),children:e})}function tR(){return p.jsx($w,{children:p.jsx(bk,{children:p.jsx(UT,{children:p.jsx(Ek,{children:p.jsx(Sk,{children:p.jsxs(MT,{children:[p.jsx(ye,{path:"/login",element:p.jsx(Lk,{})}),p.jsx(ye,{path:"/verify",element:p.jsx(xe,{children:p.jsx(zk,{})})}),p.jsx(ye,{path:"/dashboard",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Fk,{})})})})}),p.jsx(ye,{path:"/applications",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(jk,{})})})})}),p.jsx(ye,{path:"/applications/new",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Bk,{})})})})}),p.jsx(ye,{path:"/applications/:id",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Uk,{})})})})}),p.jsx(ye,{path:"/cat72",element:p.jsx(Oe,{roles:["admin","operator","applicant"],children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx($k,{})})})})}),p.jsx(ye,{path:"/certificates",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Hk,{})})})})}),p.jsx(ye,{path:"/pending",element:p.jsx(xe,{children:p.jsx(Wk,{})})}),p.jsx(ye,{path:"/resources",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(qk,{})})})})}),p.jsx(ye,{path:"/monitoring",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Gk,{})})})})}),p.jsx(ye,{path:"/envelo",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Vk,{})})})})}),p.jsx(ye,{path:"/activity",element:p.jsx(Oe,{roles:["admin"],children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Jk,{})})})})}),p.jsx(ye,{path:"/my-activity",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Xk,{})})})})}),p.jsx(ye,{path:"/settings",element:p.jsx(Oe,{children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Qk,{})})})})}),p.jsx(ye,{path:"/api-docs",element:p.jsx(Oe,{roles:["admin"],children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(eR,{})})})})}),p.jsx(ye,{path:"/licensees",element:p.jsx(Oe,{roles:["admin"],children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Yk,{})})})})}),p.jsx(ye,{path:"/users",element:p.jsx(Oe,{roles:["admin"],children:p.jsx(Pe,{children:p.jsx(xe,{children:p.jsx(Kk,{})})})})}),p.jsx(ye,{path:"/",element:p.jsx(Wo,{to:"/dashboard"})}),p.jsx(ye,{path:"*",element:p.jsx(xe,{children:p.jsx(Zk,{})})})]})})})})})})}Mw({dsn:"undefined",environment:"production",integrations:[Rw(),uw({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.05,replaysOnErrorSampleRate:1});const nR=new nm({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchInterval:3e4},mutations:{onError:e=>hi(e)}}});oo.createRoot(document.getElementById("root")).render(p.jsx(Rt.StrictMode,{children:p.jsx(jw,{fallback:p.jsx("div",{style:{padding:"40px",textAlign:"center",fontFamily:"monospace",fontSize:"13px",color:"#666"},children:"Something went wrong. The team has been notified."}),children:p.jsx(rm,{client:nR,children:p.jsx(tR,{})})})}));export{OR as A,Go as L,ui as S,PR as a,Xa as b,Qe as c,MR as d,cR as e,dR as f,lR as g,vk as h,oR as i,p as j,co as k,li as l,Nh as m,st as n,ao as o,Wh as p,Nl as q,Lh as r,T as s,Dh as t,Ai as u,Jh as v,Bh as w,Ne as x,aR as y,Jp as z};
