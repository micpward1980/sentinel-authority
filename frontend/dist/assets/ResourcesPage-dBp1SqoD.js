import{a as g,d,j as e}from"./index-CxeiBu31.js";import{r,b as f}from"./icons-DL0PQMVt.js";import"./vendor-DYB3FAiG.js";function b(){const{user:a}=g(),[i,c]=r.useState([]),[p,s]=r.useState(!0);r.useEffect(()=>{d.get("/api/documents/").then(o=>{c(Array.isArray(o.data)?o.data:[]),s(!1)}).catch(()=>s(!1))},[]);const x=async(o,m)=>{try{const n=await d.get("/api/documents/"+o+"/download",{responseType:"blob"}),l=window.URL.createObjectURL(n.data),t=document.createElement("a");t.href=l,t.download=m.replace(/\s+/g,"_")+".pdf",document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(l)}catch(n){console.error("Download error:",n)}};return e.jsxs("div",{style:{maxWidth:"900px"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsx("p",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",letterSpacing:"4px",textTransform:"uppercase",color:"#a896d6",marginBottom:"8px"},children:"RESOURCES"}),e.jsx("h1",{style:{fontFamily:"Georgia, 'Source Serif 4', serif",fontSize:"clamp(24px, 4vw, 32px)",fontWeight:200,letterSpacing:"-0.02em",color:"rgba(255,255,255,.94)",margin:0},children:"Documents & Guides"}),e.jsx("p",{style:{color:"rgba(255,255,255,.50)",marginTop:"8px",fontSize:"14px"},children:"Reference materials for the ODDC certification process."})]}),p?e.jsx("div",{style:{color:"rgba(255,255,255,.50)",fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"12px"},children:"Loading documents..."}):i.length===0?e.jsx("div",{style:{padding:"clamp(16px, 4vw, 40px)",textAlign:"center",border:"1px solid rgba(255,255,255,.07)",background:"#2a2f3d",color:"rgba(255,255,255,.50)"},children:"No documents available."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:i.map(o=>e.jsxs("div",{style:{padding:"24px",border:"1px solid rgba(255,255,255,.07)",background:"#2a2f3d",display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",background:"#5B4B8A22",border:"1px solid #5B4B8A44",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(f,{fill:"currentColor",fillOpacity:.15,strokeWidth:1.8,style:{width:"22px",height:"22px",color:"#a896d6"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:600,color:"rgba(255,255,255,.94)",fontSize:"15px",marginBottom:"4px"},children:o.title}),e.jsx("div",{style:{color:"rgba(255,255,255,.50)",fontSize:"13px",lineHeight:"1.4"},children:o.description}),e.jsx("div",{style:{fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"9px",color:"rgba(255,255,255,.50)",marginTop:"6px",letterSpacing:"1px",textTransform:"uppercase"},children:"PDF â€¢ v"+o.version})]}),e.jsx("button",{onClick:()=>x(o.id,o.title),style:{padding:"10px 20px",background:"#5B4B8A",border:"1px solid #a896d6",color:"rgba(255,255,255,.94)",fontFamily:"Consolas, 'IBM Plex Mono', monospace",fontSize:"11px",letterSpacing:"1px",textTransform:"uppercase",cursor:"pointer",flexShrink:0},children:"Download"})]},o.id))}),a&&a.role==="admin"&&e.jsx("div",{style:{marginTop:"40px",padding:"20px",border:"1px dashed rgba(255,255,255,.07)",color:"rgba(255,255,255,.50)",fontSize:"12px",fontFamily:"Consolas, 'IBM Plex Mono', monospace"},children:"ADMIN: To add documents, place PDFs in backend/static/documents/ and register them in documents.py"})]})}export{b as default};
