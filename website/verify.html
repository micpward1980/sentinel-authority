<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Verify Conformance — Sentinel Authority</title>
  <meta name="description" content="Verify ODDC conformance records and audit log integrity.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect x='6' y='6' width='20' height='20' rx='5' fill='%235B4B8A' stroke='%239d8ccf' stroke-width='2'/><circle cx='16' cy='16' r='4' fill='%239d8ccf'/></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@200;300;400&family=Inter:wght@200;400;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root{
      --purple-primary:#5B4B8A;--purple-bright:#9d8ccf;--bg-deep:#2a2f3d;--bg-panel:rgba(255,255,255,.05);
      --accent-green:#5CD685;--accent-red:#D65C5C;--accent-amber:#D6A05C;
      --text-primary:rgba(255,255,255,.94);--text-secondary:rgba(255,255,255,.75);--text-tertiary:rgba(255,255,255,.50);
      --border-glass:rgba(255,255,255,.10);--serif:'Source Serif 4',serif;--mono:'IBM Plex Mono',monospace;
      --sans:'Inter',system-ui,sans-serif;--space-1:10px;--space-2:20px;--space-3:30px;--space-4:40px;--max:800px;--nav-height:72px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth;background:var(--bg-deep)}
    body{margin:0;font-family:var(--sans);background:radial-gradient(1200px 700px at 15% 10%,rgba(91,75,138,.15),transparent 55%),radial-gradient(900px 600px at 85% 80%,rgba(92,214,133,.06),transparent 55%),var(--bg-deep);color:var(--text-primary);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}a:hover{text-decoration:underline;text-underline-offset:4px}
    .site-header{position:fixed;top:0;width:100%;z-index:50;padding:0 var(--space-2);height:var(--nav-height);border-bottom:1px solid rgba(255,255,255,.10);background:rgba(42,47,61,.88);backdrop-filter:blur(18px);display:flex;align-items:center}
    .nav-inner{max-width:var(--max);margin:0 auto;width:100%;display:flex;align-items:center;justify-content:space-between;gap:var(--space-2)}
    .brand{display:flex;align-items:center;gap:var(--space-1);text-decoration:none}.brand:hover{text-decoration:none}
    .brand-mark{width:24px;height:24px;background:var(--purple-primary);border:2px solid var(--purple-bright);border-radius:6px;display:flex;align-items:center;justify-content:center}
    .brand-mark-inner{width:8px;height:8px;background:#c4b8e8;border-radius:50%}
    .brand-name{font-family:var(--mono);font-size:10px;letter-spacing:3px;text-transform:uppercase;color:rgba(255,255,255,.86)}
    .back-link{font-family:var(--mono);font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--text-tertiary);transition:color .2s ease}.back-link:hover{color:var(--text-primary);text-decoration:none}
    main{position:relative;z-index:1;max-width:var(--max);margin:0 auto;padding:calc(var(--nav-height) + 60px) var(--space-2) 60px}
    .page-header{margin-bottom:var(--space-4)}
    .page-kicker{font-family:var(--mono);font-size:10px;letter-spacing:5px;text-transform:uppercase;color:var(--purple-bright);margin-bottom:12px}
    .page-title{font-family:var(--serif);font-size:clamp(32px,5vw,44px);font-weight:200;line-height:1.1;margin:0 0 var(--space-2);letter-spacing:-0.03em}
    .page-desc{color:var(--text-secondary);font-weight:200;line-height:1.75;font-size:16px;max-width:60ch}
    .panel{background:var(--bg-panel);border:1px solid var(--border-glass);border-radius:18px;padding:var(--space-3) 28px;backdrop-filter:blur(18px);position:relative;overflow:hidden;margin-bottom:var(--space-3)}
    .panel h2{margin:0 0 var(--space-2);font-family:var(--mono);font-size:11px;letter-spacing:4px;text-transform:uppercase;color:rgba(255,255,255,.85)}
    .panel p{color:var(--text-secondary);font-size:14px;line-height:1.7;margin:0 0 var(--space-2)}.panel p:last-child{margin-bottom:0}
    .verify-input{width:100%;padding:14px 16px;background:rgba(255,255,255,.04);border:1px solid var(--border-glass);border-radius:10px;color:var(--text-primary);font-family:var(--mono);font-size:13px;margin-bottom:var(--space-2)}
    .verify-input:focus{outline:none;border-color:rgba(157,140,207,.55)}.verify-input::placeholder{color:var(--text-tertiary)}
    .verify-btn{appearance:none;border:1px solid rgba(157,140,207,.55);background:rgba(91,75,138,.18);color:var(--text-primary);padding:12px 24px;border-radius:10px;font-family:var(--mono);font-size:10px;letter-spacing:2px;text-transform:uppercase;cursor:pointer;transition:transform .2s,border-color .2s,background .2s}
    .verify-btn:hover{transform:translateY(-1px);border-color:rgba(157,140,207,.85);background:rgba(91,75,138,.26)}
    .verify-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}
    .steps{list-style:none;padding:0;margin:0;counter-reset:step}
    .steps li{counter-increment:step;display:flex;align-items:flex-start;gap:14px;padding:14px 0;border-bottom:1px solid var(--border-glass)}.steps li:last-child{border-bottom:none}
    .step-num{font-family:var(--mono);font-size:11px;color:var(--purple-bright);min-width:24px}.step-num::before{content:counter(step)}
    .step-text{color:var(--text-secondary);font-size:14px;line-height:1.6}
    footer{border-top:1px solid var(--border-glass);padding:var(--space-4) 0;margin-top:var(--space-4);color:rgba(255,255,255,.45);font-family:var(--mono);font-size:10px;letter-spacing:1px}
    .footer-inner{max-width:var(--max);margin:0 auto;padding:0 var(--space-2);display:flex;justify-content:space-between;align-items:center;gap:var(--space-2);flex-wrap:wrap}
    .footer-inner a{color:var(--purple-bright)}
    
    /* Result styles */
    #verify-result{display:none;margin-top:var(--space-2)}
    .result-success{background:rgba(92,214,133,.1);border:1px solid rgba(92,214,133,.3);border-radius:12px;padding:var(--space-2)}
    .result-error{background:rgba(214,92,92,.1);border:1px solid rgba(214,92,92,.3);border-radius:12px;padding:var(--space-2)}
    .result-header{display:flex;align-items:center;gap:12px;margin-bottom:var(--space-2)}
    .result-icon{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px}
    .result-icon.valid{background:var(--accent-green);color:#fff}
    .result-icon.invalid{background:var(--accent-red);color:#fff}
    .result-title{font-family:var(--mono);font-size:11px;letter-spacing:2px;text-transform:uppercase}
    .result-title.valid{color:var(--accent-green)}
    .result-title.invalid{color:var(--accent-red)}
    .result-grid{display:grid;gap:12px}
    .result-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border-glass)}
    .result-row:last-child{border-bottom:none}
    .result-label{font-size:13px;color:var(--text-tertiary)}
    .result-value{font-size:13px;color:var(--text-primary);text-align:right}
    .result-value.status{font-family:var(--mono);font-size:11px;letter-spacing:1px;text-transform:uppercase;padding:4px 8px;border-radius:4px}
    .result-value.status.conformant{background:rgba(92,214,133,.15);color:var(--accent-green)}
    .result-value.status.suspended{background:rgba(214,160,92,.15);color:var(--accent-amber)}
    .result-value.status.revoked{background:rgba(214,92,92,.15);color:var(--accent-red)}
    .loading{display:inline-block;width:16px;height:16px;border:2px solid var(--border-glass);border-top-color:var(--purple-bright);border-radius:50%;animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>
</head>
<body>
  <header class="site-header">
    <nav class="nav-inner">
      <a href="index.html" class="brand">
        <div class="brand-mark"><div class="brand-mark-inner"></div></div>
        <span class="brand-name">Sentinel Authority</span>
      </a>
      <a href="index.html" class="back-link">← Back</a>
    </nav>
  </header>
  <main>
    <header class="page-header">
      <div class="page-kicker">Public Registry</div>
      <h1 class="page-title">Verify Conformance</h1>
      <p class="page-desc">Verify ODDC certification status for any conformance record issued by Sentinel Authority.</p>
    </header>
    <div class="panel">
      <h2>Verify a Certificate</h2>
      <p>Enter a certificate number to verify its authenticity and current status.</p>
      <input type="text" id="cert-input" class="verify-input" placeholder="e.g., ODDC-2026-00001">
      <button id="verify-btn" class="verify-btn" onclick="verifyCertificate()">Verify Certificate</button>
      <p style="font-size:12px;color:var(--text-tertiary);margin-top:var(--space-2)">Verification is performed against the Sentinel Authority registry in real-time.</p>
      
      <div id="verify-result"></div>
    </div>
    <div class="panel">
      <h2>Verification Protocol</h2>
      <p>ODDC conformance records are designed to be independently verifiable. The verification protocol ensures record integrity and authenticity.</p>
      <ol class="steps">
        <li><span class="step-num"></span><span class="step-text">Obtain the certificate number from the operator or their ODDC certificate.</span></li>
        <li><span class="step-num"></span><span class="step-text">Enter the certificate number above to query the Sentinel Authority registry.</span></li>
        <li><span class="step-num"></span><span class="step-text">Review the certification status, scope, and validity period.</span></li>
        <li><span class="step-num"></span><span class="step-text">Contact Sentinel Authority for detailed audit records if required.</span></li>
      </ol>
    </div>
    <div class="panel">
      <h2>For Insurers & Regulators</h2>
      <p>ODDC certificates provide evidence of operational design domain conformance for autonomous systems. Each certificate includes the certified ODD scope, CAT-72 test results, and ENVELO enforcement status.</p>
      <p>For bulk verification, audit log access, or API integration, contact <a href="mailto:conformance@sentinelauthority.com" style="color:var(--purple-bright)">conformance@sentinelauthority.com</a>.</p>
    </div>
  </main>
  <footer>
    <div class="footer-inner">
      <div>© <span id="year"></span> Sentinel Authority — ODDC Conformance</div>
      <a href="mailto:info@sentinelauthority.com">info@sentinelauthority.com</a>
    </div>
  </footer>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
    
    // Allow Enter key to trigger verification
    document.getElementById("cert-input").addEventListener("keypress", function(e) {
      if (e.key === "Enter") verifyCertificate();
    });
    
    async function verifyCertificate() {
      const input = document.getElementById("cert-input");
      const btn = document.getElementById("verify-btn");
      const resultDiv = document.getElementById("verify-result");
      const certNumber = input.value.trim();
      
      if (!certNumber) {
        input.focus();
        return;
      }
      
      // Show loading state
      btn.disabled = true;
      btn.innerHTML = '<span class="loading"></span> Verifying...';
      resultDiv.style.display = "none";
      
      try {
        const response = await fetch(`https://api.sentinelauthority.org/api/verify/${encodeURIComponent(certNumber)}`);
        
        if (response.ok) {
          const data = await response.json();
          if (data.status === 'NOT_FOUND' || data.valid === false) {
            showError("Certificate not found in registry.");
          } else {
            showSuccess(data);
          }
        } else if (response.status === 404) {
          showError("Certificate not found in registry.");
        } else {
          showError("Verification failed. Please try again.");
        }
      } catch (error) {
        showError("Unable to connect to registry. Please try again later.");
      }
      
      // Reset button
      btn.disabled = false;
      btn.innerHTML = "Verify Certificate";
    }
    
    function showSuccess(data) {
      const resultDiv = document.getElementById("verify-result");
      const status = (data.status || "CONFORMANT").toLowerCase();
      const expiresDate = data.expires_at ? new Date(data.expires_at).toLocaleDateString("en-US", {year: "numeric", month: "long", day: "numeric"}) : "—";
      const issuedDate = data.issued_at ? new Date(data.issued_at).toLocaleDateString("en-US", {year: "numeric", month: "long", day: "numeric"}) : "—";
      
      resultDiv.innerHTML = `
        <div class="result-success">
          <div class="result-header">
            <div class="result-icon valid">✓</div>
            <span class="result-title valid">Valid Certificate</span>
          </div>
          <div class="result-grid">
            <div class="result-row">
              <span class="result-label">Certificate Number</span>
              <span class="result-value" style="font-family:var(--mono);color:var(--purple-bright)">${data.certificate_number || "—"}</span>
            </div>
            <div class="result-row">
              <span class="result-label">Organization</span>
              <span class="result-value">${data.organization_name || "—"}</span>
            </div>
            <div class="result-row">
              <span class="result-label">System</span>
              <span class="result-value">${data.system_name || "—"}</span>
            </div>
            <div class="result-row">
              <span class="result-label">Status</span>
              <span class="result-value status ${status}">${data.status || "CONFORMANT"}</span>
            </div>
            <div class="result-row">
              <span class="result-label">Issued</span>
              <span class="result-value">${issuedDate}</span>
            </div>
            <div class="result-row">
              <span class="result-label">Expires</span>
              <span class="result-value">${expiresDate}</span>
            </div>
          </div>
        </div>
      `;
      resultDiv.style.display = "block";
    }
    
    function showError(message) {
      const resultDiv = document.getElementById("verify-result");
      resultDiv.innerHTML = `
        <div class="result-error">
          <div class="result-header">
            <div class="result-icon invalid">✗</div>
            <span class="result-title invalid">Not Found</span>
          </div>
          <p style="margin:0;color:var(--text-secondary);font-size:14px">${message}</p>
        </div>
      `;
      resultDiv.style.display = "block";
    }
  </script>
</body>
</html>
updated
